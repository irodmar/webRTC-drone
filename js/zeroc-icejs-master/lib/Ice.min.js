(function(k){var a=k.Ice||{};a.Class=function(){var a,c,f;1==arguments.length?c=arguments[0]:2==arguments.length&&(a=arguments[0],c=arguments[1]);void 0!==c&&(f=c.__init__)&&delete c.__init__;f=f||function(){};void 0!==a&&(f.prototype=new a,f.prototype.constructor=f);if(void 0!==c)for(var g in c)f.prototype[g]=c[g];return f};k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=k.Slice||{};b.defineSequence=function(c,b,g,d,l){var m=null;Object.defineProperty(c,b,{get:function(){null===m&&(m=a.StreamHelpers.generateSeqHelper(eval(g),d,eval(l)));return m}})};a.ArrayUtil={clone:function(a){return void 0===a?a:null===a?[]:a.slice()},equals:function(a,b,g){var d,l;if(a.length!=b.length)return!1;if(void 0!==g&&null!==g)for(d=0,l=a.length;d<l;++d){if(!g.call(g,a[d],b[d]))return!1}else for(d=0,l=a.length;d<l;++d)if(a[d]!=b[d])return!1;return!0},shuffle:function(a){for(var b=
a.length;1<b;--b){var g=a[b-1],d=Math.floor(Math.random()*b);a[b-1]=a[d];a[d]=g}},indexOf:function(a,b,g){if(void 0!==g&&null!==g)for(var d=0;d<a.length;++d){if(g.call(g,a[d],b))return d}else return a.indexOf(b);return-1},filter:function(a,b,g){g=void 0===g?b:g;for(var d=[],l=0;l<a.length;++l)b.call(g,a[l],l,a)&&d.push(a[l]);return d}};k.Slice=b;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{};a.DispatchStatus={DispatchOK:0,DispatchUserException:1,DispatchAsync:2};k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Slice||{},b=k.Ice||{},c=b.Class({__init__:function(a,c){this._name=a;this._value=c},equals:function(a){if(this===a)return!0;var c=Object.getPrototypeOf(this);return a instanceof c.constructor?this._value==a._value:!1},hashCode:function(){return this._value},toString:function(){return this._name}}),f=c.prototype;Object.defineProperty(f,"name",{enumerable:!0,get:function(){return this._name}});Object.defineProperty(f,"value",{enumerable:!0,get:function(){return this._value}});var g=
b.Class({__init__:function(a){this._enumType=a},write:function(a,c){this._enumType.__write(a,c)},writeOpt:function(a,c,g){this._enumType.__writeOpt(a,c,g)},read:function(a){return this._enumType.__read(a)},readOpt:function(a,c){return this._enumType.__readOpt(a,c)}});b.EnumHelper=g;var d=function(a,c){a.writeEnum(c)},l=function(a,c,g){a.writeOptValue(c,b.OptionalFormat.Size,b.BasicStream.prototype.writeEnum,g)};a.defineEnum=function(a){var h=function(a,g){c.call(this,a,g)};h.prototype=new c;h.prototype.constructor=
h;var e=[],b=0,p;for(p in a){var t=a[p],f=new h(p,t);e[t]=f;Object.defineProperty(h,p,{enumerable:!0,value:f});t>b&&(b=t)}Object.defineProperty(h,"minWireSize",{get:function(){return 1}});h.__write=d;h.__read=function(a){return a.readEnum(h)};h.__writeOpt=l;h.__readOpt=function(a,c){return a.readOptEnum(c,h)};h.__helper=new g(h);Object.defineProperty(h,"valueOf",{value:function(a){return void 0===a?h:e[a]}});Object.defineProperty(h,"maxValue",{value:b});Object.defineProperty(h.prototype,"maxValue",
{value:b});return h};b.EnumBase=c;k.Slice=a;k.Ice=b})("undefined"===typeof global?window:global);
(function(k){function a(a,c,l){switch(a){case 92:c.push("\\\\");break;case 39:c.push("\\'");break;case 34:c.push('\\"');break;case 8:c.push("\\b");break;case 12:c.push("\\f");break;case 10:c.push("\\n");break;case 13:c.push("\\r");break;case 9:c.push("\\t");break;default:if(32<=a&&126>=a)a=String.fromCharCode(a),null!==l&&-1!==l.indexOf(a)&&c.push("\\"),c.push(a);else{c.push("\\");l=a.toString(8);for(a=l.length;3>a;a++)c.push("0");c.push(l)}}}function b(a,c){var l=a.charCodeAt(c);if(!(32<=l&&126>=
l)){var b;b=0<c?"character after `"+a.substring(0,c)+"'":"first character";throw Error(b+(" is not a printable ASCII character (ordinal "+l+")"));}return l}function c(a,c,l,f){if(c>=l)throw Error("EOF while decoding string");if("\\"!=a.charAt(c))a=b(a,c++);else{if(c+1==l)throw Error("trailing backslash");switch(a.charAt(++c)){case "\\":case "'":case '"':a=a.charCodeAt(c++);break;case "b":++c;a=8;break;case "f":++c;a=12;break;case "n":++c;a=10;break;case "r":++c;a=13;break;case "t":++c;a=9;break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":for(var h=
0,e=0;3>e&&c<l;++e){var n=a.charAt(c++);if(-1=="01234567".indexOf(n)){--c;break}h=8*h+parseInt(n)}if(255<h)throw c="octal value \\"+h.toString(8)+" ("+h+") is out of range",Error(c);a=h;break;default:a=b(a,c++)}}f.value=c;return a}var f=k.Ice||{};f.StringUtil={findFirstOf:function(a,c,l){var b=a.length;for(l=void 0===l?0:l;l<b;l++){var h=a.charAt(l);if(-1!=c.indexOf(h))return l}return-1},findFirstNotOf:function(a,c,b){var f=a.length;for(b=void 0===b?0:b;b<f;b++){var h=a.charAt(b);if(-1==c.indexOf(h))return b}return-1},
escapeString:function(c,d){d=void 0===d?null:d;var b,f;if(null!==d)for(b=0,f=d.length;b<f;++b)if(32>d.charCodeAt(b)||126<d.charCodeAt(b))throw Error("special characters must be in ASCII range 32-126");var h=[],e;b=0;for(f=c.length;b<f;++b)e=c.charCodeAt(b),128>e?a(e,h,d):(127<e&&2048>e?a(e>>6|192,h,d):(a(e>>12|224,h,d),a(e>>6&63|128,h,d)),a(e&63|128,h,d));return h.join("")},unescapeString:function(a,d,b){b=void 0===b?a.length:b;var f=[];d=void 0===d?0:d;for(var h={value:0},e,n,p;d<b;)e=c(a,d,b,h),
d=h.value,128>e?f.push(String.fromCharCode(e)):191<e&&224>e?(n=c(a,d,b,h),d=h.value,f.push(String.fromCharCode((e&31)<<6|n&63))):(n=c(a,d,b,h),d=h.value,p=c(a,d,b,h),d=h.value,f.push(String.fromCharCode((e&15)<<12|(n&63)<<6|p&63)));return f.join("")},splitString:function(a,c){for(var b=[],f="",h=0,e=null;h<a.length;)if(null!==e||'"'!==a.charAt(h)&&"'"!==a.charAt(h)){if(null===e&&"\\"===a.charAt(h)&&h+1<a.length&&('"'===a.charAt(h+1)||"'"===a.charAt(h+1)))++h;else if(null!==e&&"\\"===a.charAt(h)&&
h+1<a.length&&a.charAt(h+1)===e)++h;else if(null!==e&&a.charAt(h)===e){++h;e=null;continue}else if(-1!==c.indexOf(a.charAt(h))&&null===e){++h;0<f.length&&(b.push(f),f="");continue}h<a.length&&(f+=a.charAt(h++))}else e=a.charAt(h++);0<f.length&&b.push(f);return null!==e?null:b},checkQuote:function(a,c){c=void 0===c?0:c;var b=a.charAt(c);if('"'==b||"'"==b){c++;for(var f=a.length,h;c<f&&-1!=(h=a.indexOf(b,c));){if("\\"!=a.charAt(h-1))return h;c=h+1}return-1}return 0},hashCode:function(a){for(var c=0,
b=a.length,f=0;f<b;f++)c=31*c+a.charCodeAt(f);return c},toInt:function(a){var c=parseInt(a,10);if(isNaN(c))throw Error("conversion of `"+a+"' to int failed");return c}};k.Ice=f})("undefined"===typeof global?window:global);
(function(k){var a=k.Slice||{},b=k.Ice||{},c=b.Class,f=c(Error,{__init__:function(a){this.ice_cause=a},ice_name:function(){return"Ice::Exception"},toString:function(){var a=this.ice_name(),c;for(c in this)if("stack"!=c&&0!==c.indexOf("_")){var b=this[c];"function"!=typeof b&&(a+="\n    "+c+': "'+b+'"')}return a}});f.captureStackTrace=function(a){var c=Error().stack;void 0!==c&&(a.ice_name&&a.ice_name().replace(/::/g,"."),Object.defineProperty(a,"stack",{get:function(){return c}}))};b.Exception=f;
var g=c(f,{__init__:function(a){f.call(this,a);f.captureStackTrace(this)},ice_name:function(){return"Ice::LocalException"}});b.LocalException=g;a.defineLocalException=function(a,c,b){a.prototype=new c;a.prototype.constructor=a;a.prototype.ice_name=function(){return b};return a};var d=c(f,{__init__:function(a){f.call(this,a);f.captureStackTrace(this)},ice_name:function(){return"Ice::UserException"},__write:function(a){a.startWriteException(null);l(this,a,this.__mostDerivedType());a.endWriteException()},
__read:function(a){a.startReadException();m(this,a,this.__mostDerivedType());a.endReadException(!1)},__usesClasses:function(){return!1}});b.UserException=d;var l=function(a,c,b){void 0!==b&&b!==d&&(c.startWriteSlice(b.__id,-1,b.__parent===d),b.prototype.__writeMemberImpl&&b.prototype.__writeMemberImpl.call(a,c),c.endWriteSlice(),l(a,c,b.__parent))},m=function(a,c,b){void 0!==b&&b!==d&&(c.startReadSlice(),b.prototype.__readMemberImpl&&b.prototype.__readMemberImpl.call(a,c),c.endReadSlice(),m(a,c,b.__parent))},
h=function(a){a.startWriteException(this.__slicedData);l(this,a,this.__mostDerivedType());a.endWriteException()},e=function(a){a.startReadException();m(this,a,this.__mostDerivedType());this.__slicedData=a.endReadException(!0)};a.defineUserException=function(a,c,b,g,d,f,l){a.__parent=c;a.prototype=new c;a.__id="::"+b;a.prototype.ice_name=function(){return b};a.prototype.constructor=a;a.prototype.__mostDerivedType=function(){return a};f&&(a.prototype.__write=h,a.prototype.__read=e);a.prototype.__writeMemberImpl=
g;a.prototype.__readMemberImpl=d;l&&(a.prototype.__usesClasses=function(){return!0});return a};k.Slice=a;k.Ice=b})("undefined"===typeof global?window:global);(function(k){var a=k.Ice||{};a.FormatType=Slice.defineEnum({DefaultFormat:0,CompactFormat:1,SlicedFormat:2});k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.StringUtil;a.HashUtil={addBoolean:function(a,b){return(a<<5)+a^(b?0:1)},addString:function(a,f){void 0!==f&&null!==f&&(a=(a<<5)+a^b.hashCode(f));return a},addNumber:function(a,b){return(a<<5)+a^b},addHashable:function(a,b){void 0!==b&&null!==b&&(a=(a<<5)+a^b.hashCode());return a},addArray:function(a,b,g){if(void 0!==b&&null!==b)for(var d=0;d<b.length;++d)a=g(a,b[d]);return a}};k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=function(a,c){var b=1===a.__state?c.onResponse:c.onException;try{if("function"!==typeof b)c.promise.setState(a.__state,a._args);else{var l=b.apply(null,a._args);l&&"function"==typeof l.then?l.then(function(){c.promise.succeed.apply(c.promise,arguments)},function(){c.promise.fail.apply(c.promise,arguments)}):c.promise.succeed(l)}}catch(m){c.promise.fail.call(c.promise,m)}},c=a.Class({__init__:function(){this.__state=0;this.__listeners=[]},then:function(a,b){var d=new c,
l=this;setTimeout(function(){l.__listeners.push({promise:d,onResponse:a,onException:b});l.resolve()},0);return d},exception:function(a){return this.then(null,a)},finally:function(a){var b=new c,d=this,l=function(c){return function(){var h=arguments;try{var e=a.apply(null,h);if(e&&"function"==typeof e.then){var d=function(){c.apply(b,h)};e.then(d).exception(d)}else c.apply(b,h)}catch(p){c.apply(b,h)}}};setTimeout(function(){d.then(l(b.succeed),l(b.fail))});return b},delay:function(a){var b=new c,d=
this,l=function(c,b){return function(){var e=arguments;setTimeout(function(){b.apply(c,e)},a)}};setTimeout(function(){d.then(l(b,b.succeed),l(b,b.fail))});return b},resolve:function(){if(0!==this.__state)for(var a;a=this.__listeners.pop();)b(this,a)},setState:function(a,c){if(0===this.__state&&0!==a){this.__state=a;this._args=c;var b=this;setTimeout(function(){b.resolve()},0)}},succeed:function(){this.setState(1,arguments);return this},fail:function(){this.setState(2,arguments);return this},succeeded:function(){return 1===
this.__state},failed:function(){return 2===this.__state},completed:function(){return 0!==this.__state}});c.all=function(){if(1===arguments.length&&arguments[0]instanceof Array)return c.all.apply(this,arguments[0]);var a=new c,b=Array.prototype.slice.call(arguments),d=Array(arguments.length),l=b.length;0===l&&a.succeed.apply(a,d);for(var m=0;m<b.length;++m)(function(c){b[c]&&"function"==typeof b[c].then?b[c].then(function(){d[c]=arguments;l--;0===l&&a.succeed.apply(a,d)},function(){a.fail.apply(a,
arguments)}):(d[c]=b[c],l--,0===l&&a.succeed.apply(a,d))})(m);return a};c.try=function(a){return(new c).succeed().then(a)};c.delay=function(a){if(1<arguments.length){var b=new c,d=Array.prototype.slice.call(arguments);a=d.pop();return b.succeed.apply(b,d).delay(a)}return(new c).succeed().delay(a)};a.Promise=c;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.Class({__init__:function(a,b){this.high=a;this.low=b},hashCode:function(){return this.low},equals:function(a){return this===a?!0:a instanceof b?this.high===a.high&&this.low===a.low:!1},toString:function(){return this.high+":"+this.low},toNumber:function(){if(0!=(this.high&b.SIGN_MASK)){var a=~this.low,f=~this.high;if(4294967295>a)a+=1;else if(a=0,f+=1,f>b.HIGH_MAX)return Number.NEGATIVE_INFINITY;return-1*f*b.HIGH_MASK+a}return this.high>b.HIGH_MAX?Number.POSITIVE_INFINITY:
this.high*b.HIGH_MASK+this.low}});b.SIGN_MASK=2147483648;b.HIGH_MASK=4294967296;b.HIGH_MAX=2097151;a.Long=b;k.Ice=a})("undefined"===typeof global?window:global);(function(k){var a=k.Ice||{};a.AsyncStatus={Queued:0,Sent:1};k.Ice=a})("undefined"===typeof global?window:global);(function(k){var a=k.Ice||{};a.OptionalFormat=Slice.defineEnum({F1:0,F2:1,F4:2,F8:3,Size:4,VSize:5,FSize:6,Class:7});k.Ice=a})("undefined"===typeof global?window:global);
(function(k){function a(a,c,b,e,d){for(var p=a._table[d];null!==p;p=p._nextInBucket)if(p._hash===e&&a.keysEqual(c,p._key)){p._value=b;return}a.add(c,b,e,d)}var b=k.Slice||{},c=k.Ice||{},f=c.StringUtil,g=c.Class({__init__:function(a){this._size=0;this._head=null;this._initialCapacity=32;this._loadFactor=.75;this._table=[];this._keyComparator=function(a,c){return a===c};this._valueComparator=function(a,c){return a===c};var c,b;if(void 0===a||null===a||0===a._size)for(this._threshold=this._initialCapacity*
this._loadFactor,c=0;c<this._initialCapacity;c++)this._table[c]=null;else{this._threshold=a._threshold;this._keyComparator=a._keyComparator;this._valueComparator=a._valueComparator;b=a._table.length;this._table.length=b;for(c=0;c<b;c++)this._table[c]=null;this.merge(a)}},set:function(c,b){var d=this.computeHash(c),e=this.hashIndex(d,this._table.length);return a(this,c,b,d,e)},get:function(a){a=this.findEntry(a,this.computeHash(a));return void 0!==a?a._value:void 0},has:function(a){return void 0!==
this.findEntry(a,this.computeHash(a))},delete:function(a){for(var c=this.computeHash(a),b=this.hashIndex(c,this._table.length),d=null,g=this._table[b];null!==g;g=g._nextInBucket){if(g._hash===c&&this.keysEqual(a,g._key))return this._size--,null!==d?d._nextInBucket=g._nextInBucket:this._table[b]=g._nextInBucket,null!==g._prev&&(g._prev._next=g._next),null!==g._next&&(g._next._prev=g._prev),this._head===g&&(this._head=g._next),g._value;d=g}},clear:function(){for(var a=0;a<this._table.length;++a)this._table[a]=
null;this._head=null;this._size=0},forEach:function(a,c){c=void 0===c?a:c;for(var b=this._head;null!==b;b=b._next)a.call(c,b._key,b._value)},equals:function(a){if(null===a||!(a instanceof g)||this._size!==a._size)return!1;for(var c=this._head;null!==c;c=c._next){var b=a.findEntry(c._key,c._hash);if(void 0===b||!this.valuesEqual(c._value,b._value))return!1}return!0},clone:function(){return new g(this)},merge:function(c){for(c=c._head;null!==c;c=c._next)a(this,c._key,c._value,c._hash,this.hashIndex(c._hash,
this._table.length))},add:function(a,c,b,d){a=Object.create(null,{key:{enumerable:!0,get:function(){return this._key}},value:{enumerable:!0,get:function(){return this._value}},next:{enumerable:!0,get:function(){return this._next}},_key:{enumerable:!1,writable:!0,value:a},_value:{enumerable:!1,writable:!0,value:c},_prev:{enumerable:!1,writable:!0,value:null},_next:{enumerable:!1,writable:!0,value:null},_nextInBucket:{enumerable:!1,writable:!0,value:null},_hash:{enumerable:!1,writable:!0,value:b}});
a._nextInBucket=this._table[d];this._table[d]=a;a._next=this._head;null!==this._head&&(this._head._prev=a);this._head=a;this._size++;this._size>=this._threshold&&this.resize(2*this._table.length)},resize:function(a){for(var c=[],b=0;b<a;b++)c[b]=null;for(b=this._head;null!==b;b=b._next){var d=this.hashIndex(b._hash,a);b._nextInBucket=c[d];c[d]=b}this._table=c;this._threshold=a*this._loadFactor},findEntry:function(a,c){for(var b=this.hashIndex(c,this._table.length),b=this._table[b];null!==b;b=b._nextInBucket)if(b._hash===
c&&this.keysEqual(a,b._key))return b},hashIndex:function(a,c){return a&c-1},computeHash:function(a){if("function"===typeof a.hashCode)return a.hashCode();var c=0,b=typeof a;if("string"===b||a instanceof String)c=f.hashCode(a);else if("number"===b||a instanceof Number)c=a.toFixed(0);else if("boolean"===b||a instanceof Boolean)c=a?1:0;else if(null!==a)throw"cannot compute hash for value of type "+b;return c},keysEqual:function(a,c){return this._keyComparator.call(this._keyComparator,a,c)},valuesEqual:function(a,
c){return this._valueComparator.call(this._valueComparator,a,c)}}),d=g.prototype;Object.defineProperty(d,"size",{get:function(){return this._size}});Object.defineProperty(d,"entries",{get:function(){return this._head}});Object.defineProperty(d,"keyComparator",{get:function(){return this._keyComparator},set:function(a){this._keyComparator=a}});Object.defineProperty(d,"valueComparator",{get:function(){return this._valueComparator},set:function(a){this._valueComparator=a}});Object.defineProperty(g,"compareEquals",
{get:function(){return function(a,c){return a.equals(c)}}});b.defineDictionary=function(a,b,d,e,f,p,t,v){a[b]=t?function(a){a=new g(a);a.keyComparator=g.compareEquals;return a}:g;var u=null;Object.defineProperty(a,d,{get:function(){null===u&&(u=c.StreamHelpers.generateDictHelper(eval(e),eval(f),p,eval(v),a[b]));return u}})};c.HashMap=g;k.Slice=b;k.Ice=c})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.Class,c=Object.defineProperty,f=a.OptionalFormat,g={FSizeOptHelper:function(){this.writeOpt=function(a,c,b){void 0!==b&&a.writeOpt(c,f.FSize)&&(c=a.startSize(),this.write(a,b),a.endSize(c))};this.readOpt=function(a,c){var b;a.readOpt(c,f.FSize)&&(a.skip(4),b=this.read(a));return b}},VSizeOptHelper:function(){this.writeOpt=function(a,c,b){void 0!==b&&a.writeOpt(c,f.VSize)&&(a.writeSize(this.minWireSize),this.write(a,b))};this.readOpt=function(a,c){var b;a.readOpt(c,
f.VSize)&&(a.skipSize(),b=this.read(a));return b}},VSizeContainerOptHelper:function(a){this.writeOpt=function(c,b,d){void 0!==d&&c.writeOpt(b,f.VSize)&&(b=this.size(d),c.writeSize(254<b?b*a+5:b*a+1),this.write(c,d))};this.readOpt=function(a,c){var b;a.readOpt(c,f.VSize)&&(a.skipSize(),b=this.read(a));return b}},VSizeContainer1OptHelper:function(){this.writeOpt=function(a,c,b){void 0!==b&&a.writeOpt(c,f.VSize)&&this.write(a,b)};this.readOpt=function(a,c){var b;a.readOpt(c,f.VSize)&&(b=this.read(a));
return b}}},d=b({write:function(a,c){if(null===c||0===c.length)a.writeSize(0);else{var b=this.elementHelper;a.writeSize(c.length);for(var d=0;d<c.length;++d)b.write(a,c[d])}},read:function(a){var c=this.elementHelper,b=a.readAndCheckSeqSize(c.minWireSize),d=[];d.length=b;for(var e=0;e<b;++e)d[e]=c.read(a);return d},size:function(a){return null===a||void 0===a?0:a.length}});c(d.prototype,"minWireSize",{get:function(){return 1}});var l=new d;l.write=function(a,c){return a.writeByteSeq(c)};l.read=function(a){return a.readByteSeq()};
c(l,"elementHelper",{get:function(){return a.ByteHelper}});g.VSizeContainer1OptHelper.call(l);var m=function(a){var c=a.readAndCheckSeqSize(1),b=[];b.length=c;for(var d=this.elementType,e=function(c){a.readObject(function(a){b[c]=a},d)},g=0;g<c;++g)e(g);return b};g.generateSeqHelper=function(b,e,h){if(b===a.ByteHelper)return l;var f=new d;e?1===b.minWireSize?g.VSizeContainer1OptHelper.call(f):g.VSizeContainerOptHelper.call(f,b.minWireSize):g.FSizeOptHelper.call(f);c(f,"elementHelper",{get:function(){return b}});
b==a.ObjectHelper&&(c(f,"elementType",{get:function(){return h}}),f.read=m);return f};var h=b({write:function(a,c){if(null===c||0===c.size)a.writeSize(0);else{var b=this.keyHelper,d=this.valueHelper;a.writeSize(c.size);for(var e=c.entries;null!==e;e=e.next)b.write(a,e.key),d.write(a,e.value)}},read:function(a){for(var c=new this.mapType,b=a.readSize(),d=this.keyHelper,e=this.valueHelper,g=0;g<b;++g)c.set(d.read(a),e.read(a));return c},size:function(a){return null===a||void 0===a?0:a.size}});Object.defineProperty(h.prototype,
"minWireSize",{get:function(){return 1}});var e=function(a){for(var c=a.readSize(),b=new this.mapType,d=this.valueType,e=function(c){a.readObject(function(a){b.set(c,a)},d)},g=this.keyHelper,h=0;h<c;++h)e(g.read(a));return b};g.generateDictHelper=function(b,d,f,l,m){var r=new h;f?g.VSizeContainerOptHelper.call(r,b.minWireSize+d.minWireSize):g.FSizeOptHelper.call(r);c(r,"mapType",{get:function(){return m}});c(r,"keyHelper",{get:function(){return b}});c(r,"valueHelper",{get:function(){return d}});d==
a.ObjectHelper&&(c(r,"valueType",{get:function(){return l}}),r.read=e);return r};a.StreamHelpers=g;k.Ice=a})("undefined"===typeof global?window:global);(function(k){var a=k.Ice||{};a.Address=function(a,c){this.host=a;this.port=c};k.Ice=a})("undefined"===typeof global?window:global);(function(k){var a=k.Ice||{};a.ReferenceMode={ModeTwoway:0,ModeOneway:1,ModeBatchOneway:2,ModeDatagram:3,ModeBatchDatagram:4,ModeLast:4};k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=k.Slice||{},c=a.Class,f=0,g=c({__init__:function(){this.__address=f++},hashCode:function(){return this.__address},ice_isA:function(a,c){return 0<=this.__mostDerivedType().__ids.indexOf(a)},ice_ping:function(a){},ice_ids:function(a){return this.__mostDerivedType().__ids},ice_id:function(a){return this.__mostDerivedType().__id},toString:function(){return"[object "+this.ice_id()+"]"},ice_preMarshal:function(){},ice_postUnmarshal:function(){},__write:function(a){a.startWriteObject(null);
d(this,a,this.__mostDerivedType());a.endWriteObject()},__read:function(a){a.startReadObject();l(this,a,this.__mostDerivedType());a.endReadObject(!1)},ice_instanceof:function(a){return a?this instanceof a?!0:this.__mostDerivedType().__instanceof(a):!1},__mostDerivedType:function(){return g}});g.write=function(a,c){a.writeObject(c)};g.writeOpt=function(a,c,b){a.writeOptObject(c,b)};g.read=function(a){var c={value:null};a.readObject(function(a){c.value=a},g);return c};g.readOpt=function(a,c){var b={value:void 0};
a.readOptObject(c,function(a){b.value=a},g);return b};g.ice_staticId=function(){return g.__id};g.__instanceof=function(a){if(a===this)return!0;for(var c in this.__implements)if(this.__implements[c].__instanceof(a))return!0;return this.__parent?this.__parent.__instanceof(a):!1};g.__ids=["::Ice::Object"];g.__id=g.__ids[0];g.__compactId=-1;g.__preserved=!1;var d=function(a,c,b){void 0!==b&&b!==g&&(c.startWriteSlice(b.__id,b.__compactId,b.__parent===g),b.prototype.__writeMemberImpl&&b.prototype.__writeMemberImpl.call(a,
c),c.endWriteSlice(),d(a,c,b.__parent))},l=function(a,c,b){void 0!==b&&b!==g&&(c.startReadSlice(),b.prototype.__readMemberImpl&&b.prototype.__readMemberImpl.call(a,c),c.endReadSlice(),l(a,c,b.__parent))},m=function(a){a.startWriteObject(this.__slicedData);d(this,a,this.__mostDerivedType());a.endWriteObject()},h=function(a){a.startReadObject();l(this,a,this.__mostDerivedType());this.__slicedData=a.endReadObject(!0)};a.Object=g;b.defineLocalObject=function(a,c){var b=a||function(){};void 0!==c&&(b.prototype=
new c,b.__parent=c,b.prototype.constructor=a);return b};b.defineObject=function(a,c,b,d,f,l,r,k,y){var q=a||function(){};q.prototype=new c;q.__parent=c;q.__ids=f;q.__id=f[d];q.__compactId=l;q.__instanceof=g.__instanceof;q.__implements=b;q.write=function(a,c){a.writeObject(c)};q.writeOpt=function(a,c,b){a.writeOptObject(c,b)};q.read=function(a){var c={value:null};a.readObject(function(a){c.value=a},q);return c};q.readOpt=function(a,c){var b={value:void 0};a.readOptObject(c,function(a){b.value=a},q);
return b};q.ice_staticId=function(){return f[d]};q.prototype.constructor=q;q.prototype.__mostDerivedType=function(){return q};y&&(q.prototype.__write=m,q.prototype.__read=h);q.prototype.__writeMemberImpl=r;q.prototype.__readMemberImpl=k;return q};k.Slice=b;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Slice||{},b=k.Ice||{},c=b.ArrayUtil,f=function(a,d){if(a===d)return!0;if(null!==a&&void 0!==a&&null!==d&&void 0!==d&&a.prototype===d.prototype){if(a instanceof b.HashMap||"function"==typeof a.equals)return a.equals(d);if(a instanceof Array)return c.equals(a,d,f)}return!1},g=function(a){if(this===a)return!0;if(null===a||void 0===a||this.prototype!==a.prototype)return!1;var c,b,d;for(d in this)if(c=this[d],b=a[d],"function"!=typeof c&&!f(c,b))return!1;return!0},d=function(){var a=
new this.constructor,b,d;for(d in this)b=this[d],void 0===b||null===b?a[d]=b:"function"!=typeof b&&(a[d]="function"==typeof b.clone?b.clone():b instanceof Array?c.clone(b):b);return a},l=function(a,c){if("function"==typeof c.hashCode)return b.HashUtil.addHashable(a,c);if(c instanceof Array)return b.HashUtil.addArray(a,c,l);var d=typeof c;if(c instanceof String||"string"==d)return b.HashUtil.addString(a,c);if(c instanceof Number||"number"==d)return b.HashUtil.addNumber(a,c);if(c instanceof Boolean||
"boolean"==d)return b.HashUtil.addBoolean(a,c)},m=function(){var a=5381,c,b;for(b in this)c=this[b],void 0!==c&&null!==c&&"function"!=typeof c&&(a=l(a,c));return a};a.defineStruct=function(a,c,f,p,t,l){a.prototype.clone=d;a.prototype.equals=g;c&&(a.prototype.hashCode=m);p&&f&&(a.prototype.__write=f,a.prototype.__read=p,a.write=function(a,c){c.__write(a)},a.read=function(a){var c=new this;c.__read(a);return c},Object.defineProperty(a,"minWireSize",{get:function(){return t}}),l?b.StreamHelpers.VSizeOptHelper.call(a):
b.StreamHelpers.FSizeOptHelper.call(a));return a};k.Slice=a;k.Ice=b})("undefined"===typeof global?window:global);(function(k,a){var b=k.Ice||{};Slice.defineSequence(b,"EndpointSeqHelper","Ice.ObjectHelper",!1,"Ice.Endpoint");k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k,a){var b=k.Ice||{};Slice.defineDictionary(b,"SliceChecksumDict","SliceChecksumDictHelper","Ice.StringHelper","Ice.StringHelper",!1,!1);k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k,a){var b=k.Ice||{};b.Identity=Slice.defineStruct(function(a,b){this.name=void 0!==a?a:null;this.category=void 0!==b?b:null},!0,function(a){a.writeString(this.name);a.writeString(this.category)},function(a){this.name=a.readString();this.category=a.readString()},2,!1);Slice.defineDictionary(b,"ObjectDict","ObjectDictHelper","Ice.Identity","Ice.ObjectHelper",!1,!0,"Ice.Object");Slice.defineSequence(b,"IdentitySeqHelper","Ice.Identity",!1);k.Ice=b})("undefined"===typeof global?window:global,
"undefined"===typeof require?void 0:require);
(function(k){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,c){var b=new Uint8Array(this);c=void 0===c?b.length:c;for(var f=new Uint8Array(new ArrayBuffer(c-a)),h=0,e=f.length;h<e;h++)f[h]=b[h+a];return f.buffer});var a=k.Ice||a,b=a.Long,c=a.Class({__init__:function(a){void 0!==a?(this.b=a,this.v=new DataView(this.b)):this.v=this.b=null;this._shrinkCounter=this._limit=this._position=0},empty:function(){return 0===this._limit},resize:function(a){0===a?this.clear():a>this.capacity&&
this.reserve(a);this._limit=a},clear:function(){this.v=this.b=null;this._limit=this._position=0},expand:function(a){a=0===this.capacity?a:this._position+a;a>this._limit&&this.resize(a)},reset:function(){0<this._limit&&2*this._limit<this.capacity?2<++this._shrinkCounter&&(this.reserve(this._limit),this._shrinkCounter=0):this._shrinkCounter=0;this._position=this._limit=0},reserve:function(a){a>this.capacity?(a=Math.max(a,2*this.capacity),a=Math.max(1024,a),this.b?(a=new Uint8Array(a),a.set(new Uint8Array(this.b)),
this.b=a.buffer):this.b=new ArrayBuffer(a),this.v=new DataView(this.b)):a<this.capacity&&(this.b=this.b.slice(0,this.capacity),this.v=new DataView(this.b))},put:function(a){if(this._position===this._limit)throw Error("BufferOverflowException");this.v.setUint8(this._position,a);this._position++},putAt:function(a,c){if(a>=this._limit)throw Error("IndexOutOfBoundsException");this.v.setUint8(a,c)},putArray:function(a){if(0<a.byteLength){if(this._position+a.length>this._limit)throw Error("BufferOverflowException");
(new Uint8Array(this.b,0,this.b.byteLength)).set(a,this._position);this._position+=a.byteLength}},putShort:function(a){if(this._position+2>this._limit)throw Error("BufferOverflowException");this.v.setInt16(this._position,a,!0);this._position+=2},putInt:function(a){if(this._position+4>this._limit)throw Error("BufferOverflowException");this.v.setInt32(this._position,a,!0);this._position+=4},putIntAt:function(a,c){if(a+4>this._limit||0>a)throw Error("IndexOutOfBoundsException");this.v.setInt32(a,c,!0)},
putFloat:function(a){if(this._position+4>this._limit)throw Error("BufferOverflowException");this.v.setFloat32(this._position,a,!0);this._position+=4},putDouble:function(a){if(this._position+8>this._limit)throw Error("BufferOverflowException");this.v.setFloat64(this._position,a,!0);this._position+=8},putLong:function(a){if(this._position+8>this._limit)throw Error("BufferOverflowException");this.v.setInt32(this._position,a.low,!0);this._position+=4;this.v.setInt32(this._position,a.high,!0);this._position+=
4},writeString:function(a,c){var b=unescape(encodeURIComponent(c));a.writeSize(b.length);a.expand(b.length);this.putString(b,b.length)},putString:function(a,c){if(this._position+c>this._limit)throw Error("BufferOverflowException");for(var b=0;b<c;++b)this.v.setUint8(this._position,a.charCodeAt(b)),this._position++},get:function(){if(this._position>=this._limit)throw Error("BufferUnderflowException");var a=this.v.getUint8(this._position);this._position++;return a},getAt:function(a){if(0>a||a>=this._limit)throw Error("IndexOutOfBoundsException");
return this.v.getUint8(a)},getArray:function(a){if(this._position+a>this._limit)throw Error("BufferUnderflowException");var c=this.b.slice(this._position,this._position+a);this._position+=a;return new Uint8Array(c)},getArrayAt:function(a,c){if(a+c>this._limit)throw Error("BufferUnderflowException");c=void 0===c?this.b.byteLength-a:c;return new Uint8Array(this.b.slice(a,a+c))},getShort:function(){if(2>this._limit-this._position)throw Error("BufferUnderflowException");var a=this.v.getInt16(this._position,
!0);this._position+=2;return a},getInt:function(){if(4>this._limit-this._position)throw Error("BufferUnderflowException");var a=this.v.getInt32(this._position,!0);this._position+=4;return a},getFloat:function(){if(4>this._limit-this._position)throw Error("BufferUnderflowException");var a=this.v.getFloat32(this._position,!0);this._position+=4;return a},getDouble:function(){if(8>this._limit-this._position)throw Error("BufferUnderflowException");var a=this.v.getFloat64(this._position,!0);this._position+=
8;return a},getLong:function(){if(8>this._limit-this._position)throw Error("BufferUnderflowException");var a=new b;a.low=this.v.getInt32(this._position,!0);this._position+=4;a.high=this.v.getInt32(this._position,!0);this._position+=4;return a},getString:function(a){if(this._position+a>this._limit)throw Error("BufferUnderflowException");for(var c=new DataView(this.b,this._position,a),b="",f=0;f<a;++f)b+=String.fromCharCode(c.getUint8(f));this._position+=a;return b=decodeURIComponent(escape(b))}}),
f=c.prototype;Object.defineProperty(f,"position",{get:function(){return this._position},set:function(a){0<=a&&a<=this._limit&&(this._position=a)}});Object.defineProperty(f,"limit",{get:function(){return this._limit},set:function(a){a<=this.capacity&&(this._limit=a,this._position>a&&(this._position=a))}});Object.defineProperty(f,"capacity",{get:function(){return null===this.b?0:this.b.byteLength}});Object.defineProperty(f,"remaining",{get:function(){return this._limit-this._position}});c.createNative=
function(a){return void 0===a?new Uint8Array(0):new Uint8Array(a)};a.Buffer=c;k.Ice=a})("undefined"===typeof global?window:global);
(function(k,a){var b=k.Ice||{};Slice.defineSequence(b,"BoolSeqHelper","Ice.BoolHelper",!0);Slice.defineSequence(b,"ByteSeqHelper","Ice.ByteHelper",!0);Slice.defineSequence(b,"ShortSeqHelper","Ice.ShortHelper",!0);Slice.defineSequence(b,"IntSeqHelper","Ice.IntHelper",!0);Slice.defineSequence(b,"LongSeqHelper","Ice.LongHelper",!0);Slice.defineSequence(b,"FloatSeqHelper","Ice.FloatHelper",!0);Slice.defineSequence(b,"DoubleSeqHelper","Ice.DoubleHelper",!0);Slice.defineSequence(b,"StringSeqHelper","Ice.StringHelper",
!1);Slice.defineSequence(b,"ObjectSeqHelper","Ice.ObjectHelper",!1,"Ice.Object");Slice.defineSequence(b,"ObjectProxySeqHelper","Ice.ObjectPrx",!1);k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k,a){var b=k.Ice||{};b.ProtocolVersion=Slice.defineStruct(function(a,b){this.major=void 0!==a?a:0;this.minor=void 0!==b?b:0},!0,function(a){a.writeByte(this.major);a.writeByte(this.minor)},function(a){this.major=a.readByte();this.minor=a.readByte()},2,!0);b.EncodingVersion=Slice.defineStruct(function(a,b){this.major=void 0!==a?a:0;this.minor=void 0!==b?b:0},!0,function(a){a.writeByte(this.major);a.writeByte(this.minor)},function(a){this.major=a.readByte();this.minor=a.readByte()},2,!0);
k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k,a){var b=k.Ice||{};b.InitializationException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.reason=void 0!==a?a:null},b.LocalException,"Ice::InitializationException");b.PluginInitializationException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.reason=void 0!==a?a:null},b.LocalException,"Ice::PluginInitializationException");b.CollocationOptimizationException=Slice.defineLocalException(function(a){b.LocalException.call(this,a)},
b.LocalException,"Ice::CollocationOptimizationException");b.AlreadyRegisteredException=Slice.defineLocalException(function(a,f,g){b.LocalException.call(this,g);this.kindOfObject=void 0!==a?a:null;this.id=void 0!==f?f:null},b.LocalException,"Ice::AlreadyRegisteredException");b.NotRegisteredException=Slice.defineLocalException(function(a,f,g){b.LocalException.call(this,g);this.kindOfObject=void 0!==a?a:null;this.id=void 0!==f?f:null},b.LocalException,"Ice::NotRegisteredException");b.TwowayOnlyException=
Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.operation=void 0!==a?a:null},b.LocalException,"Ice::TwowayOnlyException");b.CloneNotImplementedException=Slice.defineLocalException(function(a){b.LocalException.call(this,a)},b.LocalException,"Ice::CloneNotImplementedException");b.UnknownException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.unknown=void 0!==a?a:null},b.LocalException,"Ice::UnknownException");b.UnknownLocalException=Slice.defineLocalException(function(a,
f){b.UnknownException.call(this,a,f)},b.UnknownException,"Ice::UnknownLocalException");b.UnknownUserException=Slice.defineLocalException(function(a,f){b.UnknownException.call(this,a,f)},b.UnknownException,"Ice::UnknownUserException");b.VersionMismatchException=Slice.defineLocalException(function(a){b.LocalException.call(this,a)},b.LocalException,"Ice::VersionMismatchException");b.CommunicatorDestroyedException=Slice.defineLocalException(function(a){b.LocalException.call(this,a)},b.LocalException,
"Ice::CommunicatorDestroyedException");b.ObjectAdapterDeactivatedException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.name=void 0!==a?a:null},b.LocalException,"Ice::ObjectAdapterDeactivatedException");b.ObjectAdapterIdInUseException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.id=void 0!==a?a:null},b.LocalException,"Ice::ObjectAdapterIdInUseException");b.NoEndpointException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,
f);this.proxy=void 0!==a?a:null},b.LocalException,"Ice::NoEndpointException");b.EndpointParseException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.str=void 0!==a?a:null},b.LocalException,"Ice::EndpointParseException");b.EndpointSelectionTypeParseException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.str=void 0!==a?a:null},b.LocalException,"Ice::EndpointSelectionTypeParseException");b.VersionParseException=Slice.defineLocalException(function(a,
f){b.LocalException.call(this,f);this.str=void 0!==a?a:null},b.LocalException,"Ice::VersionParseException");b.IdentityParseException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.str=void 0!==a?a:null},b.LocalException,"Ice::IdentityParseException");b.ProxyParseException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.str=void 0!==a?a:null},b.LocalException,"Ice::ProxyParseException");b.IllegalIdentityException=Slice.defineLocalException(function(a,
f){b.LocalException.call(this,f);this.id=void 0!==a?a:null},b.LocalException,"Ice::IllegalIdentityException");b.RequestFailedException=Slice.defineLocalException(function(a,f,g,d){b.LocalException.call(this,d);this.id=void 0!==a?a:null;this.facet=void 0!==f?f:null;this.operation=void 0!==g?g:null},b.LocalException,"Ice::RequestFailedException");b.ObjectNotExistException=Slice.defineLocalException(function(a,f,g,d){b.RequestFailedException.call(this,a,f,g,d)},b.RequestFailedException,"Ice::ObjectNotExistException");
b.FacetNotExistException=Slice.defineLocalException(function(a,f,g,d){b.RequestFailedException.call(this,a,f,g,d)},b.RequestFailedException,"Ice::FacetNotExistException");b.OperationNotExistException=Slice.defineLocalException(function(a,f,g,d){b.RequestFailedException.call(this,a,f,g,d)},b.RequestFailedException,"Ice::OperationNotExistException");b.SyscallException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.error=void 0!==a?a:0},b.LocalException,"Ice::SyscallException");
b.SocketException=Slice.defineLocalException(function(a,f){b.SyscallException.call(this,a,f)},b.SyscallException,"Ice::SocketException");b.FileException=Slice.defineLocalException(function(a,f,g){b.SyscallException.call(this,a,g);this.path=void 0!==f?f:null},b.SyscallException,"Ice::FileException");b.ConnectFailedException=Slice.defineLocalException(function(a,f){b.SocketException.call(this,a,f)},b.SocketException,"Ice::ConnectFailedException");b.ConnectionRefusedException=Slice.defineLocalException(function(a,
f){b.ConnectFailedException.call(this,a,f)},b.ConnectFailedException,"Ice::ConnectionRefusedException");b.ConnectionLostException=Slice.defineLocalException(function(a,f){b.SocketException.call(this,a,f)},b.SocketException,"Ice::ConnectionLostException");b.DNSException=Slice.defineLocalException(function(a,f,g){b.LocalException.call(this,g);this.error=void 0!==a?a:0;this.host=void 0!==f?f:null},b.LocalException,"Ice::DNSException");b.TimeoutException=Slice.defineLocalException(function(a){b.LocalException.call(this,
a)},b.LocalException,"Ice::TimeoutException");b.ConnectTimeoutException=Slice.defineLocalException(function(a){b.TimeoutException.call(this,a)},b.TimeoutException,"Ice::ConnectTimeoutException");b.CloseTimeoutException=Slice.defineLocalException(function(a){b.TimeoutException.call(this,a)},b.TimeoutException,"Ice::CloseTimeoutException");b.ConnectionTimeoutException=Slice.defineLocalException(function(a){b.TimeoutException.call(this,a)},b.TimeoutException,"Ice::ConnectionTimeoutException");b.ProtocolException=
Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.reason=void 0!==a?a:null},b.LocalException,"Ice::ProtocolException");b.BadMagicException=Slice.defineLocalException(function(a,f,g){b.ProtocolException.call(this,a,g);this.badMagic=void 0!==f?f:null},b.ProtocolException,"Ice::BadMagicException");b.UnsupportedProtocolException=Slice.defineLocalException(function(a,f,g,d){b.ProtocolException.call(this,a,d);this.bad=void 0!==f?f:null;this.supported=void 0!==g?g:null},b.ProtocolException,
"Ice::UnsupportedProtocolException");b.UnsupportedEncodingException=Slice.defineLocalException(function(a,f,g,d){b.ProtocolException.call(this,a,d);this.bad=void 0!==f?f:null;this.supported=void 0!==g?g:null},b.ProtocolException,"Ice::UnsupportedEncodingException");b.UnknownMessageException=Slice.defineLocalException(function(a,f){b.ProtocolException.call(this,a,f)},b.ProtocolException,"Ice::UnknownMessageException");b.ConnectionNotValidatedException=Slice.defineLocalException(function(a,f){b.ProtocolException.call(this,
a,f)},b.ProtocolException,"Ice::ConnectionNotValidatedException");b.UnknownRequestIdException=Slice.defineLocalException(function(a,f){b.ProtocolException.call(this,a,f)},b.ProtocolException,"Ice::UnknownRequestIdException");b.UnknownReplyStatusException=Slice.defineLocalException(function(a,f){b.ProtocolException.call(this,a,f)},b.ProtocolException,"Ice::UnknownReplyStatusException");b.CloseConnectionException=Slice.defineLocalException(function(a,f){b.ProtocolException.call(this,a,f)},b.ProtocolException,
"Ice::CloseConnectionException");b.ForcedCloseConnectionException=Slice.defineLocalException(function(a,f){b.ProtocolException.call(this,a,f)},b.ProtocolException,"Ice::ForcedCloseConnectionException");b.IllegalMessageSizeException=Slice.defineLocalException(function(a,f){b.ProtocolException.call(this,a,f)},b.ProtocolException,"Ice::IllegalMessageSizeException");b.CompressionException=Slice.defineLocalException(function(a,f){b.ProtocolException.call(this,a,f)},b.ProtocolException,"Ice::CompressionException");
b.DatagramLimitException=Slice.defineLocalException(function(a,f){b.ProtocolException.call(this,a,f)},b.ProtocolException,"Ice::DatagramLimitException");b.MarshalException=Slice.defineLocalException(function(a,f){b.ProtocolException.call(this,a,f)},b.ProtocolException,"Ice::MarshalException");b.ProxyUnmarshalException=Slice.defineLocalException(function(a,f){b.MarshalException.call(this,a,f)},b.MarshalException,"Ice::ProxyUnmarshalException");b.UnmarshalOutOfBoundsException=Slice.defineLocalException(function(a,
f){b.MarshalException.call(this,a,f)},b.MarshalException,"Ice::UnmarshalOutOfBoundsException");b.NoObjectFactoryException=Slice.defineLocalException(function(a,f,g){b.MarshalException.call(this,a,g);this.type=void 0!==f?f:null},b.MarshalException,"Ice::NoObjectFactoryException");b.UnexpectedObjectException=Slice.defineLocalException(function(a,f,g,d){b.MarshalException.call(this,a,d);this.type=void 0!==f?f:null;this.expectedType=void 0!==g?g:null},b.MarshalException,"Ice::UnexpectedObjectException");
b.MemoryLimitException=Slice.defineLocalException(function(a,f){b.MarshalException.call(this,a,f)},b.MarshalException,"Ice::MemoryLimitException");b.StringConversionException=Slice.defineLocalException(function(a,f){b.MarshalException.call(this,a,f)},b.MarshalException,"Ice::StringConversionException");b.EncapsulationException=Slice.defineLocalException(function(a,f){b.MarshalException.call(this,a,f)},b.MarshalException,"Ice::EncapsulationException");b.FeatureNotSupportedException=Slice.defineLocalException(function(a,
f){b.LocalException.call(this,f);this.unsupportedFeature=void 0!==a?a:null},b.LocalException,"Ice::FeatureNotSupportedException");b.SecurityException=Slice.defineLocalException(function(a,f){b.LocalException.call(this,f);this.reason=void 0!==a?a:null},b.LocalException,"Ice::SecurityException");b.FixedProxyException=Slice.defineLocalException(function(a){b.LocalException.call(this,a)},b.LocalException,"Ice::FixedProxyException");b.ResponseSentException=Slice.defineLocalException(function(a){b.LocalException.call(this,
a)},b.LocalException,"Ice::ResponseSentException");k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k){function a(a){return 26>a?String.fromCharCode(65+a):52>a?String.fromCharCode(97+(a-26)):62>a?String.fromCharCode(48+(a-52)):62==a?"+":"/"}function b(a){return"A"<=a&&"Z">=a?a.charCodeAt(0)-65:"a"<=a&&"z">=a?a.charCodeAt(0)-97+26:"0"<=a&&"9">=a?a.charCodeAt(0)-48+52:"+"==a?62:63}var c=k.Ice||{},f=c.Buffer,g={encode:function(b){if(null===b||0===b.length)return"";for(var c=[],f,h,e,g,p=0;p<b.length;p+=3)f=b[p]&255,e=h=0,p+1<b.length&&(h=b[p+1]&255),p+2<b.length&&(e=b[p+2]&255),g=f>>2&255,
f=((f&3)<<4|h>>4)&255,h=((h&15)<<2|e>>6)&255,e&=63,c.push(a(g)),c.push(a(f)),p+1<b.length?c.push(a(h)):c.push("="),p+2<b.length?c.push(a(e)):c.push("=");b=c.join("");c=[];for(g=0;76<b.length-g;)c.push(b.substring(g,g+76)),c.push("\r\n"),g+=76;c.push(b.substring(g));return c.join("")},decode:function(a){for(var c=[],m=0;m<a.length;m++){var h=a.charAt(m);g.isBase64(h)&&c.push(h)}if(0===c.length)return null;m=3*c.length/4+1;a=new f;a.resize(m);for(var e,n,p,t,v=0;v<c.length;v+=4)h=m=n="A",e=c[v],v+1<
c.length&&(n=c[v+1]),v+2<c.length&&(m=c[v+2]),v+3<c.length&&(h=c[v+3]),e=b(e)&255,n=b(n)&255,p=b(m)&255,t=b(h)&255,a.put(e<<2|n>>4),"="!=m&&a.put((n&15)<<4|p>>2),"="!=h&&a.put((p&3)<<6|t);return 0<a.remaining?a.getArrayAt(0,a.position):a.getArrayAt(0)},isBase64:function(a){return"A"<=a&&"Z">=a||"a"<=a&&"z">=a||"0"<=a&&"9">=a||"+"==a||"/"==a||"="==a?!0:!1}};c.Base64=g;k.Ice=c})("undefined"===typeof global?window:global);
(function(k){function a(a){var b=a.indexOf(".");if(-1===b)throw new c.VersionParseException("malformed version value `"+a+"'");var b=a.substring(0,b),g;try{g=f.toInt(b)}catch(h){throw new c.VersionParseException("invalid version value `"+a+"'");}if(1>g||255<g)throw new c.VersionParseException("range error in version `"+a+"'");return g}function b(a){var b=a.indexOf(".");if(-1===b)throw new c.VersionParseException("malformed version value `"+a+"'");var b=a.substring(b+1),g;try{g=f.toInt(b)}catch(h){throw new c.VersionParseException("invalid version value `"+
a+"'");}if(0>g||255<g)throw new c.VersionParseException("range error in version `"+a+"'");return g}var c=k.Ice||{},f=c.StringUtil,g={};c.Encoding_1_0=new c.EncodingVersion(1,0);c.Encoding_1_1=new c.EncodingVersion(1,1);c.Protocol_1_0=new c.ProtocolVersion(1,0);g.headerSize=14;g.magic=c.Buffer.createNative([73,99,101,80]);g.protocolMajor=1;g.protocolMinor=0;g.protocolEncodingMajor=1;g.protocolEncodingMinor=0;g.encodingMajor=1;g.encodingMinor=1;g.requestMsg=0;g.requestBatchMsg=1;g.replyMsg=2;g.validateConnectionMsg=
3;g.closeConnectionMsg=4;g.replyOK=0;g.replyUserException=1;g.replyObjectNotExist=2;g.replyFacetNotExist=3;g.replyOperationNotExist=4;g.replyUnknownLocalException=5;g.replyUnknownUserException=6;g.replyUnknownException=7;g.requestHdr=c.Buffer.createNative([g.magic[0],g.magic[1],g.magic[2],g.magic[3],g.protocolMajor,g.protocolMinor,g.protocolEncodingMajor,g.protocolEncodingMinor,g.requestMsg,0,0,0,0,0,0,0,0,0]);g.requestBatchHdr=c.Buffer.createNative([g.magic[0],g.magic[1],g.magic[2],g.magic[3],g.protocolMajor,
g.protocolMinor,g.protocolEncodingMajor,g.protocolEncodingMinor,g.requestBatchMsg,0,0,0,0,0,0,0,0,0]);g.replyHdr=c.Buffer.createNative([g.magic[0],g.magic[1],g.magic[2],g.magic[3],g.protocolMajor,g.protocolMinor,g.protocolEncodingMajor,g.protocolEncodingMinor,g.replyMsg,0,0,0,0,0]);g.currentProtocol=new c.ProtocolVersion(g.protocolMajor,g.protocolMinor);g.currentProtocolEncoding=new c.EncodingVersion(g.protocolEncodingMajor,g.protocolEncodingMinor);g.currentEncoding=new c.EncodingVersion(g.encodingMajor,
g.encodingMinor);g.checkSupportedProtocol=function(a){if(a.major!==g.currentProtocol.major||a.minor>g.currentProtocol.minor)throw new c.UnsupportedProtocolException("",a,g.currentProtocol);};g.checkSupportedProtocolEncoding=function(a){if(a.major!==g.currentProtocolEncoding.major||a.minor>g.currentProtocolEncoding.minor)throw new c.UnsupportedEncodingException("",a,g.currentProtocolEncoding);};g.checkSupportedEncoding=function(a){if(a.major!==g.currentEncoding.major||a.minor>g.currentEncoding.minor)throw new c.UnsupportedEncodingException("",
a,g.currentEncoding);};g.getCompatibleProtocol=function(a){return a.major!==g.currentProtocol.major?a:a.minor<g.currentProtocol.minor?a:g.currentProtocol};g.getCompatibleEncoding=function(a){return a.major!==g.currentEncoding.major?a:a.minor<g.currentEncoding.minor?a:g.currentEncoding};g.isSupported=function(a,b){return a.major===b.major&&a.minor<=b.minor};c.stringToProtocolVersion=function(d){return new c.ProtocolVersion(a(d),b(d))};c.stringToEncodingVersion=function(d){return new c.EncodingVersion(a(d),
b(d))};c.protocolVersionToString=function(a){return a.major+"."+a.minor};c.encodingVersionToString=function(a){return a.major+"."+a.minor};c.Protocol=g;k.Ice=c})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.Promise,c=a.Class(b,{__init__:function(a,c,f,g,e){b.call(this);void 0!==a&&(this._communicator=a,this._instance=null!==a?a.instance:null,this._operation=c,this._connection=f,this._proxy=g,this._adapter=e)},__exception:function(a){this.fail(a)}}),f=c.prototype,g=Object.defineProperty;g(f,"communicator",{get:function(){return this._communicator}});g(f,"connection",{get:function(){return this._connection}});g(f,"proxy",{get:function(){return this._proxy}});g(f,"adapter",
{get:function(){return this._adapter}});g(f,"operation",{get:function(){return this._operation}});a.AsyncResultBase=c;k.Ice=a})("undefined"===typeof global?window:global);(function(k,a){var b=k.Ice||{};b.EndpointSelectionType=Slice.defineEnum({Random:0,Ordered:1});k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k){var a=k.Ice||{},b=a.UnexpectedObjectException,c=a.MemoryLimitException;a.ExUtil={toString:function(a){return a.stack?a.stack:a.toString()},throwUOE:function(a,c){var d=c.ice_id();throw new b("expected element of type `"+a+"' but received '"+d,d,a);},throwMemoryLimitException:function(a,b){throw new c("requested "+a+" bytes, maximum allowed is "+b+" bytes (see Ice.MessageSizeMax)");}};k.Ice=a})("undefined"===typeof global?window:global);
(function(k,a){var b=k.Ice||{};Slice.defineDictionary(b,"Context","ContextHelper","Ice.StringHelper","Ice.StringHelper",!1,!1);b.OperationMode=Slice.defineEnum({Normal:0,Nonmutating:1,Idempotent:2});b.Current=Slice.defineStruct(function(a,f,g,d,l,m,h,e,n){this.adapter=void 0!==a?a:null;this.con=void 0!==f?f:null;this.id=void 0!==g?g:null;this.facet=void 0!==d?d:null;this.operation=void 0!==l?l:null;this.mode=void 0!==m?m:b.Normal;this.ctx=void 0!==h?h:null;this.requestId=void 0!==e?e:0;this.encoding=
void 0!==n?n:null},!1);k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k){var a=k.Ice||{},b=a.ExUtil,c=a.Class(Error,{__init__:function(b,c){b instanceof a.LocalException?(this._ex=b,this._retry=void 0===c?!1:c):(this._ex=b._ex,this._retry=b._retry)}});c.throwWrapper=function(f){if(f instanceof a.UserException)throw new c(new a.UnknownUserException(f.ice_name()),!1);if(f instanceof a.LocalException){if(f instanceof a.UnknownException||f instanceof a.ObjectNotExistException||f instanceof a.OperationNotExistException||f instanceof a.FacetNotExistException)throw new c(f,
!1);f=new a.UnknownLocalException(f.ice_name(),f);throw new c(f,!1);}f=new a.UnknownException(b.toString(f),f);throw new c(f,!1);};var f=c.prototype;Object.defineProperty(f,"inner",{get:function(){return this._ex}});Object.defineProperty(f,"retry",{get:function(){return this._retry}});a.LocalExceptionWrapper=c;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.ExUtil,c=a.Class({__init__:function(a,b){this._instance=a;this._interval=b;this._scheduledInterval=0;this._timerToken=-1;this._connections=[]},destroy:function(){this._instance.timer().cancel(this._timerToken);this._connections=this._instance=null},checkIntervalForACM:function(a){if(!(0>=a)){if(0===this._interval)a=Math.floor(Math.min(300,Math.max(5,a/10)));else{if(this._scheduledInterval===this._interval)return;a=this._interval}if(0===this._scheduledInterval||this._scheduledInterval>
a){this._scheduledInterval=a;this._instance.timer().cancel(this._timerToken);var b=this;this._timerToken=this._instance.timer().scheduleRepeated(function(){b.runTimerTask()},1E3*a)}}},add:function(a){this._connections.push(a)},remove:function(a){a=this._connections.indexOf(a);this._connections.splice(a,1)},runTimerTask:function(){for(var a=Date.now(),c=0;c<this._connections.length;++c)try{this._connections[c].monitor(a)}catch(d){if(null===this._instance)break;var l="exception in connection monitor:\n"+
b.toString(d);this._instance.initializationData().logger.error(l)}}});a.ConnectionMonitor=c;k.Ice=a})("undefined"===typeof global?window:global);(function(k){var a=k.Ice||{},b=a.Class({__init__:function(){this._connections=[]},add:function(a){this._connections.push(a)},swapConnections:function(){if(0===this._connections.length)return null;var a=this._connections;this._connections=[];return a}});a.ConnectionReaper=b;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){function a(a,b){var c=new h;c.__read(b);a.push("\nidentity = "+b.instance.identityToString(c));c=g.StringSeqHelper.read(b);a.push("\nfacet = ");0<c.length&&a.push(l.escapeString(c[0],""));c=b.readString();a.push("\noperation = "+c)}function b(b,c){a(b,c);var e=c.readByte();b.push("\nmode = "+e+" ");switch(m.valueOf(e)){case m.Normal:b.push("(normal)");break;case m.Nonmutating:b.push("(nonmutating)");break;case m.Idempotent:b.push("(idempotent)");break;default:b.push("(unknown)")}e=c.readSize();
for(b.push("\ncontext = ");0<e--;){var h=c.readString(),f=c.readString();b.push(h+"/"+f);0<e&&b.push(", ")}e=c.skipEncaps();e.equals(d.Encoding_1_0)||(b.push("\nencoding = "),b.push(g.encodingVersionToString(e)))}function c(c,e){e.readByte();e.readByte();e.readByte();e.readByte();e.readByte();e.readByte();e.readByte();e.readByte();var h=e.readByte();c.push("\nmessage type = "+h+" ("+f(h)+")");var g=e.readByte();c.push("\ncompression status = "+g+" ");switch(g){case 0:c.push("(not compressed; do not compress response, if any)");
break;case 1:c.push("(not compressed; compress response, if any)");break;case 2:c.push("(compressed; compress response, if any)");break;default:c.push("(unknown)")}g=e.readInt();c.push("\nmessage size = "+g);switch(h){case d.requestMsg:g=e.readInt();c.push("\nrequest id = "+g);0===g&&c.push(" (oneway)");b(c,e);break;case d.requestBatchMsg:g=e.readInt();c.push("\nnumber of requests = "+g);for(var l=0;l<g;++l)c.push("\nrequest #"+l+":"),b(c,e);break;case d.replyMsg:switch(g=e.readInt(),c.push("\nrequest id = "+
g),g=e.readByte(),c.push("\nreply status = "+g+" "),g){case d.replyOK:c.push("(ok)");break;case d.replyUserException:c.push("(user exception)");break;case d.replyObjectNotExist:case d.replyFacetNotExist:case d.replyOperationNotExist:switch(g){case d.replyObjectNotExist:c.push("(object not exist)");break;case d.replyFacetNotExist:c.push("(facet not exist)");break;case d.replyOperationNotExist:c.push("(operation not exist)")}a(c,e);break;case d.replyUnknownException:case d.replyUnknownLocalException:case d.replyUnknownUserException:switch(g){case d.replyUnknownException:c.push("(unknown exception)");
break;case d.replyUnknownLocalException:c.push("(unknown local exception)");break;case d.replyUnknownUserException:c.push("(unknown user exception)")}g=e.readString();c.push("\nunknown = "+g);break;default:c.push("(unknown)")}}return h}function f(a){switch(a){case d.requestMsg:return"request";case d.requestBatchMsg:return"batch request";case d.replyMsg:return"reply";case d.closeConnectionMsg:return"close connection";case d.validateConnectionMsg:return"validate connection";default:return"unknown"}}
var g=k.Ice||{},d=g.Protocol,l=g.StringUtil,m=g.OperationMode,h=g.Identity,e={traceSend:function(a,b,e){if(1<=e.protocol){var d=a.pos;a.pos=0;var h=[],g=c(h,a);b.trace(e.protocolCat,"sending "+f(g)+" "+h.join(""));a.pos=d}},traceRecv:function(a,b,e){if(1<=e.protocol){var d=a.pos;a.pos=0;var h=[],g=c(h,a);b.trace(e.protocolCat,"received "+f(g)+" "+h.join(""));a.pos=d}},trace:function(a,b,e,d){if(1<=d.protocol){var h=b.pos;b.pos=0;var f=[];f.push(a);c(f,b);e.trace(d.protocolCat,f.join(""));b.pos=h}}};
new g.HashMap;e.dumpStream=function(a){var b=a.pos;a.pos=0;var c=a.readBlob(a.size());e.dumpOctets(c);a.pos=b};e.dumpOctets=function(a){for(var b=[],c=0;c<a.length;c+=8){var e;for(e=c;8>e-c;e++)if(e<a.length){var d=a[e];0>d&&(d+=256);b.push((10>d?"  "+d:100>d?" "+d:""+d)+" ")}else b.push("    ");b.push('"');for(e=c;e<a.length&&8>e-c;e++)32<=a[e]&&127>a[e]?b.push(String.fromCharCode(a[e])):b.push(".");b.push('"\n')}console.log(b.join(""))};g.TraceUtil=e;k.Ice=g})("undefined"===typeof global?window:
global);
(function(k){var a=k.Ice||{},b=a.ReferenceMode,c=a.Class({__init__:function(a,c,d){this._reference=a;this._response=a.getMode()==b.ModeTwoway;this._connection=c;this._compress=d},prepareBatchRequest:function(a){this._connection.prepareBatchRequest(a)},finishBatchRequest:function(a){this._connection.finishBatchRequest(a,this._compress)},abortBatchRequest:function(){this._connection.abortBatchRequest()},sendAsyncRequest:function(a){return this._connection.sendAsyncRequest(a,this._compress,this._response)},flushAsyncBatchRequests:function(a){return this._connection.flushAsyncBatchRequests(a)},
getReference:function(){return this._reference},getConnection:function(){return this._connection},onConnection:function(a){a.succeed(this._connection,a)}});a.ConnectionRequestHandler=c;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.FormatType,c=a.EndpointSelectionType,f=a.Protocol;a.DefaultsAndOverrides=function(g){var d;this.defaultProtocol=g.getPropertyWithDefault("Ice.Default.Protocol",void 0!==a.TcpEndpointFactory?"tcp":"ws");d=g.getProperty("Ice.Default.Host");this.defaultHost=0<d.length?d:null;d=g.getProperty("Ice.Override.Timeout");0<d.length?(this.overrideTimeout=!0,this.overrideTimeoutValue=g.getPropertyAsInt("Ice.Override.Timeout")):(this.overrideTimeout=!1,this.overrideTimeoutValue=
-1);d=g.getProperty("Ice.Override.ConnectTimeout");0<d.length?(this.overrideConnectTimeout=!0,this.overrideConnectTimeoutValue=g.getPropertyAsInt("Ice.Override.ConnectTimeout")):(this.overrideConnectTimeout=!1,this.overrideConnectTimeoutValue=-1);d=g.getProperty("Ice.Override.CloseTimeout");0<d.length?(this.overrideCloseTimeout=!0,this.overrideCloseTimeoutValue=g.getPropertyAsInt("Ice.Override.CloseTimeout")):(this.overrideCloseTimeout=!1,this.overrideCloseTimeoutValue=-1);this.overrideSecure=this.overrideCompress=
!1;d=g.getPropertyWithDefault("Ice.Default.EndpointSelection","Random");if("Random"===d)this.defaultEndpointSelection=c.Random;else if("Ordered"===d)this.defaultEndpointSelection=c.Ordered;else throw g=new a.EndpointSelectionTypeParseException,g.str="illegal value `"+d+"'; expected `Random' or `Ordered'",g;this.defaultLocatorCacheTimeout=g.getPropertyAsIntWithDefault("Ice.Default.LocatorCacheTimeout",-1);this.defaultPreferSecure=0<g.getPropertyAsIntWithDefault("Ice.Default.PreferSecure",0);d=g.getPropertyWithDefault("Ice.Default.EncodingVersion",
a.encodingVersionToString(f.currentEncoding));this.defaultEncoding=a.stringToEncodingVersion(d);f.checkSupportedEncoding(this.defaultEncoding);this.defaultFormat=0<g.getPropertyAsIntWithDefault("Ice.Default.SlicedFormat",0)?b.SlicedFormat:b.CompactFormat};k.Ice=a})("undefined"===typeof global?window:global);(function(k){var a=k.Ice||{};a.CompactIdRegistry=new a.HashMap;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.Class(a.Object,{__init__:function(a){this._unknownTypeId=a},getUnknownTypeId:function(){return this._unknownTypeId},__write:function(a){a.startWriteObject(this._slicedData);a.endWriteObject()},__read:function(a){a.startReadObject();this._slicedData=a.endReadObject(!0)}});a.SliceInfo=function(){this.typeId="";this.compactId=-1;this.bytes=[];this.objects=[];this.isLastSlice=this.hasOptionalMembers=!1};a.SlicedData=function(a){this.slices=a};a.UnknownSlicedObject=b;k.Ice=
a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.ExUtil,c=a.FormatType,f=a.HashMap,g=a.Object,d=a.OptionalFormat,l=a.Protocol,m=a.TraceUtil,h=a.ArrayUtil,e=a.SlicedData,n=function(a,b){this.index=a;this.patcher=b},p=a.Class,t=p({__init__:function(a,b,c,e){this._stream=a;this._encaps=b;this._sliceObjects=c;this._servantFactoryManager=e;this._patchMap=null;this._unmarshaledMap=new f;this._typeIdMap=null;this._typeIdIndex=0;this._objectList=null},readOpt:function(){return!1},readPendingObjects:function(){},readTypeId:function(b){null===
this._typeIdMap&&(this._typeIdMap=new f);if(b){if(b=this._stream.readSize(),b=this._typeIdMap.get(b),void 0===b)throw new a.UnmarshalOutOfBoundsException;}else b=this._stream.readString(),this._typeIdMap.set(++this._typeIdIndex,b);return b},newInstance:function(a){var b=this._servantFactoryManager.find(a),c=null;void 0!==b&&(c=b.create(a));if(null===c||void 0===c)b=this._servantFactoryManager.find(""),void 0!==b&&(c=b.create(a));if(null===c||void 0===c)c=this._stream.createObject(a);return c},addPatchEntry:function(a,
b){var c=this._unmarshaledMap.get(a);void 0!==c&&null!==c?b.call(null,c):(null===this._patchMap&&(this._patchMap=new f),c=this._patchMap.get(a),void 0===c&&(c=[],this._patchMap.set(a,c)),c.push(b))},unmarshal:function(a,c){var e,d,h;this._unmarshaledMap.set(a,c);c.__read(this._stream);if(null!==this._patchMap&&(h=this._patchMap.get(a),void 0!==h)){e=0;for(d=h.length;e<d;++e)h[e](c);this._patchMap.delete(a)}if(null!==this._patchMap&&0!==this._patchMap.size||null!==this._objectList){if(null===this._objectList&&
(this._objectList=[]),this._objectList.push(c),null===this._patchMap||0===this._patchMap.size){e=0;for(d=this._objectList.length;e<d;e++)try{this._objectList[e].ice_postUnmarshal()}catch(g){this._stream.instance.initializationData().logger.warning("exception raised by ice_postUnmarshal:\n"+b.toString(g))}this._objectList=[]}}else try{c.ice_postUnmarshal()}catch(f){this._stream.instance.initializationData().logger.warning("exception raised by ice_postUnmarshal:\n"+b.toString(f))}}}),v=p(t,{__init__:function(a,
b,c,e){t.call(this,a,b,c,e);this._sliceType=0},readObject:function(b){var c=this._stream.readInt();if(0<c)throw new a.MarshalException("invalid object id");c=-c;0===c?b.call(null,null):this.addPatchEntry(c,b)},throwException:function(){var b=this._stream.readBool();this._sliceType=2;this._skipFirstSlice=!1;this.startSlice();for(var c=this._typeId;;){var e=this._stream.createUserException(this._typeId);if(null!==e)throw e.__read(this._stream),b&&this.readPendingObjects(),e;this.skipSlice();try{this.startSlice()}catch(d){throw d instanceof
a.UnmarshalOutOfBoundsException&&(d.reason="unknown exception type `"+c+"'"),d;}}},startInstance:function(a){this._skipFirstSlice=!0},endInstance:function(){var b;if(1===this._sliceType){this.startSlice();b=this._stream.readSize();if(0!==b)throw new a.MarshalException("invalid Object slice");this.endSlice()}this._sliceType=0;return null},startSlice:function(){var b;if(this._skipFirstSlice)return this._skipFirstSlice=!1,this._typeId;1===this._sliceType?(b=this._stream.readBool(),this._typeId=this.readTypeId(b)):
this._typeId=this._stream.readString();this._sliceSize=this._stream.readInt();if(4>this._sliceSize)throw new a.UnmarshalOutOfBoundsException;return this._typeId},endSlice:function(){},skipSlice:function(){if(0<this._stream.instance.traceLevels().slicing){var a=this._stream.instance.initializationData().logger;1===this._sliceType?m.traceSlicing("object",this._typeId,this._stream.instance.traceLevels().slicingCat,a):m.traceSlicing("exception",this._typeId,this._stream.instance.traceLevels().slicingCat,
a)}this._stream.skip(this._sliceSize-4)},readPendingObjects:function(){var b,c;do for(b=c=this._stream.readSize();0<b;--b)this.readInstance();while(0<c);if(null!==this._patchMap&&0!==this._patchMap.size)throw new a.MarshalException("index for class received, but no instance");},readInstance:function(){var b=this._stream.readInt(),c,e=null;if(0>=b)throw new a.MarshalException("invalid object id");this._sliceType=1;this._skipFirstSlice=!1;this.startSlice();for(c=this._typeId;;){if(this._typeId==g.ice_staticId())throw new a.NoObjectFactoryException("",
c);if(e=this.newInstance(this._typeId))break;if(!this._sliceObjects)throw new a.NoObjectFactoryException("object slicing is disabled",this._typeId);this.skipSlice();this.startSlice()}this.unmarshal(b,e)}}),u=p(t,{__init__:function(a,b,c,e){t.call(this,a,b,c,e);this._current=null;this._objectIdIndex=1},readObject:function(b){var c=this._stream.readSize();if(0>c)throw new a.MarshalException("invalid object id");if(0===c)null!==b&&b.call(null,null);else if(null!==this._current&&0!==(this._current.sliceFlags&
8)){if(null!==b){null===this._current.indirectPatchList&&(this._current.indirectPatchList=[]);var e=new n;e.index=c-1;e.patcher=b;this._current.indirectPatchList.push(e)}}else this.readInstance(c,b)},throwException:function(){this.push(2);this.startSlice();for(var b=this._current.typeId;;){var c=this._stream.createUserException(this._current.typeId);if(null!==c)throw c.__read(this._stream),c;this.skipSlice();if(0!==(this._current.sliceFlags&32)){if(0===b.indexOf("::"))throw new a.UnknownUserException(b.substr(2));
throw new a.UnknownUserException(b);}this.startSlice()}},startInstance:function(a){this._current.skipFirstSlice=!0},endInstance:function(a){var b=null;a&&(b=this.readSlicedData());null!==this._current.slices&&(this._current.slices.length=0,this._current.indirectionTables.length=0);this._current=this._current.previous;return b},startSlice:function(){if(this._current.skipFirstSlice)return this._current.skipFirstSlice=!1,this._current.typeId;this._current.sliceFlags=this._stream.readByte();1===this._current.sliceType?
3===(this._current.sliceFlags&3)?(this._current.typeId="",this._current.compactId=this._stream.readSize()):(this._current.typeId=0!==(this._current.sliceFlags&3)?this.readTypeId(0!==(this._current.sliceFlags&2)):"",this._current.compactId=-1):(this._current.typeId=this._stream.readString(),this._current.compactId=-1);if(0!==(this._current.sliceFlags&16)){if(this._current.sliceSize=this._stream.readInt(),4>this._current.sliceSize)throw new a.UnmarshalOutOfBoundsException;}else this._current.sliceSize=
0;return this._current.typeId},endSlice:function(){var b,c,e=[],d;0!==(this._current.sliceFlags&4)&&this._stream.skipOpts();if(0!==(this._current.sliceFlags&8)){d=this._stream.readAndCheckSeqSize(1);for(c=0;c<d;++c)e[c]=this.readInstance(this._stream.readSize(),null);if(0===e.length)throw new a.MarshalException("empty indirection table");if((null===this._current.indirectPatchList||0===this._current.indirectPatchList.length)&&0===(this._current.sliceFlags&4))throw new a.MarshalException("no references to indirection table");
if(null!==this._current.indirectPatchList){c=0;for(d=this._current.indirectPatchList.length;c<d;++c){b=this._current.indirectPatchList[c];if(b.index>=e.length)throw new a.MarshalException("indirection out of range");this.addPatchEntry(e[b.index],b.patcher)}this._current.indirectPatchList.length=0}}},skipSlice:function(){if(0<this._stream.instance.traceLevels().slicing){var b=this._stream.instance.initializationData().logger,c=this._stream.instance.traceLevels().slicingCat;2===this._current.sliceType?
m.traceSlicing("exception",this._current.typeId,c,b):m.traceSlicing("object",this._current.typeId,c,b)}c=this._stream.pos;if(0!==(this._current.sliceFlags&16))this._stream.skip(this._current.sliceSize-4);else{if(1===this._current.sliceType)throw new a.NoObjectFactoryException("compact format prevents slicing (the sender should use the sliced format instead)",this._current.typeId);if(0===this._current.typeId.indexOf("::"))throw new a.UnknownUserException(this._current.typeId.substring(2));throw new a.UnknownUserException(this._current.typeId);
}b=new a.SliceInfo;b.typeId=this._current.typeId;b.compactId=this._current.compactId;b.hasOptionalMembers=0!==(this._current.sliceFlags&4);b.isLastSlice=0!==(this._current.sliceFlags&32);var e=this._stream._buf,d=e.position,h=d;b.hasOptionalMembers&&--h;e.position=c;b.bytes=e.getArray(h-c);e.position=d;null===this._current.slices&&(this._current.slices=[],this._current.indirectionTables=[]);if(0!==(this._current.sliceFlags&8)){c=this._stream.readAndCheckSeqSize(1);e=[];for(d=0;d<c;++d)e[d]=this.readInstance(this._stream.readSize(),
null);this._current.indirectionTables.push(e)}else this._current.indirectionTables.push(null);this._current.slices.push(b)},readOpt:function(a,b){return null===this._current||0!==(this._current.sliceFlags&4)?this._stream.readOptImpl(a,b):!1},readInstance:function(b,c){var e,d=null;if(1<b)return null!==c&&this.addPatchEntry(b,c),b;this.push(1);b=++this._objectIdIndex;this.startSlice();for(e=this._current.typeId;;){0<=this._current.compactId&&(this._current.typeId="",0===this._current.typeId.length&&
(this._current.typeId=this._stream.getTypeId(this._current.compactId)));if(0<this._current.typeId.length&&(d=this.newInstance(this._current.typeId),null!==d&&void 0!==d))break;if(!this._sliceObjects)throw new a.NoObjectFactoryException("object slicing is disabled",this._current.typeId);this.skipSlice();if(0!==(this._current.sliceFlags&32)){d=new a.UnknownSlicedObject(e);break}this.startSlice()}this.unmarshal(b,d);if(null===this._current&&null!==this._patchMap&&0!==this._patchMap.size)throw new a.MarshalException("index for class received, but no instance");
null!==c&&c.call(null,d);return b},readSlicedData:function(){var a,b,c,d,f,p;if(null===this._current.slices)return null;a=0;for(b=this._current.slices.length;a<b;++a)for(c=this._current.indirectionTables[a],d=this._current.slices[a],d.objects=[],p=c?c.length:0,f=0;f<p;++f)this.addPatchEntry(c[f],r(d.objects,f,g));return new e(h.clone(this._current.slices))},push:function(a){this._current=null===this._current?new u.InstanceData(null):this._current.next?this._current.next:new u.InstanceData(this._current);
this._current.sliceType=a;this._current.skipFirstSlice=!1}});u.InstanceData=function(a){null!==a&&(a.next=this);this.previous=a;this.sliceType=this.next=null;this.skipFirstSlice=!1;this.indirectionTables=this.slices=null;this.sliceSize=this.sliceFlags=0;this.typeId=null;this.compactId=0;this.indirectPatchList=null};var r=function(a,c,e){return function(d){null===d||d instanceof e||b.throwUOE(e.ice_staticId(),d);a[c]=d}},w=p({__init__:function(a,b){this._stream=a;this._encaps=b;this._marshaledMap=
new f;this._typeIdMap=null;this._typeIdIndex=0},writeOpt:function(){return!1},writePendingObjects:function(){},registerTypeId:function(a){null===this._typeIdMap&&(this._typeIdMap=new f);var b=this._typeIdMap.get(a);if(void 0!==b)return b;this._typeIdMap.set(a,++this._typeIdIndex);return-1}}),y=p(w,{__init__:function(a,b){w.call(this,a,b);this._objectIdIndex=this._writeSlice=this._sliceType=0;this._toBeMarshaledMap=new f},writeObject:function(a){null!==a?this._stream.writeInt(-this.registerObject(a)):
this._stream.writeInt(0)},writeUserException:function(a){var b=a.__usesClasses();this._stream.writeBool(b);a.__write(this._stream);b&&this.writePendingObjects()},startInstance:function(a){this._sliceType=a},endInstance:function(){1===this._sliceType&&(this.startSlice(g.ice_staticId(),-1,!0),this._stream.writeSize(0),this.endSlice());this._sliceType=0},startSlice:function(a){if(1===this._sliceType){var b=this.registerTypeId(a);0>b?(this._stream.writeBool(!1),this._stream.writeString(a)):(this._stream.writeBool(!0),
this._stream.writeSize(b))}else this._stream.writeString(a);this._stream.writeInt(0);this._writeSlice=this._stream.pos},endSlice:function(){this._stream.rewriteInt(this._stream.pos-this._writeSlice+4,this._writeSlice-4)},writePendingObjects:function(){for(var a=this,c=function(c,e){a._stream.writeInt(e);try{c.ice_preMarshal()}catch(d){a._stream.instance.initializationData().logger.warning("exception raised by ice_preMarshal:\n"+b.toString(d))}c.__write(a._stream)},e;0<this._toBeMarshaledMap.size;)this._marshaledMap.merge(this._toBeMarshaledMap),
e=this._toBeMarshaledMap,this._toBeMarshaledMap=new f,this._stream.writeSize(e.size),e.forEach(c);this._stream.writeSize(0)},registerObject:function(a){var b=this._toBeMarshaledMap.get(a);if(void 0!==b)return b;b=this._marshaledMap.get(a);if(void 0!==b)return b;this._toBeMarshaledMap.set(a,++this._objectIdIndex);return this._objectIdIndex}}),q=p(w,{__init__:function(a,b){w.call(this,a,b);this._current=null;this._objectIdIndex=1},writeObject:function(a){var b;null===a?this._stream.writeSize(0):null!==
this._current&&this._encaps.format===c.SlicedFormat?(null===this._current.indirectionTable&&(this._current.indirectionTable=[],this._current.indirectionMap=new f),b=this._current.indirectionMap.get(a),void 0===b&&(this._current.indirectionTable.push(a),b=this._current.indirectionTable.length,this._current.indirectionMap.set(a,b)),this._stream.writeSize(b)):this.writeInstance(a)},writePendingObjects:function(){},writeUserException:function(a){a.__write(this._stream)},startInstance:function(a,b){this._current=
null===this._current?new q.InstanceData(null):null===this._current.next?new q.InstanceData(this._current):this._current.next;this._current.sliceType=a;this._current.firstSlice=!0;null!==b&&void 0!==b&&this.writeSlicedData(b)},endInstance:function(){this._current=this._current.previous},startSlice:function(a,b,e){this._current.sliceFlagsPos=this._stream.pos;this._current.sliceFlags=0;this._encaps.format===c.SlicedFormat&&(this._current.sliceFlags|=16);e&&(this._current.sliceFlags|=32);this._stream.writeByte(0);
if(1===this._current.sliceType){if(this._encaps.format===c.SlicedFormat||this._current.firstSlice)0<=b?(this._current.sliceFlags|=3,this._stream.writeSize(b)):(b=this.registerTypeId(a),0>b?(this._current.sliceFlags|=1,this._stream.writeString(a)):(this._current.sliceFlags|=2,this._stream.writeSize(b)))}else this._stream.writeString(a);0!==(this._current.sliceFlags&16)&&this._stream.writeInt(0);this._current.writeSlice=this._stream.pos;this._current.firstSlice=!1},endSlice:function(){var a,b;0!==(this._current.sliceFlags&
4)&&this._stream.writeByte(255);0!==(this._current.sliceFlags&16)&&(a=this._stream.pos-this._current.writeSlice+4,this._stream.rewriteInt(a,this._current.writeSlice-4));if(null!==this._current.indirectionTable&&0!==this._current.indirectionTable.length){this._current.sliceFlags|=8;this._stream.writeSize(this._current.indirectionTable.length);a=0;for(b=this._current.indirectionTable.length;a<b;++a)this.writeInstance(this._current.indirectionTable[a]);this._current.indirectionTable.length=0;this._current.indirectionMap.clear()}this._stream.rewriteByte(this._current.sliceFlags,
this._current.sliceFlagsPos)},writeOpt:function(a,b){return null===this._current?this._stream.writeOptImpl(a,b):this._stream.writeOptImpl(a,b)?(this._current.sliceFlags|=4,!0):!1},writeSlicedData:function(a){if(this._encaps.format===c.SlicedFormat){var b,e,d,h,g;b=0;for(e=a.slices.length;b<e;++b){d=a.slices[b];this.startSlice(d.typeId,d.compactId,d.isLastSlice);this._stream.writeBlob(d.bytes);d.hasOptionalMembers&&(this._current.sliceFlags|=4);if(null!==d.objects&&0<d.objects.length)for(null===this._current.indirectionTable&&
(this._current.indirectionTable=[],this._current.indirectionMap=new f),h=0,g=d.objects.length;h<g;++h)this._current.indirectionTable.push(d.objects[h]);this.endSlice()}}},writeInstance:function(a){var c=this._marshaledMap.get(a);if(void 0!==c)this._stream.writeSize(c);else{this._marshaledMap.set(a,++this._objectIdIndex);try{a.ice_preMarshal()}catch(e){this._stream.instance.initializationData().logger.warning("exception raised by ice_preMarshal:\n"+b.toString(e))}this._stream.writeSize(1);a.__write(this._stream)}}});
q.InstanceData=function(a){null!==a&&(a.next=this);this.previous=a;this.sliceType=this.next=null;this.firstSlice=!1;this.sliceFlagsPos=this.writeSlice=this.sliceFlags=0;this.indirectionMap=this.indirectionTable=null};var A=p({__init__:function(){this.sz=this.start=0;this.encoding=null;this.encoding_1_0=!1;this.next=this.decoder=null},reset:function(){this.decoder=null},setEncoding:function(b){this.encoding=b;this.encoding_1_0=b.equals(a.Encoding_1_0)}}),B=p({__init__:function(){this.start=0;this.format=
c.DefaultFormat;this.encoding=null;this.encoding_1_0=!1;this.next=this.encoder=null},reset:function(){this.encoder=null},setEncoding:function(b){this.encoding=b;this.encoding_1_0=b.equals(a.Encoding_1_0)}}),p=p({__init__:function(b,c,e,d){this._instance=b;this._closure=null;this._encoding=c;this._writeEncapsCache=this._readEncapsCache=this._writeEncapsStack=this._readEncapsStack=null;this._sliceObjects=!0;this._messageSizeMax=this._instance.messageSizeMax();this._unlimited=void 0!==e?e:!1;this._sizePos=
this._startSeq=-1;this._buf=void 0!==d?new a.Buffer(d):new a.Buffer},reset:function(){this._buf.reset();this.clear()},clear:function(){null!==this._readEncapsStack&&(this._readEncapsStack.next=this._readEncapsCache,this._readEncapsCache=this._readEncapsStack,this._readEncapsCache.reset(),this._readEncapsStack=null);null!==this._writeEncapsStack&&(this._writeEncapsStack.next=this._writeEncapsCache,this._writeEncapsCache=this._writeEncapsStack,this._writeEncapsCache.reset(),this._writeEncapsStack=null);
this._startSeq=-1;this._sliceObjects=!0},swap:function(a){var b;b=a._buf;a._buf=this._buf;this._buf=b;b=a._closure;a._closure=this._closure;this._closure=b;this.resetEncaps();a.resetEncaps();b=a._unlimited;a._unlimited=this._unlimited;this._unlimited=b;b=a._startSeq;a._startSeq=this._startSeq;this._startSeq=b;b=a._minSeqSize;a._minSeqSize=this._minSeqSize;this._minSeqSize=b;b=a._sizePos;a._sizePos=this._sizePos;this._sizePos=b},resetEncaps:function(){this._writeEncapsStack=this._readEncapsStack=null},
resize:function(a){!this._unlimited&&a>this._messageSizeMax&&b.throwMemoryLimitException(a,this._messageSizeMax);this._buf.resize(a);this._buf.position=a},prepareWrite:function(){this._buf.position=0;return this._buf},startWriteObject:function(a){this._writeEncapsStack.encoder.startInstance(1,a)},endWriteObject:function(){this._writeEncapsStack.encoder.endInstance()},startReadObject:function(){this._readEncapsStack.decoder.startInstance(1)},endReadObject:function(a){return this._readEncapsStack.decoder.endInstance(a)},
startWriteException:function(a){this._writeEncapsStack.encoder.startInstance(2,a)},endWriteException:function(){this._writeEncapsStack.encoder.endInstance()},startReadException:function(){this._readEncapsStack.decoder.startInstance(2)},endReadException:function(a){return this._readEncapsStack.decoder.endInstance(a)},startWriteEncaps:function(a,b){void 0===a&&(null!==this._writeEncapsStack?(a=this._writeEncapsStack.encoding,b=this._writeEncapsStack.format):(a=this._encoding,b=c.DefaultFormat));l.checkSupportedEncoding(a);
var e=this._writeEncapsCache;null!==e?(e.reset(),this._writeEncapsCache=this._writeEncapsCache.next):e=new B;e.next=this._writeEncapsStack;this._writeEncapsStack=e;this._writeEncapsStack.format=b;this._writeEncapsStack.setEncoding(a);this._writeEncapsStack.start=this._buf.limit;this.writeInt(0);this._writeEncapsStack.encoding.__write(this)},endWriteEncaps:function(){var a=this._writeEncapsStack.start;this._buf.putIntAt(a,this._buf.limit-a);a=this._writeEncapsStack;this._writeEncapsStack=a.next;a.next=
this._writeEncapsCache;this._writeEncapsCache=a;this._writeEncapsCache.reset()},endWriteEncapsChecked:function(){if(null===this._writeEncapsStack)throw new a.EncapsulationException("not in an encapsulation");this.endWriteEncaps()},writeEmptyEncaps:function(a){l.checkSupportedEncoding(a);this.writeInt(6);a.__write(this)},writeEncaps:function(b){if(6>b.length)throw new a.EncapsulationException;this.expand(b.length);this._buf.putArray(b)},getWriteEncoding:function(){return null!==this._writeEncapsStack?
this._writeEncapsStack.encoding:this._encoding},startReadEncaps:function(){var b=this._readEncapsCache;null!==b?(b.reset(),this._readEncapsCache=this._readEncapsCache.next):b=new A;b.next=this._readEncapsStack;this._readEncapsStack=b;this._readEncapsStack.start=this._buf.position;b=this.readInt();if(6>b)throw new a.UnmarshalOutOfBoundsException;if(b-4>this._buf.remaining)throw new a.UnmarshalOutOfBoundsException;this._readEncapsStack.sz=b;b=new a.EncodingVersion;b.__read(this);l.checkSupportedEncoding(b);
this._readEncapsStack.setEncoding(b);return b},endReadEncaps:function(){if(!this._readEncapsStack.encoding_1_0){if(this.skipOpts(),this._buf.position!==this._readEncapsStack.start+this._readEncapsStack.sz)throw new a.EncapsulationException;}else if(this._buf.position!==this._readEncapsStack.start+this._readEncapsStack.sz){if(this._buf.position+1!==this._readEncapsStack.start+this._readEncapsStack.sz)throw new a.EncapsulationException;try{this._buf.get()}catch(b){throw new a.UnmarshalOutOfBoundsException;
}}var c=this._readEncapsStack;this._readEncapsStack=c.next;c.next=this._readEncapsCache;this._readEncapsCache=c;this._readEncapsCache.reset()},skipEmptyEncaps:function(b){if(6!==this.readInt())throw new a.EncapsulationException;var c=this._buf.position;if(c+2>this._buf.limit)throw new a.UnmarshalOutOfBoundsException;null!==b?b.__read(this):this._buf.position=c+2},endReadEncapsChecked:function(){if(null===this._readEncapsStack)throw new a.EncapsulationException("not in an encapsulation");this.endReadEncaps()},
readEncaps:function(b){var c=this.readInt();if(6>c)throw new a.UnmarshalOutOfBoundsException;if(c-4>this._buf.remaining)throw new a.UnmarshalOutOfBoundsException;null!==b?(b.__read(this),this._buf.position-=6):this._buf.position-=4;try{return this._buf.getArray(c)}catch(e){throw new a.UnmarshalOutOfBoundsException;}},getReadEncoding:function(){return null!==this._readEncapsStack?this._readEncapsStack.encoding:this._encoding},getReadEncapsSize:function(){return this._readEncapsStack.sz-6},skipEncaps:function(){var b=
this.readInt();if(6>b)throw new a.UnmarshalOutOfBoundsException;var c=new a.EncodingVersion;c.__read(this);try{this._buf.position=this._buf.position+b-6}catch(e){throw new a.UnmarshalOutOfBoundsException;}return c},startWriteSlice:function(a,b,c){this._writeEncapsStack.encoder.startSlice(a,b,c)},endWriteSlice:function(){this._writeEncapsStack.encoder.endSlice()},startReadSlice:function(){return this._readEncapsStack.decoder.startSlice()},endReadSlice:function(){this._readEncapsStack.decoder.endSlice()},
skipSlice:function(){this._readEncapsStack.decoder.skipSlice()},readPendingObjects:function(){null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder?this._readEncapsStack.decoder.readPendingObjects():(null!==this._readEncapsStack&&this._readEncapsStack.encoding_1_0||null===this._readEncapsStack&&this._encoding.equals(a.Encoding_1_0))&&this.skipSize()},writePendingObjects:function(){null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder?this._writeEncapsStack.encoder.writePendingObjects():
(null!==this._writeEncapsStack&&this._writeEncapsStack.encoding_1_0||null===this._writeEncapsStack&&this._encoding.equals(a.Encoding_1_0))&&this.writeSize(0)},writeSize:function(a){254<a?(this.expand(5),this._buf.put(255),this._buf.putInt(a)):(this.expand(1),this._buf.put(a))},readSize:function(){try{var b=this._buf.get();if(255===b){var c=this._buf.getInt();if(0>c)throw new a.UnmarshalOutOfBoundsException;return c}return b}catch(e){throw new a.UnmarshalOutOfBoundsException;}},readAndCheckSeqSize:function(b){var c=
this.readSize();if(0===c)return c;-1===this._startSeq||this._buf.position>this._startSeq+this._minSeqSize?(this._startSeq=this._buf.position,this._minSeqSize=c*b):this._minSeqSize+=c*b;if(this._startSeq+this._minSeqSize>this._buf.limit)throw new a.UnmarshalOutOfBoundsException;return c},startSize:function(){var a=this._buf.position;this.writeInt(0);return a},endSize:function(a){this.rewriteInt(this._buf.position-a-4,a)},writeBlob:function(a){null!==a&&(this.expand(a.length),this._buf.putArray(a))},
readBlob:function(b){if(this._buf.remaining<b)throw new a.UnmarshalOutOfBoundsException;try{return this._buf.getArray(b)}catch(c){throw new a.UnmarshalOutOfBoundsException;}},writeOpt:function(a,b){return null!==this._writeEncapsStack.encoder?this._writeEncapsStack.encoder.writeOpt(a,b):this.writeOptImpl(a,b)},readOpt:function(a,b){return null!==this._readEncapsStack.decoder?this._readEncapsStack.decoder.readOpt(a,b):this.readOptImpl(a,b)},writeOptValue:function(a,b,c,e){void 0!==e&&this.writeOpt(a,
b)&&c.call(this,e)},readOptValue:function(a,b,c){if(this.readOpt(a,b))return c.call(this)},writeByte:function(a){this.expand(1);this._buf.put(a)},rewriteByte:function(a,b){this._buf.putAt(b,a)},readByte:function(){try{return this._buf.get()}catch(b){throw new a.UnmarshalOutOfBoundsException;}},writeByteSeq:function(a){null===a||0===a.length?this.writeSize(0):(this.writeSize(a.length),this.expand(a.length),this._buf.putArray(a))},readByteSeq:function(){return this._buf.getArray(this.readAndCheckSeqSize(1))},
writeBool:function(a){this.expand(1);this._buf.put(a?1:0)},rewriteBool:function(a,b){this._buf.putAt(b,a?1:0)},readBool:function(){try{return 1===this._buf.get()}catch(b){throw new a.UnmarshalOutOfBoundsException;}},writeShort:function(a){this.expand(2);this._buf.putShort(a)},readShort:function(){try{return this._buf.getShort()}catch(b){throw new a.UnmarshalOutOfBoundsException;}},writeInt:function(a){this.expand(4);this._buf.putInt(a)},rewriteInt:function(a,b){this._buf.putIntAt(b,a)},readInt:function(){try{return this._buf.getInt()}catch(b){throw new a.UnmarshalOutOfBoundsException;
}},writeLong:function(a){this.expand(8);this._buf.putLong(a)},readLong:function(){try{return this._buf.getLong()}catch(b){throw new a.UnmarshalOutOfBoundsException;}},writeFloat:function(a){this.expand(4);this._buf.putFloat(a)},readFloat:function(){try{return this._buf.getFloat()}catch(b){throw new a.UnmarshalOutOfBoundsException;}},writeDouble:function(a){this.expand(8);this._buf.putDouble(a)},readDouble:function(){try{return this._buf.getDouble()}catch(b){throw new a.UnmarshalOutOfBoundsException;
}},writeString:function(a){null===a||0===a.length?this.writeSize(0):this._buf.writeString(this,a)},readString:function(){var b=this.readSize();if(0===b)return"";if(this._buf.remaining<b)throw new a.UnmarshalOutOfBoundsException;try{return this._buf.getString(b)}catch(c){throw new a.UnmarshalOutOfBoundsException;}},writeProxy:function(a){this._instance.proxyFactory().proxyToStream(a,this)},writeOptProxy:function(a,b){if(void 0!==b&&this.writeOpt(a,d.FSize)){var c=this.startSize();this.writeProxy(b);
this.endSize(c)}},readProxy:function(a){return this._instance.proxyFactory().streamToProxy(this,a)},readOptProxy:function(a,b){if(this.readOpt(a,d.FSize))return this.skip(4),this.readProxy(b)},writeEnum:function(a){this.isWriteEncoding_1_0()?127>a.maxValue?this.writeByte(a.value):32767>a.maxValue?this.writeShort(a.value):this.writeInt(a.value):this.writeSize(a.value)},readEnum:function(b){var c;c=this.getReadEncoding().equals(a.Encoding_1_0)?127>b.maxValue?this.readByte():32767>b.maxValue?this.readShort():
this.readInt():this.readSize();b=b.valueOf(c);if(void 0===b)throw new a.MarshalException("enumerator value "+c+" is out of range");return b},readOptEnum:function(a,b){if(this.readOpt(a,d.Size))return this.readEnum(b)},writeObject:function(a){this.initWriteEncaps();this._writeEncapsStack.encoder.writeObject(a)},writeOptObject:function(a,b){void 0!==b&&this.writeOpt(a,d.Class)&&this.writeObject(b)},readObject:function(a,c){this.initReadEncaps();this._readEncapsStack.decoder.readObject.call(this._readEncapsStack.decoder,
function(e){null===e||e.ice_instanceof(c)||b.throwUOE(c.ice_staticId(),e);a(e)})},readOptObject:function(a,b,c){this.readOpt(a,d.Class)?this.readObject(b,c):b(void 0)},writeUserException:function(a){this.initWriteEncaps();this._writeEncapsStack.encoder.writeUserException(a)},throwException:function(){this.initReadEncaps();this._readEncapsStack.decoder.throwException()},sliceObjects:function(a){this._sliceObjects=a},readOptImpl:function(b,c){var e,h;if(this.isReadEncoding_1_0())return!1;for(;;){if(this._buf.position>=
this._readEncapsStack.start+this._readEncapsStack.sz)return!1;e=this.readByte();if(255===e)return--this._buf.position,!1;h=d.valueOf(e&7);e>>=3;30===e&&(e=this.readSize());if(e>b)return h=30>e?1:255>e?2:6,this._buf.position-=h,!1;if(e<b)this.skipOpt(h);else{if(h!==c)throw new a.MarshalException("invalid optional data member `"+e+"': unexpected format");return!0}}},writeOptImpl:function(a,b){if(this.isWriteEncoding_1_0())return!1;var c=b.value;30>a?this.writeByte(c|a<<3):(c|=240,this.writeByte(c),
this.writeSize(a));return!0},skipOpt:function(b){switch(b){case d.F1:this.skip(1);break;case d.F2:this.skip(2);break;case d.F4:this.skip(4);break;case d.F8:this.skip(8);break;case d.Size:this.skipSize();break;case d.VSize:this.skip(this.readSize());break;case d.FSize:this.skip(this.readInt());break;case d.Class:this.readObject(null,a.Object)}},skipOpts:function(){for(var a,b;!(this._buf.position>=this._readEncapsStack.start+this._readEncapsStack.sz);){a=this.readByte();a=0>a?a+256:a;if(255===a)break;
b=d.valueOf(a&7);30===a>>3&&this.skipSize();this.skipOpt(b)}},skip:function(b){if(b>this._buf.remaining)throw new a.UnmarshalOutOfBoundsException;this._buf.position+=b},skipSize:function(){255===this.readByte()&&this.skip(4)},isEmpty:function(){return this._buf.empty()},expand:function(a){!this._unlimited&&this._buf&&this._buf.position+a>this._messageSizeMax&&b.throwMemoryLimitException(this._buf.position+a,this._messageSizeMax);this._buf.expand(a)},createObject:function(b){var c=null,e;try{var d=
2<b.length?b.substr(2).replace(/::/g,"."):"";e=eval(d);void 0!==e&&(c=new e)}catch(h){throw new a.NoObjectFactoryException("no object factory",b,h);}return c},getTypeId:function(b){b=a.CompactIdRegistry.get(b);return void 0===b?"":b},isReadEncoding_1_0:function(){return null!==this._readEncapsStack?this._readEncapsStack.encoding_1_0:this._encoding.equals(a.Encoding_1_0)},isWriteEncoding_1_0:function(){return this._writeEncapsStack?this._writeEncapsStack.encoding_1_0:this._encoding.equals(a.Encoding_1_0)},
initReadEncaps:function(){null===this._readEncapsStack&&(this._readEncapsStack=this._readEncapsCache,null!==this._readEncapsStack?this._readEncapsCache=this._readEncapsCache.next:this._readEncapsStack=new A,this._readEncapsStack.setEncoding(this._encoding),this._readEncapsStack.sz=this._buf.limit);if(null===this._readEncapsStack.decoder){var a=this._instance.servantFactoryManager();this._readEncapsStack.decoder=this._readEncapsStack.encoding_1_0?new v(this,this._readEncapsStack,this._sliceObjects,
a):new u(this,this._readEncapsStack,this._sliceObjects,a)}},initWriteEncaps:function(){this._writeEncapsStack||((this._writeEncapsStack=this._writeEncapsCache)?this._writeEncapsCache=this._writeEncapsCache.next:this._writeEncapsStack=new B,this._writeEncapsStack.setEncoding(this._encoding));this._writeEncapsStack.format===c.DefaultFormat&&(this._writeEncapsStack.format=this._instance.defaultsAndOverrides().defaultFormat);this._writeEncapsStack.encoder||(this._writeEncapsStack.encoder=this._writeEncapsStack.encoding_1_0?
new y(this,this._writeEncapsStack):new q(this,this._writeEncapsStack))},createUserException:function(b){var c=null,e;try{var d=2<b.length?b.substr(2).replace(/::/g,"."):"";e=eval(d);void 0!==e&&(c=new e)}catch(h){throw new a.MarshalException(h);}return c}}),z=Object.defineProperty;z(p.prototype,"pos",{get:function(){return this._buf.position},set:function(a){this._buf.position=a}});z(p.prototype,"size",{get:function(){return this._buf.limit}});z(p.prototype,"instance",{get:function(){return this._instance}});
z(p.prototype,"closure",{get:function(){return this._type},set:function(a){this._type=a}});z(p.prototype,"buffer",{get:function(){return this._buf}});var x=function(a,b,c,e){var d={write:function(b,c){return a.call(b,c)},read:function(a){return b.call(a)},writeOpt:function(b,c,d){b.writeOptValue(c,e,a,d)},readOpt:function(a,c){return a.readOptValue(c,e,b)}};z(d,"minWireSize",{get:function(){return c}});return d},C=p.prototype;a.ByteHelper=x(C.writeByte,C.readByte,1,a.OptionalFormat.F1);a.BoolHelper=
x(C.writeBool,C.readBool,1,a.OptionalFormat.F1);a.ShortHelper=x(C.writeShort,C.readShort,2,a.OptionalFormat.F2);a.IntHelper=x(C.writeInt,C.readInt,4,a.OptionalFormat.F4);a.LongHelper=x(C.writeLong,C.readLong,8,a.OptionalFormat.F8);a.FloatHelper=x(C.writeFloat,C.readFloat,4,a.OptionalFormat.F4);a.DoubleHelper=x(C.writeDouble,C.readDouble,8,a.OptionalFormat.F8);a.StringHelper=x(C.writeString,C.readString,1,a.OptionalFormat.VSize);a.ObjectHelper={write:function(a,b){a.writeObject(b)},read:function(b){var c;
b.readObject(function(a){c=a},a.Object);return c},writeOpt:function(b,c,e){b.writeOptValue(c,a.OptionalFormat.Class,C.writeObject,e)},readOpt:function(b,c){var e;b.readOptObject(c,function(a){e=a},a.Object);return e}};z(a.ObjectHelper,"minWireSize",{get:function(){return 1}});a.BasicStream=p;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.AsyncResultBase,c=a.Protocol,f=a.UserException,g=a.BasicStream,d=a.Class(b,{__init__:function(a,d,h,e,f,p,t){b.call(this,a,d,h,e,f);void 0!==a&&(this._completed=p,this._sent=t,this._is=null,this._os=null!==a?new g(this._instance,c.currentProtocolEncoding,!1):null,this._state=0,this._exception=null)},__os:function(){return this._os},__is:function(){return this._is},__startReadParams:function(){this._is.startReadEncaps();return this._is},__endReadParams:function(){this._is.endReadEncaps()},
__readEmptyParams:function(){this._is.skipEmptyEncaps(null)},__readParamEncaps:function(){return this._is.readEncaps(null)},__throwUserException:function(){if(0===(this._state&d.OK))try{this._is.startReadEncaps(),this._is.throwException()}catch(a){throw a instanceof f&&this._is.endReadEncaps(),a;}},__exception:function(a){this._state|=d.Done;this._exception=a;this._os.resize(0);this.fail(a,this)},__response:function(){null!==this.proxy&&this.proxy.ice_isTwoway()&&this._completed(this)}});d.OK=1;d.Done=
2;d.Sent=4;a.AsyncResult=d;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.AsyncResult,c=a.BasicStream,f=a.HashMap,g=a.LocalExceptionWrapper,d=a.OperationMode,l=a.Protocol,m=a.Identity,h=a.Class(b,{__init__:function(a,c,d,h){void 0!==a?(b.call(this,a.ice_getCommunicator(),c,null,a,null,d,h),this._batch=this._proxy.ice_isBatchOneway()||this._proxy.ice_isBatchDatagram(),this._batchStarted=!1,this._timerToken=-1,this._handler=this._timerConnection=null,this._encoding=l.getCompatibleEncoding(this._proxy.__reference().getEncoding()),this._cnt=
0,this._mode=null):b.call(this)},__prepare:function(b,c,d){this._handler=null;this._cnt=0;this._mode=c;l.checkSupportedProtocol(l.getCompatibleProtocol(this._proxy.__reference().getProtocol()));null===d&&(d=h._emptyContext);if(this._batch)for(;;)try{this._handler=this._proxy.__getRequestHandler();this._handler.prepareBatchRequest(this._os);this._batchStarted=!0;break}catch(t){if(t instanceof g)this.handleExceptionWrapper(t);else if(t instanceof a.LocalException)this.handleException(t,!1);else throw t;
}else this._os.writeBlob(l.requestHdr);b=this._proxy.__reference();b.getIdentity().__write(this._os);var m=b.getFacet();null===m||0===m.length?a.StringSeqHelper.write(this._os,null):a.StringSeqHelper.write(this._os,[m]);this._os.writeString(this._operation);this._os.writeByte(c.value);if(void 0!==d){if(null!==d&&!(d instanceof f))throw Error("illegal context value, expecting null or HashMap");a.ContextHelper.write(this._os,d)}else c=b.getInstance().getImplicitContext(),d=b.getContext(),null===c?a.ContextHelper.write(this._os,
d):c.write(d,this._os)},__sent:function(a){this._state|=b.Sent;if(0===(this._state&b.Done))if(!this._proxy.ice_isTwoway())this._state=this._state|b.Done|b.OK,this._os.resize(0),this._sent?this._sent.call(null,this):this.succeed(this);else if(0<a.timeout()){this._timerConnection=a;var c=this;this._timerToken=this._instance.timer().schedule(function(){c.__runTimerTask()},a.timeout())}},__finishedEx:function(b,c){null!==this._timerConnection&&(this._instance.timer().cancel(this._timerToken),this._timerConnection=
null,this._timerToken=-1);try{var d=this.handleException(b,c);0<d?this._instance.retryQueue().add(this,d):this.__send()}catch(h){h instanceof a.LocalException?this.__exception(h):this.fail(h,this)}},__finishedWrapper:function(b){try{var c=this.handleExceptionWrapper(b);0<c?this._instance.retryQueue().add(this,c):this.__send()}catch(d){d instanceof a.LocalException?this.__exception(d):this.fail(d,this)}},__finished:function(e){var d;try{null!==this._timerConnection&&(this._instance.timer().cancel(this._timerToken),
this._timerConnection=null,this._timerToken=-1);null===this._is&&(this._is=new c(this._instance,l.currentProtocolEncoding,!1));this._is.swap(e);d=this._is.readByte();switch(d){case l.replyOK:case l.replyUserException:break;case l.replyObjectNotExist:case l.replyFacetNotExist:case l.replyOperationNotExist:var h=new m;h.__read(this._is);var g=a.StringSeqHelper.read(this._is),f;if(0<g.length){if(1<g.length)throw new a.MarshalException;f=g[0]}else f="";var u=this._is.readString(),k=null;switch(d){case l.replyObjectNotExist:k=
new a.ObjectNotExistException;break;case l.replyFacetNotExist:k=new a.FacetNotExistException;break;case l.replyOperationNotExist:k=new a.OperationNotExistException}k.id=h;k.facet=f;k.operation=u;throw k;case l.replyUnknownException:case l.replyUnknownLocalException:case l.replyUnknownUserException:k=this._is.readString();h=null;switch(d){case l.replyUnknownException:h=new a.UnknownException;break;case l.replyUnknownLocalException:h=new a.UnknownLocalException;break;case l.replyUnknownUserException:h=
new a.UnknownUserException}h.unknown=k;throw h;default:throw new a.UnknownReplyStatusException;}this._state|=b.Done;d==l.replyOK&&(this._state|=b.OK)}catch(w){w instanceof a.LocalException?this.__finishedEx(w,!0):this.fail(w,this);return}this.__response()},__send:function(){if(this._batch)this._handler.finishBatchRequest(this._os),this.succeed(this);else for(;;){var b=0;try{this._handler=this._proxy.__getRequestHandler();this._handler.sendAsyncRequest(this);break}catch(c){if(c instanceof g)b=this.handleExceptionWrapper(c);
else if(c instanceof a.LocalException)b=this.handleException(c,!1);else throw c;}if(0<b)return this._instance.retryQueue().add(this,b),!1}},__startWriteParams:function(a){this._os.startWriteEncaps(this._encoding,a);return this._os},__endWriteParams:function(){this._os.endWriteEncaps()},__writeEmptyParams:function(){this._os.writeEmptyEncaps(this._encoding)},__writeParamEncaps:function(a){null===a||0===a.length?this._os.writeEmptyEncaps(this._encoding):this._os.writeEncaps(a)},__exception:function(a){b.prototype.__exception.call(this,
a);this._batchStarted&&this._handler.abortBatchRequest()},handleException:function(b,c){var h={value:0};try{if(!c||b instanceof a.CloseConnectionException||b instanceof a.ObjectNotExistException)throw b;throw new g(b,!1);}catch(f){if(f instanceof g)this._mode===d.Nonmutating||this._mode===d.Idempotent?this._cnt=this._proxy.__handleExceptionWrapperRelaxed(this._handler,f,h,this._cnt):this._proxy.__handleExceptionWrapper(this._handler,f);else if(f instanceof a.LocalException)this._cnt=this._proxy.__handleException(this._handler,
f,h,this._cnt);else throw f;}return h.value},handleExceptionWrapper:function(a){var b={value:0};this._mode===d.Nonmutating||this._mode===d.Idempotent?this._cnt=this._proxy.__handleExceptionWrapperRelaxed(this._handler,a,b,this._cnt):this._proxy.__handleExceptionWrapper(this._handler,a);return b.value},__runTimerTask:function(){var b=this._timerConnection;this._timerConnection=null;this._timerToken=-1;null!==b&&b.exception(new a.TimeoutException)}});h._emptyContext=new f;a.OutgoingAsync=h;k.Ice=a})("undefined"===
typeof global?window:global);(function(k){var a=k.Ice||{},b=a.AsyncResult,c=a.Class(b,{__init__:function(a,c){b.call(this,a,c,null,null,null,null)},__sent:function(a){this._state=this._state|b.Done|b.OK|b.Sent;this._os.resize(0);this.succeed(this)},__finishedEx:function(a,b){this.__exception(a)}});a.BatchOutgoingAsync=c;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.BatchOutgoingAsync,c=a.Protocol,f=a.Class(b,{__init__:function(a,c){b.call(this,a.ice_getCommunicator(),c);this._proxy=a},__send:function(){c.checkSupportedProtocol(this._proxy.__reference().getProtocol());var a=null;try{a=this._proxy.__getRequestHandler(),a.flushAsyncBatchRequests(this)}catch(b){this._proxy.__handleException(a,b,0,-1)}}});a.ProxyBatchOutgoingAsync=f;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.ExUtil,c=a.StringUtil,f=a.Identity,g=a.IdentityParseException,a=k.Ice||{};a.stringToIdentity=function(a){for(var l=new f,m=-1,h=0;-1!==(h=a.indexOf("/",h));){if(0===h||"\\"!=a.charAt(h-1))if(-1==m)m=h;else throw l=new g,l.str="unescaped backslash in identity `"+a+"'",l;h++}if(-1==m){l.category="";try{l.name=c.unescapeString(a)}catch(e){throw l=new g,l.str="invalid identity name `"+a+"': "+b.toString(e),l;}}else{try{l.category=c.unescapeString(a,0,m)}catch(k){throw l=
new g,l.str="invalid category in identity `"+a+"': "+b.toString(k),l;}if(m+1<a.length)try{l.name=c.unescapeString(a,m+1,a.length)}catch(p){throw l=new g,l.str="invalid name in identity `"+a+"': "+b.toString(p),l;}else l.name=""}return l};a.identityToString=function(a){return null===a.category||0===a.category.length?c.escapeString(a.name,"/"):c.escapeString(a.category,"/")+"/"+c.escapeString(a.name,"/")};a.proxyIdentityCompare=function(a,b){if(a===b)return 0;if(null===a&&null!==b)return-1;if(null!==
a&&null===b)return 1;var c=a.ice_getIdentity(),h=b.ice_getIdentity(),e;return 0!==(e=c.name.localeCompare(h.name))?e:c.category.localeCompare(h.category)};a.proxyIdentityAndFacetCompare=function(a,b){if(a===b)return 0;if(null===a&&null!==b)return-1;if(null!==a&&null===b)return 1;var c=a.ice_getIdentity(),h=b.ice_getIdentity(),e;if(0!==(e=c.name.localeCompare(h.name))||0!==(e=c.category.localeCompare(h.category)))return e;c=a.ice_getFacet();h=b.ice_getFacet();return null===c&&null===h?0:null===c?-1:
null===h?1:c.localeCompare(h)};k.Ice=a})("undefined"===typeof global?window:global);(function(k){var a=k.Ice||{};a.SocketOperation={None:0,Read:1,Write:2,Connect:2};k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.HashMap,c=a.InitializationException,f=a.Class({__init__:function(){this._context=new b},getContext:function(){return new b(this._context)},setContext:function(a){null!==a&&0<a.size?this._context=new b(a):this._context.clear()},containsKey:function(a){null===a&&(a="");return this._context.has(a)},get:function(a){null===a&&(a="");a=this._context.get(a);null===a&&(a="");return a},put:function(a,b){null===a&&(a="");null===b&&(b="");var c=this._context.get(a);null===c&&
(c="");this._context.set(a,b);return c},remove:function(a){null===a&&(a="");var b=this._context.get(a);this._context.delete(a);null===b&&(b="");return b},write:function(c,d){if(0===c.size)a.ContextHelper.write(d,this._context);else{var f=null;0===this._context.size?f=c:(f=new b(this._context),f.merge(c));a.ContextHelper.write(d,f)}}});f.create=function(a){if(0===a.length||"None"===a)return null;if("Shared"===a)return new f;throw new c("'"+a+"' is not a valid value for Ice.ImplicitContext");};a.ImplicitContextI=
f;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.AsyncStatus,c=a.BasicStream,f=a.ConnectionRequestHandler,g=a.ExUtil,d=a.LocalExceptionWrapper,l=a.OutgoingAsync,m=a.Protocol,h=a.ReferenceMode,e=a.LocalException,n=a.Class({__init__:function(a,b){this._reference=a;this._response=a.getMode()===h.ModeTwoway;this._proxy=b;this._batchAutoFlush=0<a.getInstance().initializationData().properties.getPropertyAsIntWithDefault("Ice.BatchAutoFlush",1)?!0:!1;this._batchRequestInProgress=this._flushing=this._initialized=!1;this._batchRequestsSize=
m.requestBatchHdr.length;this._batchStream=new c(a.getInstance(),m.currentProtocolEncoding,this._batchAutoFlush);this._updateRequestHandler=!1;this._connection=null;this._compress=!1;this._exception=null;this._requests=[];this._updateRequestHandler=!1;this._pendingPromises=[]},connect:function(){var a=this;this._reference.getConnection().then(function(b,c){a.setConnection(b,c)}).exception(function(b){a.setException(b)});if(this.initialized())return new f(this._reference,this._connection,this._compress);
this._updateRequestHandler=!0;return this},prepareBatchRequest:function(a){this.initialized()?this._connection.prepareBatchRequest(a):(this._batchRequestInProgress=!0,this._batchStream.swap(a))},finishBatchRequest:function(a){this.initialized()?this._connection.finishBatchRequest(a,this._compress):(this._batchRequestInProgress=!1,this._batchStream.swap(a),!this._batchAutoFlush&&this._batchStream.size+this._batchRequestsSize>this._reference.getInstance().messageSizeMax()&&g.throwMemoryLimitException(this._batchStream.size+
this._batchRequestsSize,this._reference.getInstance().messageSizeMax()),this._requests.push(new p(this._batchStream)))},abortBatchRequest:function(){if(this.initialized())this._connection.abortBatchRequest();else{this._batchRequestInProgress=!1;var a=new c(this._reference.getInstance(),m.currentProtocolEncoding,this._batchAutoFlush);this._batchStream.swap(a);this._batchRequestsSize=m.requestBatchHdr.length}},sendAsyncRequest:function(a){return this.initialized()?this._connection.sendAsyncRequest(a,
this._compress,this._response):(this._requests.push(new p(a)),b.Queued)},flushAsyncBatchRequests:function(a){return this.initialized()?this._connection.flushAsyncBatchRequests(a):(this._requests.push(new p(a)),b.Queued)},getReference:function(){return this._reference},getConnection:function(){if(null!==this._exception)throw this._exception;return this._connection},onConnection:function(a){null!==this._exception?a.__exception(this._exception):null!==this._connection?a.succeed(this._connection,a):this._pendingPromises.push(a)},
setConnection:function(a,b){this._connection=a;this._compress=b;var c=this._reference.getRouterInfo();if(null!==c){var e=this;if(!c.addProxy(this._proxy).then(function(){e.flushRequests()}).exception(function(a){e.setException(a)}).completed())return}this.flushRequests()},setException:function(a){this._exception=a;this._proxy=null;0<this._requests.length&&this.flushRequestsWithException(a);for(var b=0;b<this._pendingPromises.length;++b)this._pendingPromises[b].fail(a);this._pendingPromises=[]},initialized:function(){if(this._initialized)return!0;
if(null!==this._exception)throw this._exception;return this._initialized},flushRequests:function(){this._flushing=!0;try{for(;0<this._requests.length;){var a=this._requests[0];if(null!==a.out)this._connection.sendAsyncRequest(a.out,this._compress,this._response);else if(null!==a.batchOut)this._connection.flushAsyncBatchRequests(a.batchOut);else{var b=new c(a.os.instance,m.currentProtocolEncoding);this._connection.prepareBatchRequest(b);try{a.os.pos=0,b.writeBlob(a.os.readBlob(a.os.size))}catch(h){throw this._connection.abortBatchRequest(),
h;}this._connection.finishBatchRequest(b,this._compress)}this._requests.shift()}}catch(g){if(g instanceof d)this._exception=g.inner,this.flushRequestsWithExceptionWrapper(g);else if(g instanceof e)this._exception=g,this.flushRequestsWithException(g);else throw g;}this._updateRequestHandler&&null===this._exception&&this._proxy.__setRequestHandler(new f(this._reference,this._connection,this._compress));null===this._exception&&(this._initialized=!0,this._flushing=!1);this._proxy=null;for(b=0;b<this._pendingPromises.length;++b)a=
this._pendingPromises[b],a.succeed(this._connection,a);this._pendingPromises=[]},flushRequestsWithException:function(a){for(var b=0;b<this._requests.length;++b){var c=this._requests[b];null!==c.out?c.out.__finishedEx(a,!1):null!==c.batchOut&&c.batchOut.__finishedEx(a,!1)}this._requests=[]},flushRequestsWithExceptionWrapper:function(a){for(var b=0;b<this._requests.length;++b){var c=this._requests[b];null!==c.out?c.out.__finishedWrapper(a):null!==c.batchOut&&c.batchOut.__finishedEx(a.inner,!1)}this._requests=
[]}});a.ConnectRequestHandler=n;k.Ice=a;var p=function(a){this.batchOut=this.out=this.os=null;a instanceof c?(this.os=new c(a.instance,m.currentProtocolEncoding),this.os.swap(a)):a instanceof l?this.out=a:this.batchOut=a}})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=k.Slice||{},c=a.ArrayUtil,f=a.AsyncResultBase,g=a.AsyncResult,d=a.ConnectRequestHandler,l=a.HashMap,m=a.OutgoingAsync,h=a.ProxyBatchOutgoingAsync,e=a.ReferenceMode,n=a.Class({__init__:function(){this._handler=this._reference=null},hashCode:function(a){return this._reference.hashCode()},ice_getCommunicator:function(){return this._reference.getCommunicator()},toString:function(){return this._reference.toString()},ice_getIdentity:function(){return this._reference.getIdentity().clone()},
ice_identity:function(b){if(void 0===b||null===b||0===b.name.length)throw new a.IllegalIdentityException;if(b.equals(this._reference.getIdentity()))return this;var c=new n;c.__setup(this._reference.changeIdentity(b));return c},ice_getContext:function(){return new l(this._reference.getContext())},ice_context:function(a){return this.__newInstance(this._reference.changeContext(a))},ice_getFacet:function(){return this._reference.getFacet()},ice_facet:function(a){if(void 0===a||null===a)a="";if(a===this._reference.getFacet())return this;
var b=new n;b.__setup(this._reference.changeFacet(a));return b},ice_getAdapterId:function(){return this._reference.getAdapterId()},ice_adapterId:function(a){if(void 0===a||null===a)a="";return a===this._reference.getAdapterId()?this:this.__newInstance(this._reference.changeAdapterId(a))},ice_getEndpoints:function(){return c.clone(this._reference.getEndpoints())},ice_endpoints:function(a){if(void 0===a||null===a)a=[];return c.equals(a,this._reference.getEndpoints())?this:this.__newInstance(this._reference.changeEndpoints(a))},
ice_getLocatorCacheTimeout:function(){return this._reference.getLocatorCacheTimeout()},ice_locatorCacheTimeout:function(a){return a===this._reference.getLocatorCacheTimeout()?this:this.__newInstance(this._reference.changeLocatorCacheTimeout(a))},ice_isConnectionCached:function(){return this._reference.getCacheConnection()},ice_connectionCached:function(a){return a===this._reference.getCacheConnection()?this:this.__newInstance(this._reference.changeCacheConnection(a))},ice_getEndpointSelection:function(){return this._reference.getEndpointSelection()},
ice_endpointSelection:function(a){return a===this._reference.getEndpointSelection()?this:this.__newInstance(this._reference.changeEndpointSelection(a))},ice_isSecure:function(){return this._reference.getSecure()},ice_secure:function(a){return a===this._reference.getSecure()?this:this.__newInstance(this._reference.changeSecure(a))},ice_getEncodingVersion:function(){return this._reference.getEncoding().clone()},ice_encodingVersion:function(a){return a.equals(this._reference.getEncoding())?this:this.__newInstance(this._reference.changeEncoding(a))},
ice_isPreferSecure:function(){return this._reference.getPreferSecure()},ice_preferSecure:function(a){return a===this._reference.getPreferSecure()?this:this.__newInstance(this._reference.changePreferSecure(a))},ice_getRouter:function(){var a=this._reference.getRouterInfo();return null!==a?a.getRouter():null},ice_router:function(a){a=this._reference.changeRouter(a);return a.equals(this._reference)?this:this.__newInstance(a)},ice_getLocator:function(){var a=this._reference.getLocatorInfo();return null!==
a?a.getLocator():null},ice_locator:function(a){a=this._reference.changeLocator(a);return a.equals(this._reference)?this:this.__newInstance(a)},ice_isTwoway:function(){return this._reference.getMode()===e.ModeTwoway},ice_twoway:function(){return this._reference.getMode()===e.ModeTwoway?this:this.__newInstance(this._reference.changeMode(e.ModeTwoway))},ice_isOneway:function(){return this._reference.getMode()===e.ModeOneway},ice_oneway:function(){return this._reference.getMode()===e.ModeOneway?this:
this.__newInstance(this._reference.changeMode(e.ModeOneway))},ice_isBatchOneway:function(){return this._reference.getMode()===e.ModeBatchOneway},ice_batchOneway:function(){return this._reference.getMode()===e.ModeBatchOneway?this:this.__newInstance(this._reference.changeMode(e.ModeBatchOneway))},ice_isDatagram:function(){return this._reference.getMode()===e.ModeDatagram},ice_datagram:function(){return this._reference.getMode()===e.ModeDatagram?this:this.__newInstance(this._reference.changeMode(e.ModeDatagram))},
ice_isBatchDatagram:function(){return this._reference.getMode()===e.ModeBatchDatagram},ice_batchDatagram:function(){return this._reference.getMode()===e.ModeBatchDatagram?this:this.__newInstance(this._reference.changeMode(e.ModeBatchDatagram))},ice_compress:function(a){a=this._reference.changeCompress(a);return a.equals(this._reference)?this:this.__newInstance(a)},ice_timeout:function(a){a=this._reference.changeTimeout(a);return a.equals(this._reference)?this:this.__newInstance(a)},ice_getConnectionId:function(){return this._reference.getConnectionId()},
ice_connectionId:function(a){a=this._reference.changeConnectionId(a);return a.equals(this._reference)?this:this.__newInstance(a)},ice_getConnection:function(){var a=new f(this._reference.getCommunicator(),"ice_getConnection",null,this,null);this.__getRequestHandler().onConnection(a);return a},ice_getCachedConnection:function(){return this._handler?this._handler.getConnection():null},ice_flushBatchRequests:function(){var a=new h(this,"ice_flushBatchRequests");try{a.__send()}catch(b){this.__handleLocalException(a,
b)}return a},equals:function(a){return this===a?!0:a instanceof n?this._reference.equals(a._reference):!1},__reference:function(){return this._reference},__copyFrom:function(a){this._reference=a._reference;this._reference.getCacheConnection()&&(this._handler=a._handler)},__handleException:function(b,c,e,d){null!==this._handler&&b._connection===this._handler._connection&&(this._handler=null);if(-1==d)throw c;try{return this._reference.getInstance().proxyFactory().checkRetryAfterException(c,this._reference,
e,d)}catch(h){if(h instanceof a.CommunicatorDestroyedException)throw c;throw h;}},__handleExceptionWrapper:function(a,b){null!==this._handler&&a._connection===this._handler._connection&&(this._handler=null);if(!b.retry)throw b.inner;},__handleExceptionWrapperRelaxed:function(a,b,c,e){return b.retry?(null!==this._handler&&a._connection===this._handler._connection&&(this._handler=null),e):this.__handleException(a,b.inner,c,e)},__checkAsyncTwowayOnly:function(a){if(!this.ice_isTwoway())throw Error("`"+
a+"' can only be called with a twoway proxy");},ice_invoke:function(b,c,e,d,h){h&&null===d&&(d=new a.HashMap);var f=this;h=function(b){try{var c=[];0===(l._state&g.OK)?c.push(!1):c.push(!0);f._reference.getMode()===a.ReferenceMode.ModeTwoway&&c.push(b._is.readEncaps(null));c.push(b);b.succeed.apply(b,c)}catch(e){n.__dispatchLocalException(b,e)}};var l=new m(this,b,h,h);try{l.__prepare(b,c,d),l.__writeParamEncaps(e),l.__send()}catch(k){this.__handleLocalException(l,k)}return l},__getRequestHandler:function(){return this._reference.getCacheConnection()?
null!==this._handler?this._handler:this._handler=this.__createRequestHandler():this.__createRequestHandler()},__setRequestHandler:function(a){this._reference.getCacheConnection()&&(this._handler=a)},__createRequestHandler:function(){return(new d(this._reference,this)).connect()},__setup:function(a){this._reference=a},__newInstance:function(a){var b=new this.constructor;b.__setup(a);return b},__handleLocalException:function(b,c){if(c instanceof a.LocalException)b.__exception(c);else throw c;},ice_instanceof:function(a){return a?
this instanceof a?!0:this.constructor.__instanceof(a):!1}});n.__invoke=function(a,b,c,e,d,h,f,g,l){(null!==f||0<g.length)&&a.__checkAsyncTwowayOnly(b);var k=new m(a,b,function(a){n.__completed(a,f,g)});try{k.__prepare(b,c,d);if(null===h)k.__writeEmptyParams();else{var z=k.__startWriteParams(e);h.call(null,z,l);k.__endWriteParams()}k.__send()}catch(x){a.__handleLocalException(k,x)}return k};n.__completed=function(a,b,c){if(n.__check(a,c))try{if(null===b)a.__readEmptyParams(),a.succeed(a);else{var e=
b(a);a.succeed.apply(a,e)}}catch(d){n.__dispatchLocalException(a,d)}};n.__returns_bool=function(a,b){b.push(a.readBool())};n.__returns_byte=function(a,b){b.push(a.readByte())};n.__returns_short=function(a,b){b.push(a.readShort())};n.__returns_int=function(a,b){b.push(a.readInt())};n.__returns_long=function(a,b){b.push(a.readLong())};n.__returns_float=function(a,b){b.push(a.readFloat())};n.__returns_double=function(a,b){b.push(a.readDouble())};n.__returns_string=function(a,b){b.push(a.readString())};
n.__returns_ObjectPrx=function(a,b){b.push(a.readProxy())};n.__returns_Object=function(b,c){b.readObject(function(a){c.push(a)},a.Object);b.readPendingObjects()};n.__check=function(b,c){try{b.__throwUserException()}catch(e){if(e instanceof a.UserException){if(null!==c)for(var d=0;d<c.length;++d)if(e instanceof c[d])return b.fail(e,b),!1;b.fail(new a.UnknownUserException(e.ice_name()),b)}else b.fail(e,b);return!1}return!0};n.__dispatchLocalException=function(a,b){a.fail(b,a)};n.ice_staticId=a.Object.ice_staticId;
n.checkedCast=function(b,c,e){var d=null;if(void 0===b||null===b)d=new f(null,"checkedCast",null,null,null),d.succeed(null,d);else{void 0!==c&&(b=b.ice_facet(c));var h=new this;h.__copyFrom(b);d=new f(b.ice_getCommunicator(),"checkedCast",null,h,null);b.ice_isA(this.ice_staticId(),e).then(function(a,b){d.succeed(b?h:null,d)}).exception(function(b){b instanceof a.FacetNotExistException?d.succeed(null,d):d.fail(b,d)})}return d};n.uncheckedCast=function(a,b){var c=null;void 0!==a&&null!==a&&(c=new this,
void 0!==b&&(a=a.ice_facet(b)),c.__copyFrom(a));return c};Object.defineProperty(n,"minWireSize",{get:function(){return 2}});n.write=function(a,b){a.writeProxy(b)};n.read=function(a){return a.readProxy(this)};n.writeOpt=function(a,b,c){a.writeOptProxy(b,c)};n.readOpt=function(a,b){return a.readOptProxy(b,this)};n.__instanceof=function(a){if(a===this)return!0;for(var b in this.__implements)if(this.__implements[b].__instanceof(a))return!0;return this.__parent?this.__parent.__instanceof(a):!1};b.defineProxy=
function(a,b,c){var e=function(){a.call(this)};e.__parent=a;e.__implements=c;e.prototype=new a;e.prototype.constructor=e;e.ice_staticId=b;e.checkedCast=n.checkedCast;e.uncheckedCast=n.uncheckedCast;e.write=n.write;e.writeOpt=n.writeOpt;e.read=n.read;e.readOpt=n.readOpt;e.__instanceof=n.__instanceof;Object.defineProperty(e,"minWireSize",{get:function(){return 2}});return e};a.ObjectPrx=n;k.Slice=b;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){function a(a){var b=a[0],c=typeof b;"number"===c?b=n[a[0]]:"string"===c&&(b=eval(b));return{type:b,isObject:!0===a[1],tag:a[2]}}function b(b,c){var e={},d,h;e.name=b;e.mode=c[1]?m.OperationMode.valueOf(c[1]):m.OperationMode.Normal;e.sendMode=c[2]?m.OperationMode.valueOf(c[2]):m.OperationMode.Normal;e.amd=c[3]?!0:!1;e.format=c[4]?m.FormatType.valueOf(c[4]):m.FormatType.DefaultFormat;e.servantMethod=e.amd?b+"_async":c[0]?c[0]:b;var f;c[5]&&(f=a(c[5]),f.pos=0);e.returns=f;var g=[],l=[];
if(c[6])for(d=0;d<c[6].length;++d)h=a(c[6][d]),h.pos=d,g.push(h),h.tag&&l.push(h);l.sort(function(a,b){return a.tag-b.tag});e.inParams=g;e.inParamsOpt=l;g=[];l=[];if(c[7]){var k=f?1:0;for(d=0;d<c[7].length;++d)h=a(c[7][d]),h.pos=d+k,g.push(h),h.tag&&l.push(h)}f&&f.tag&&l.push(f);l.sort(function(a,b){return a.tag-b.tag});e.outParams=g;e.outParamsOpt=l;h=[];if(c[8])for(d=0;d<c[8].length;++d)h.push(c[8][d]);e.exceptions=h;e.sendsClasses=!0===c[9];e.returnsClasses=!0===c[10];return e}function c(a,b,c,
e,d,h,f){var g,l,x;for(g=0;g<c.length;++g)l=c[g],l.tag||(x=l.type.read(a),h[l.pos+f]=x);b&&(x=b.type.read(a),h[b.pos+f]=x);for(g=0;g<e.length;++g)l=e[g],x=l.type.readOpt(a,l.tag),h[l.pos+f]=x;d&&a.readPendingObjects()}function f(a,b,c,e,d,h){var f,g;for(f=0;f<e.length;++f)g=e[f],g.tag||g.type.write(a,b[g.pos]);c&&c.type.write(a,b[c.pos]);for(f=0;f<d.length;++f)g=d[f],g.type.writeOpt(a,g.tag,b[g.pos]);h&&a.writePendingObjects()}function g(a,b,c){for(var e,d=0;void 0===e&&d<a.length;++d){var h=a[d];
e=h[b];void 0===e&&(-1===c.indexOf(h)&&c.push(h),h.__implements&&(e=g(h.__implements,b,c)))}return e}function d(a,b){var e="__op_"+b,d=a[e],h;if(void 0===d){h=[];for(var f=a;f&&void 0===d;)f.__implements&&(d=g(f.__implements,e,h)),f=f.__parent;void 0!==d&&(a[e]=d)}if(void 0===d){var l;a.__ops&&(l=a.__ops.find(b));var k;if(void 0===l){for(f=a.__parent;void 0===l&&f;)f.__ops&&void 0!==(l=f.__ops.find(b))&&(k=f),f=f.__parent;for(f=0;void 0===l&&f<h.length;++f){var p=h[f];p.__ops&&void 0!==(l=p.__ops.find(b))&&
(k=p)}}void 0!==l&&(d=function(a,b,e){var d;var h=l,f=a[h.servantMethod];if(void 0===f||"function"!==typeof f){var g="servant for identity "+e.adapter.getCommunicator().identityToString(e.id)+" does not define operation `"+h.servantMethod+"'";console.log(g);throw new m.UnknownException(g);}var k=new t(b,h);try{var p=h.amd?[null]:[];if(0===h.inParams.length)b.readEmptyParams();else{var v=b.startReadParams(),n=h.amd?1:0;c(v,void 0,h.inParams,h.inParamsOpt,h.sendsClasses,p,n);b.endReadParams();if(0<
h.inParams.length&&(h.sendsClasses||0<h.inParamsOpt.length))for(b=0;b<h.inParams.length;++b){var u=h.inParams[b];u.isObject&&void 0!==p[u.pos+n]&&(p[u.pos+n]=p[u.pos+n].value)}}p.push(e);if(h.amd){p[0]=k;try{f.apply(a,p)}catch(r){k.ice_exception(r)}d=m.DispatchStatus.DispatchAsync}else{var w=h.outParams.length;h.returns&&++w;var B=f.apply(a,p);if(1<w&&!(B instanceof Array))throw g="operation `"+h.servantMethod+"' should return an array of length "+numParams,console.log(g),new m.MarshalException(g);
1===w&&(B=[B]);k.__sendResponse(B);d=m.DispatchStatus.DispatchOK}}catch(q){if(k.__checkException(q))k.__sendException(q),d=m.DispatchStatus.DispatchUserException;else throw q;}return d},a[e]=d,k&&(k[e]=d))}return d}function l(a,e,d){var h=null;a.prototype[d[0]?d[0]:e]=function(){var a=arguments;null===h&&(h=b(e,d));var g=a[h.inParams.length],l=null;0<h.inParams.length&&(l=function(a,b){f(a,b,void 0,h.inParams,h.inParamsOpt,h.sendsClasses)});var k=null;if(h.returns||0<h.outParams.length)k=function(a){var b=
[],e=a.__startReadParams(),d;h.returns&&!h.returns.tag&&(d=h.returns);c(e,d,h.outParams,h.outParamsOpt,h.returnsClasses,b,0);a.__endReadParams();if(h.returnsClasses||0<h.outParamsOpt.length)for(h.returns&&h.returns.isObject&&void 0!==b[h.returns.pos+0]&&(b[h.returns.pos+0]=b[h.returns.pos+0].value),e=0;e<h.outParams.length;++e)d=h.outParams[e],d.isObject&&void 0!==b[d.pos+0]&&(b[d.pos+0]=b[d.pos+0].value);b.push(a);return b};return m.ObjectPrx.__invoke(this,h.name,h.sendMode,h.format,g,l,k,h.exceptions,
Array.prototype.slice.call(a))}}var m=k.Ice||{},h=k.Slice||{},e=m.Class,n=[m.ByteHelper,m.BoolHelper,m.ShortHelper,m.IntHelper,m.LongHelper,m.FloatHelper,m.DoubleHelper,m.StringHelper,m.Object,m.ObjectPrx],p=e({__init__:function(a){this.raw=a;this.parsed={}},find:function(a){var c=this.parsed[a];void 0===c&&void 0!==this.raw[a]&&(c=b(a,this.raw[a]),this.parsed[a]=c);return c}}),t=e({__init__:function(a,b){this.incomingAsync=a;this.op=b},ice_response:function(){var a=arguments;if(this.incomingAsync.__validateResponse(!0))try{this.__sendResponse(a),
this.incomingAsync.__response()}catch(b){this.incomingAsync.__exception(b)}},ice_exception:function(a){this.__checkException(a)?this.incomingAsync.__validateResponse(!1)&&(this.__sendException(a),this.incomingAsync.__response()):this.incomingAsync.ice_exception(a)},__sendResponse:function(a){if(void 0===this.op.returns&&0===this.op.outParams.length){if(a&&0<a.length)throw Error("ice_response called with invalid arguments");this.incomingAsync.__writeEmptyParams()}else{var b=this.incomingAsync.__startWriteParams(this.op.format),
c;this.op.returns&&!this.op.returns.tag&&(c=this.op.returns);f(b,a,c,this.op.outParams,this.op.outParamsOpt,this.op.returnsClasses);this.incomingAsync.__endWriteParams(!0)}},__checkException:function(a){for(var b=0;b<this.op.exceptions.length;++b)if(a instanceof this.op.exceptions[b])return!0;return!1},__sendException:function(a){this.incomingAsync.__writeUserException(a,this.op.format)}});h.defineOperations=function(a,b,c){c&&(a.__ops=new p(c));a.prototype.__dispatch=function(b,c){var e=d(a,c.operation);
if(void 0===e||"function"!==typeof e)throw new m.OperationNotExistException(c.id,c.facet,c.operation);return e.call(e,this,b,c)};if(c)for(var e in c)l(b,e,c[e]);if(b.__implements)for(var h in b.__implements){c=b.__implements[h].prototype;for(var f in c)"function"==typeof c[f]&&void 0===b.prototype[f]&&(b.prototype[f]=c[f])}};h.defineOperations(m.Object,m.ObjectPrx,{ice_ping:[,1,1,,,,,,],ice_isA:[,1,1,,,[1],[[7]],,],ice_id:[,1,1,,,[7],,,],ice_ids:[,1,1,,,["Ice.StringSeqHelper"],,,]});k.Slice=h;k.Ice=
m})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.HashMap,c=a.Class({__init__:function(){this._adapterEndpointsTable=new b;this._objectTable=new b;this._objectTable.keyComparator=b.compareEquals},clear:function(){this._adapterEndpointsTable.clear();this._objectTable.clear()},getAdapterEndpoints:function(a,b,c){if(0===b)return c.value=!1,null;a=this._adapterEndpointsTable.get(a);if(void 0!==a)return c.value=this.checkTTL(a.time,b),a.endpoints;c.value=!1;return null},addAdapterEndpoints:function(a,b){this._adapterEndpointsTable.set(a,
new f(Date.now(),b))},removeAdapterEndpoints:function(a){var b=this._adapterEndpointsTable.get(a);this._adapterEndpointsTable.delete(a);return void 0!==b?b.endpoints:null},getObjectReference:function(a,b,c){if(0===b)return c.value=!1,null;a=this._objectTable.get(a);if(void 0!==a)return c.value=this.checkTTL(a.time,b),a.reference;c.value=!1;return null},addObjectReference:function(a,b){this._objectTable.set(a,new g(Date.now(),b))},removeObjectReference:function(a){var b=this._objectTable.get(a);this._objectTable.delete(a);
return void 0!==b?b.reference:null},checkTTL:function(a,b){return 0>b?!0:Date.now()-a<=1E3*b}});a.LocatorTable=c;k.Ice=a;var f=function(a,b){this.time=a;this.endpoints=b},g=function(a,b){this.time=a;this.reference=b}})("undefined"===typeof global?window:global);
(function(k,a){var b=k.Ice||{};b.AdapterNotFoundException=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"Ice::AdapterNotFoundException",void 0,void 0,!1,!1);b.InvalidReplicaGroupIdException=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"Ice::InvalidReplicaGroupIdException",void 0,void 0,!1,!1);b.AdapterAlreadyActiveException=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"Ice::AdapterAlreadyActiveException",
void 0,void 0,!1,!1);b.ObjectNotFoundException=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"Ice::ObjectNotFoundException",void 0,void 0,!1,!1);b.ServerNotFoundException=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"Ice::ServerNotFoundException",void 0,void 0,!1,!1);b.Locator=Slice.defineObject(void 0,b.Object,void 0,0,["::Ice::Locator","::Ice::Object"],-1,void 0,void 0,!1);b.LocatorPrx=Slice.defineProxy(b.ObjectPrx,b.Locator.ice_staticId,
void 0);Slice.defineOperations(b.Locator,b.LocatorPrx,{findObjectById:[,2,1,1,,[9],[[b.Identity]],,[b.ObjectNotFoundException],,],findAdapterById:[,2,1,1,,[9],[[7]],,[b.AdapterNotFoundException],,],getRegistry:[,2,1,,,["Ice.LocatorRegistryPrx"],,,,,]});b.LocatorRegistry=Slice.defineObject(void 0,b.Object,void 0,0,["::Ice::LocatorRegistry","::Ice::Object"],-1,void 0,void 0,!1);b.LocatorRegistryPrx=Slice.defineProxy(b.ObjectPrx,b.LocatorRegistry.ice_staticId,void 0);Slice.defineOperations(b.LocatorRegistry,
b.LocatorRegistryPrx,{setAdapterDirectProxy:[,2,2,1,,,[[7],[9]],,[b.AdapterAlreadyActiveException,b.AdapterNotFoundException],,],setReplicatedAdapterDirectProxy:[,2,2,1,,,[[7],[7],[9]],,[b.AdapterAlreadyActiveException,b.AdapterNotFoundException,b.InvalidReplicaGroupIdException],,],setServerProcessProxy:[,2,2,1,,,[[7],["Ice.ProcessPrx"]],,[b.ServerNotFoundException],,]});k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k){var a=k.Ice||{},b=a.Class({__init__:function(a){this._prefix=void 0!==a&&0<a.length?a+": ":""},print:function(a){this.write(a,!1)},trace:function(a,b){var g=[];g.push("-- ");g.push(this.timestamp());g.push(" ");g.push(this._prefix);g.push(a);g.push(": ");g.push(b);this.write(g.join(""),!0)},warning:function(a){var b=[];b.push("-! ");b.push(this.timestamp());b.push(" ");b.push(this._prefix);b.push("warning: ");b.push(a);this.write(b.join(""),!0)},error:function(a){var b=[];b.push("!! ");
b.push(this.timestamp());b.push(" ");b.push(this._prefix);b.push("error: ");b.push(a);this.write(b.join(""),!0)},cloneWithPrefix:function(a){return new b(a)},write:function(a,b){b&&(a=a.replace(/\n/g,"\n   "));console.log(a)},timestamp:function(){var a=new Date,b=a.getMonth()+1,b=10>b?"0"+b:b,g=a.getDate();return b+"-"+(10>g?"0"+g:g)+"-"+a.getFullYear()+" "+a.toLocaleTimeString()+"."+a.getMilliseconds()}});a.Logger=b;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.BatchOutgoingAsync;a.ConnectionBatchOutgoingAsync=a.Class(b,{__init__:function(a,f,g){b.call(this,f,g);this._connection=a},__send:function(){this._connection.flushAsyncBatchRequests(this)}});k.Ice=a})("undefined"===typeof global?window:global);
(function(k,a){var b=k.Ice||{};b.Router=Slice.defineObject(void 0,b.Object,void 0,1,["::Ice::Object","::Ice::Router"],-1,void 0,void 0,!1);b.RouterPrx=Slice.defineProxy(b.ObjectPrx,b.Router.ice_staticId,void 0);Slice.defineOperations(b.Router,b.RouterPrx,{getClientProxy:[,2,1,,,[9],,,,,],getServerProxy:[,2,1,,,[9],,,,,],addProxy:[,2,2,,,,[[9]],,,,],addProxies:[,2,2,,,["Ice.ObjectProxySeqHelper"],[["Ice.ObjectProxySeqHelper"]],,,,]});k.Ice=b})("undefined"===typeof global?window:global,"undefined"===
typeof require?void 0:require);(function(k){var a=k.Ice||{},b=function(a,b,g){this._pattern=a;this._deprecated=b;this._deprecatedBy=g};Object.defineProperty(b.prototype,"pattern",{get:function(){return this._pattern}});Object.defineProperty(b.prototype,"deprecated",{get:function(){return this._deprecated}});Object.defineProperty(b.prototype,"deprecatedBy",{get:function(){return this._deprecatedBy}});a.Property=b;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.HashMap,c=a.AlreadyRegisteredException,f=a.NotRegisteredException,g=a.Class({__init__:function(){this._factoryMap=new b},add:function(a,b){var f;if(void 0!==this._factoryMap.get(b))throw f=new c,f.id=b,f.kindOfObject="object factory",f;this._factoryMap.set(b,a)},remove:function(a){var b;b=this._factoryMap.get(a);if(void 0===b)throw b=new f,b.id=a,b.kindOfObject="object factory",b;this._factoryMap.delete(a);b.destroy()},find:function(a){return this._factoryMap.get(a)},
destroy:function(){var a=this._factoryMap.entries;for(this._factoryMap=new b;null!==a;)a.value.destroy(),a=a.next}});a.ObjectFactoryManager=g;k.Ice=a})("undefined"===typeof global?window:global);
(function(k,a){var b=k.Ice||{};Object.defineProperty(b,"TCPEndpointType",{value:1});Object.defineProperty(b,"UDPEndpointType",{value:3});b.EndpointInfo=Slice.defineLocalObject(function(a,b){this.timeout=void 0!==a?a:0;this.compress=void 0!==b?b:!1});b.Endpoint=Slice.defineLocalObject();b.IPEndpointInfo=Slice.defineLocalObject(function(a,f,g,d){b.EndpointInfo.call(this,a,f);this.host=void 0!==g?g:null;this.port=void 0!==d?d:0},b.EndpointInfo);b.TCPEndpointInfo=Slice.defineLocalObject(function(a,f,
g,d){b.IPEndpointInfo.call(this,a,f,g,d)},b.IPEndpointInfo);b.UDPEndpointInfo=Slice.defineLocalObject(function(a,f,g,d,l,m){b.IPEndpointInfo.call(this,a,f,g,d);this.mcastInterface=void 0!==l?l:null;this.mcastTtl=void 0!==m?m:0},b.IPEndpointInfo);b.OpaqueEndpointInfo=Slice.defineLocalObject(function(a,f,g,d){b.EndpointInfo.call(this,a,f);this.rawEncoding=void 0!==g?g:null;this.rawBytes=void 0!==d?d:null},b.EndpointInfo);k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?
void 0:require);
(function(k){var a=k.Ice||{},b=a.Base64,c=a.HashUtil,f=a.Protocol,g=a.StringUtil,d=a.Class,l=d(a.Endpoint,{streamWrite:function(b){b.writeShort(this._type);b.startWriteEncaps(this._rawEncoding,a.FormatType.DefaultFormat);b.writeBlob(this._rawBytes);b.endWriteEncaps()},toString:function(){var c=b.encode(this._rawBytes);return"opaque -t "+this._type+" -e "+a.encodingVersionToString(this._rawEncoding)+" -v "+c},getInfo:function(){return new m(-1,!1,this._rawEncoding,this._rawBytes,this._type)},type:function(){return this._type},
protocol:function(){return"opaque"},timeout:function(){return-1},changeTimeout:function(a){return this},changeConnectionId:function(a){return this},compress:function(){return!1},changeCompress:function(a){return this},datagram:function(){return!1},secure:function(){return!1},rawBytes:function(){return this._rawBytes},transceiver:function(a){return a.value=null},acceptor:function(a,b){a.value=this;return null},connect:function(){return null},hashCode:function(){return this._hashCode},equals:function(a){if(!(a instanceof
l))return!1;if(this===a)return!0;if(this._type!==a._type||!this._rawEncoding.equals(a._rawEncoding)||this._rawBytes.length!==a._rawBytes.length)return!1;for(var b=0;b<this._rawBytes.length;b++)if(this._rawBytes[b]!==a._rawBytes[b])return!1;return!0},compareTo:function(a){if(this===a)return 0;if(null===a)return 1;if(!(a instanceof l))return this.type()<a.type()?-1:1;if(this._type<a._type)return-1;if(a._type<this._type)return 1;if(this._rawEncoding.major<a._rawEncoding.major)return-1;if(a._rawEncoding.major<
this._rawEncoding.major)return 1;if(this._rawEncoding.minor<a._rawEncoding.minor)return-1;if(a._rawEncoding.minor<this._rawEncoding.minor)return 1;if(this._rawBytes.length<a._rawBytes.length)return-1;if(a._rawBytes.length<this._rawBytes.length)return 1;for(var b=0;b<this._rawBytes.length;b++){if(this._rawBytes[b]<a._rawBytes[b])return-1;if(a._rawBytes[b]<this._rawBytes[b])return 1}return 0},calcHashValue:function(){var a;a=c.addNumber(5381,this._type);a=c.addHashable(a,this._rawEncoding);this._hashCode=
a=c.addArray(a,this._rawBytes,c.addNumber)}});l.fromString=function(c){var e=new l;e._rawEncoding=f.Encoding_1_0;for(var d=0,m=0,k=c.split(/[ \t\n\r]+/),v=0;v<k.length;)if(0===k[v].length)v++;else{var u=k[v++];if(2!=u.length&&"-"!=u.charAt(0))throw new a.EndpointParseException("expected an endpoint option but found `"+u+"' in endpoint `opaque "+c+"'");var r=null;v<k.length&&"-"!=k[v].charAt(0)&&(r=k[v++]);switch(u.charAt(1)){case "t":if(null===r)throw new a.EndpointParseException("no argument provided for -t option in endpoint `opaque "+
c+"'");var w;try{w=g.toInt(r)}catch(y){throw new a.EndpointParseException("invalid type value `"+r+"' in endpoint `opaque "+c+"'");}if(0>w||65535<w)throw new a.EndpointParseException("type value `"+r+"' out of range in endpoint `opaque "+c+"'");e._type=w;++d;if(1<d)throw new a.EndpointParseException("multiple -t options in endpoint `opaque "+c+"'");break;case "v":if(null===r||0===r.length)throw new a.EndpointParseException("no argument provided for -v option in endpoint `opaque "+c+"'");for(u=0;u<
r.length;++u)if(!b.isBase64(r.charAt(u)))throw new a.EndpointParseException("invalid base64 character `"+r.charAt(u)+"' (ordinal "+r.charCodeAt(u)+") in endpoint `opaque "+c+"'");e._rawBytes=b.decode(r);++m;if(1<m)throw new a.EndpointParseException("multiple -v options in endpoint `opaque "+c+"'");break;case "e":if(null===r)throw new a.EndpointParseException("no argument provided for -e option in endpoint `opaque "+c+"'");try{e._rawEncoding=a.stringToEncodingVersion(r)}catch(q){throw new a.EndpointParseException("invalid encoding version `"+
r+"' in endpoint `opaque "+c+"':\n"+q.str);}break;default:throw new a.EndpointParseException("invalid option `"+u+"' in endpoint `opaque "+c+"'");}}if(1!=d)throw new a.EndpointParseException("no -t option in endpoint `opaque "+c+"'");if(1!=m)throw new a.EndpointParseException("no -v option in endpoint `opaque "+c+"'");e.calcHashValue();return e};l.fromStream=function(a,b){var c=new l;c._type=a;c._rawEncoding=b.startReadEncaps();var d=b.getReadEncapsSize();c._rawBytes=b.readBlob(d);b.endReadEncaps();
c.calcHashValue();return c};a.OpaqueEndpointI=l;var m=d(a.OpaqueEndpointInfo,{__init__:function(b,c,d,f,g){a.OpaqueEndpointInfo.call(this,-1,!1,d,f);this._type=g},type:function(){return this._type},datagram:function(){return!1},secure:function(){return!1}});k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.Class({create:function(a){throw Error("not implemented");},destroy:function(){throw Error("not implemented");}});a.ObjectFactory=b;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||a,b={},c=a.Property;b.IceProps=[new c("/^Ice.ACM.Client/",!1,null),new c("/^Ice.ACM.Server/",!1,null),new c("/^Ice.Admin.ACM/",!1,null),new c("/^Ice.Admin.AdapterId/",!1,null),new c("/^Ice.Admin.Endpoints/",!1,null),new c("/^Ice.Admin.Locator.EndpointSelection/",!1,null),new c("/^Ice.Admin.Locator.ConnectionCached/",!1,null),new c("/^Ice.Admin.Locator.PreferSecure/",!1,null),new c("/^Ice.Admin.Locator.LocatorCacheTimeout/",!1,null),new c("/^Ice.Admin.Locator.Locator/",!1,
null),new c("/^Ice.Admin.Locator.Router/",!1,null),new c("/^Ice.Admin.Locator.CollocationOptimized/",!1,null),new c("/^Ice.Admin.Locator/",!1,null),new c("/^Ice.Admin.PublishedEndpoints/",!1,null),new c("/^Ice.Admin.ReplicaGroupId/",!1,null),new c("/^Ice.Admin.Router.EndpointSelection/",!1,null),new c("/^Ice.Admin.Router.ConnectionCached/",!1,null),new c("/^Ice.Admin.Router.PreferSecure/",!1,null),new c("/^Ice.Admin.Router.LocatorCacheTimeout/",!1,null),new c("/^Ice.Admin.Router.Locator/",!1,null),
new c("/^Ice.Admin.Router.Router/",!1,null),new c("/^Ice.Admin.Router.CollocationOptimized/",!1,null),new c("/^Ice.Admin.Router/",!1,null),new c("/^Ice.Admin.ProxyOptions/",!1,null),new c("/^Ice.Admin.ThreadPool.Size/",!1,null),new c("/^Ice.Admin.ThreadPool.SizeMax/",!1,null),new c("/^Ice.Admin.ThreadPool.SizeWarn/",!1,null),new c("/^Ice.Admin.ThreadPool.StackSize/",!1,null),new c("/^Ice.Admin.ThreadPool.Serialize/",!1,null),new c("/^Ice.Admin.ThreadPool.ThreadIdleTime/",!1,null),new c("/^Ice.Admin.ThreadPool.ThreadPriority/",
!1,null),new c("/^Ice.Admin.DelayCreation/",!1,null),new c("/^Ice.Admin.Facets/",!1,null),new c("/^Ice.Admin.InstanceName/",!1,null),new c("/^Ice.Admin.ServerId/",!1,null),new c("/^Ice.BackgroundLocatorCacheUpdates/",!1,null),new c("/^Ice.BatchAutoFlush/",!1,null),new c("/^Ice.ChangeUser/",!1,null),new c("/^Ice.ClientAccessPolicyProtocol/",!1,null),new c("/^Ice.Compression.Level/",!1,null),new c("/^Ice.Config/",!1,null),new c("/^Ice.ConsoleListener/",!1,null),new c("/^Ice.Default.CollocationOptimized/",
!1,null),new c("/^Ice.Default.EncodingVersion/",!1,null),new c("/^Ice.Default.EndpointSelection/",!1,null),new c("/^Ice.Default.Host/",!1,null),new c("/^Ice.Default.Locator.EndpointSelection/",!1,null),new c("/^Ice.Default.Locator.ConnectionCached/",!1,null),new c("/^Ice.Default.Locator.PreferSecure/",!1,null),new c("/^Ice.Default.Locator.LocatorCacheTimeout/",!1,null),new c("/^Ice.Default.Locator.Locator/",!1,null),new c("/^Ice.Default.Locator.Router/",!1,null),new c("/^Ice.Default.Locator.CollocationOptimized/",
!1,null),new c("/^Ice.Default.Locator/",!1,null),new c("/^Ice.Default.LocatorCacheTimeout/",!1,null),new c("/^Ice.Default.Package/",!1,null),new c("/^Ice.Default.PreferSecure/",!1,null),new c("/^Ice.Default.Protocol/",!1,null),new c("/^Ice.Default.Router.EndpointSelection/",!1,null),new c("/^Ice.Default.Router.ConnectionCached/",!1,null),new c("/^Ice.Default.Router.PreferSecure/",!1,null),new c("/^Ice.Default.Router.LocatorCacheTimeout/",!1,null),new c("/^Ice.Default.Router.Locator/",!1,null),new c("/^Ice.Default.Router.Router/",
!1,null),new c("/^Ice.Default.Router.CollocationOptimized/",!1,null),new c("/^Ice.Default.Router/",!1,null),new c("/^Ice.Default.SlicedFormat/",!1,null),new c("/^Ice.IPv4/",!1,null),new c("/^Ice.IPv6/",!1,null),new c("/^Ice.EventLog.Source/",!1,null),new c("/^Ice.FactoryAssemblies/",!1,null),new c("/^Ice.GC.Interval/",!1,null),new c("/^Ice.ImplicitContext/",!1,null),new c("/^Ice.InitPlugins/",!1,null),new c("/^Ice.LogFile/",!1,null),new c("/^Ice.MessageSizeMax/",!1,null),new c("/^Ice.MonitorConnections/",
!1,null),new c("/^Ice.Nohup/",!1,null),new c("/^Ice.NullHandleAbort/",!1,null),new c("/^Ice.Override.CloseTimeout/",!1,null),new c("/^Ice.Override.Compress/",!1,null),new c("/^Ice.Override.ConnectTimeout/",!1,null),new c("/^Ice.Override.Timeout/",!1,null),new c("/^Ice.Override.Secure/",!1,null),new c("/^Ice.Package../",!1,null),new c("/^Ice.Plugin../",!1,null),new c("/^Ice.PluginLoadOrder/",!1,null),new c("/^Ice.PreferIPv6Address/",!1,null),new c("/^Ice.PrintAdapterReady/",!1,null),new c("/^Ice.PrintProcessId/",
!1,null),new c("/^Ice.PrintStackTraces/",!1,null),new c("/^Ice.ProgramName/",!1,null),new c("/^Ice.RetryIntervals/",!1,null),new c("/^Ice.ServerIdleTime/",!1,null),new c("/^Ice.SOCKSProxyHost/",!1,null),new c("/^Ice.SOCKSProxyPort/",!1,null),new c("/^Ice.StdErr/",!1,null),new c("/^Ice.StdOut/",!1,null),new c("/^Ice.SyslogFacility/",!1,null),new c("/^Ice.ThreadPool.Client.Size/",!1,null),new c("/^Ice.ThreadPool.Client.SizeMax/",!1,null),new c("/^Ice.ThreadPool.Client.SizeWarn/",!1,null),new c("/^Ice.ThreadPool.Client.StackSize/",
!1,null),new c("/^Ice.ThreadPool.Client.Serialize/",!1,null),new c("/^Ice.ThreadPool.Client.ThreadIdleTime/",!1,null),new c("/^Ice.ThreadPool.Client.ThreadPriority/",!1,null),new c("/^Ice.ThreadPool.Server.Size/",!1,null),new c("/^Ice.ThreadPool.Server.SizeMax/",!1,null),new c("/^Ice.ThreadPool.Server.SizeWarn/",!1,null),new c("/^Ice.ThreadPool.Server.StackSize/",!1,null),new c("/^Ice.ThreadPool.Server.Serialize/",!1,null),new c("/^Ice.ThreadPool.Server.ThreadIdleTime/",!1,null),new c("/^Ice.ThreadPool.Server.ThreadPriority/",
!1,null),new c("/^Ice.ThreadPriority/",!1,null),new c("/^Ice.Trace.Admin.Properties/",!1,null),new c("/^Ice.Trace.GC/",!1,null),new c("/^Ice.Trace.Locator/",!1,null),new c("/^Ice.Trace.Network/",!1,null),new c("/^Ice.Trace.Protocol/",!1,null),new c("/^Ice.Trace.Retry/",!1,null),new c("/^Ice.Trace.Slicing/",!1,null),new c("/^Ice.Trace.ThreadPool/",!1,null),new c("/^Ice.UDP.RcvSize/",!1,null),new c("/^Ice.UDP.SndSize/",!1,null),new c("/^Ice.TCP.Backlog/",!1,null),new c("/^Ice.TCP.RcvSize/",!1,null),
new c("/^Ice.TCP.SndSize/",!1,null),new c("/^Ice.UseApplicationClassLoader/",!1,null),new c("/^Ice.UseSyslog/",!1,null),new c("/^Ice.Warn.AMICallback/",!1,null),new c("/^Ice.Warn.Connections/",!1,null),new c("/^Ice.Warn.Datagrams/",!1,null),new c("/^Ice.Warn.Dispatch/",!1,null),new c("/^Ice.Warn.Endpoints/",!1,null),new c("/^Ice.Warn.UnknownProperties/",!1,null),new c("/^Ice.Warn.UnusedProperties/",!1,null),new c("/^Ice.CacheMessageBuffers/",!1,null)];b.validProps=[b.IceProps];b.clPropNames=["Ice"];
a.PropertyNames=b;k.Ice=a})("undefined"===typeof global?window:global);
(function(k,a){var b=k.Ice||{},c=k.IceMX||{};Slice.defineDictionary(c,"StringIntDict","StringIntDictHelper","Ice.StringHelper","Ice.IntHelper",!1,!1);c.Metrics=Slice.defineObject(function(a,c,d,l,m){b.Object.call(this);this.id=void 0!==a?a:null;this.total=void 0!==c?c:new b.Long(0,0);this.current=void 0!==d?d:0;this.totalLifetime=void 0!==l?l:new b.Long(0,0);this.failures=void 0!==m?m:0},b.Object,void 0,1,["::Ice::Object","::IceMX::Metrics"],-1,function(a){a.writeString(this.id);a.writeLong(this.total);
a.writeInt(this.current);a.writeLong(this.totalLifetime);a.writeInt(this.failures)},function(a){this.id=a.readString();this.total=a.readLong();this.current=a.readInt();this.totalLifetime=a.readLong();this.failures=a.readInt()},!1);c.MetricsPrx=Slice.defineProxy(b.ObjectPrx,c.Metrics.ice_staticId,void 0);Slice.defineOperations(c.Metrics,c.MetricsPrx);c.MetricsFailures=Slice.defineStruct(function(a,b){this.id=void 0!==a?a:null;this.failures=void 0!==b?b:null},!1,function(a){a.writeString(this.id);c.StringIntDictHelper.write(a,
this.failures)},function(a){this.id=a.readString();this.failures=c.StringIntDictHelper.read(a)},2,!1);Slice.defineSequence(c,"MetricsFailuresSeqHelper","IceMX.MetricsFailures",!1);Slice.defineSequence(c,"MetricsMapHelper","Ice.ObjectHelper",!1,"IceMX.Metrics");Slice.defineDictionary(c,"MetricsView","MetricsViewHelper","Ice.StringHelper","IceMX.MetricsMapHelper",!1,!1);c.UnknownMetricsView=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"IceMX::UnknownMetricsView",
void 0,void 0,!1,!1);c.MetricsAdmin=Slice.defineObject(void 0,b.Object,void 0,1,["::Ice::Object","::IceMX::MetricsAdmin"],-1,void 0,void 0,!1);c.MetricsAdminPrx=Slice.defineProxy(b.ObjectPrx,c.MetricsAdmin.ice_staticId,void 0);Slice.defineOperations(c.MetricsAdmin,c.MetricsAdminPrx,{getMetricsViewNames:[,,,,2,["Ice.StringSeqHelper"],,[["Ice.StringSeqHelper"]],,,],enableMetricsView:[,,,,2,,[[7]],,[c.UnknownMetricsView],,],disableMetricsView:[,,,,2,,[[7]],,[c.UnknownMetricsView],,],getMetricsView:[,
,,,2,["IceMX.MetricsViewHelper"],[[7]],[[4]],[c.UnknownMetricsView],,!0],getMapMetricsFailures:[,,,,2,["IceMX.MetricsFailuresSeqHelper"],[[7],[7]],,[c.UnknownMetricsView],,],getMetricsFailures:[,,,,2,[c.MetricsFailures],[[7],[7],[7]],,[c.UnknownMetricsView],,]});c.ThreadMetrics=Slice.defineObject(function(a,b,d,l,m,h,e,k){c.Metrics.call(this,a,b,d,l,m);this.inUseForIO=void 0!==h?h:0;this.inUseForUser=void 0!==e?e:0;this.inUseForOther=void 0!==k?k:0},c.Metrics,void 0,2,["::Ice::Object","::IceMX::Metrics",
"::IceMX::ThreadMetrics"],-1,function(a){a.writeInt(this.inUseForIO);a.writeInt(this.inUseForUser);a.writeInt(this.inUseForOther)},function(a){this.inUseForIO=a.readInt();this.inUseForUser=a.readInt();this.inUseForOther=a.readInt()},!1);c.ThreadMetricsPrx=Slice.defineProxy(c.MetricsPrx,c.ThreadMetrics.ice_staticId,void 0);Slice.defineOperations(c.ThreadMetrics,c.ThreadMetricsPrx);c.DispatchMetrics=Slice.defineObject(function(a,g,d,l,m,h,e,k){c.Metrics.call(this,a,g,d,l,m);this.userException=void 0!==
h?h:0;this.size=void 0!==e?e:new b.Long(0,0);this.replySize=void 0!==k?k:new b.Long(0,0)},c.Metrics,void 0,1,["::Ice::Object","::IceMX::DispatchMetrics","::IceMX::Metrics"],-1,function(a){a.writeInt(this.userException);a.writeLong(this.size);a.writeLong(this.replySize)},function(a){this.userException=a.readInt();this.size=a.readLong();this.replySize=a.readLong()},!1);c.DispatchMetricsPrx=Slice.defineProxy(c.MetricsPrx,c.DispatchMetrics.ice_staticId,void 0);Slice.defineOperations(c.DispatchMetrics,
c.DispatchMetricsPrx);c.RemoteMetrics=Slice.defineObject(function(a,g,d,l,m,h,e){c.Metrics.call(this,a,g,d,l,m);this.size=void 0!==h?h:new b.Long(0,0);this.replySize=void 0!==e?e:new b.Long(0,0)},c.Metrics,void 0,2,["::Ice::Object","::IceMX::Metrics","::IceMX::RemoteMetrics"],-1,function(a){a.writeLong(this.size);a.writeLong(this.replySize)},function(a){this.size=a.readLong();this.replySize=a.readLong()},!1);c.RemoteMetricsPrx=Slice.defineProxy(c.MetricsPrx,c.RemoteMetrics.ice_staticId,void 0);Slice.defineOperations(c.RemoteMetrics,
c.RemoteMetricsPrx);c.InvocationMetrics=Slice.defineObject(function(a,b,d,l,m,h,e,k){c.Metrics.call(this,a,b,d,l,m);this.retry=void 0!==h?h:0;this.userException=void 0!==e?e:0;this.remotes=void 0!==k?k:null},c.Metrics,void 0,1,["::Ice::Object","::IceMX::InvocationMetrics","::IceMX::Metrics"],-1,function(a){a.writeInt(this.retry);a.writeInt(this.userException);c.MetricsMapHelper.write(a,this.remotes)},function(a){this.retry=a.readInt();this.userException=a.readInt();this.remotes=c.MetricsMapHelper.read(a)},
!1);c.InvocationMetricsPrx=Slice.defineProxy(c.MetricsPrx,c.InvocationMetrics.ice_staticId,void 0);Slice.defineOperations(c.InvocationMetrics,c.InvocationMetricsPrx);c.ConnectionMetrics=Slice.defineObject(function(a,g,d,l,m,h,e){c.Metrics.call(this,a,g,d,l,m);this.receivedBytes=void 0!==h?h:new b.Long(0,0);this.sentBytes=void 0!==e?e:new b.Long(0,0)},c.Metrics,void 0,1,["::Ice::Object","::IceMX::ConnectionMetrics","::IceMX::Metrics"],-1,function(a){a.writeLong(this.receivedBytes);a.writeLong(this.sentBytes)},
function(a){this.receivedBytes=a.readLong();this.sentBytes=a.readLong()},!1);c.ConnectionMetricsPrx=Slice.defineProxy(c.MetricsPrx,c.ConnectionMetrics.ice_staticId,void 0);Slice.defineOperations(c.ConnectionMetrics,c.ConnectionMetricsPrx);k.IceMX=c})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k,a){var b=k.Ice||{};b.ConnectionInfo=Slice.defineLocalObject(function(a,b,g){this.incoming=void 0!==a?a:!1;this.adapterName=void 0!==b?b:null;this.connectionId=void 0!==g?g:null});b.Connection=Slice.defineLocalObject();b.IPConnectionInfo=Slice.defineLocalObject(function(a,f,g,d,l,m,h){b.ConnectionInfo.call(this,a,f,g);this.localAddress=void 0!==d?d:"";this.localPort=void 0!==l?l:-1;this.remoteAddress=void 0!==m?m:"";this.remotePort=void 0!==h?h:-1},b.ConnectionInfo);b.TCPConnectionInfo=
Slice.defineLocalObject(function(a,f,g,d,l,m,h){b.IPConnectionInfo.call(this,a,f,g,d,l,m,h)},b.IPConnectionInfo);b.UDPConnectionInfo=Slice.defineLocalObject(function(a,f,g,d,l,m,h,e,k){b.IPConnectionInfo.call(this,a,f,g,d,l,m,h);this.mcastAddress=void 0!==e?e:null;this.mcastPort=void 0!==k?k:-1},b.IPConnectionInfo);k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k){var a=k.Ice||{},b=a.Logger,c=null;a.getProcessLogger=function(){null===c&&(c=new b("",""));return c};a.setProcessLogger=function(a){c=a};k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.HashMap,c=a.CommunicatorDestroyedException,f=a.Class({__init__:function(a){this._instance=a;this._destroyed=!1;this._tokenId=0;this._tokens=new b},destroy:function(){var a=this;this._tokens.forEach(function(b,c){a.cancel(b)});this._destroyed=!0;this._tokens.clear()},schedule:function(a,b){if(this._destroyed)throw new c;var f=this._tokenId++,m=this,h=setTimeout(function(){m.handleTimeout(f)},b);this._tokens.set(f,{callback:a,id:h,isInterval:!1});return f},scheduleRepeated:function(a,
b){if(this._destroyed)throw new c;var f=this._tokenId++,m=this,h=setInterval(function(){m.handleInterval(f)},b);this._tokens.set(f,{callback:a,id:h,isInterval:!0});return f},cancel:function(a){if(this._destroyed)return!1;var b=this._tokens.get(a);if(void 0===b)return!1;this._tokens.delete(a);b.isInterval?clearInterval(b.id):clearTimeout(b.id);return!0},handleTimeout:function(a){if(!this._destroyed){var b=this._tokens.get(a);void 0!==b&&(this._tokens.delete(a),b.callback())}},handleInterval:function(a){this._destroyed||
(a=this._tokens.get(a),void 0!==a&&a.callback())}});a.Timer=f;k.Ice=a})("undefined"===typeof global?window:global);
(function(k,a){var b=k.Ice||{};b.Process=Slice.defineObject(void 0,b.Object,void 0,1,["::Ice::Object","::Ice::Process"],-1,void 0,void 0,!1);b.ProcessPrx=Slice.defineProxy(b.ObjectPrx,b.Process.ice_staticId,void 0);Slice.defineOperations(b.Process,b.ProcessPrx,{shutdown:[,,,,,,,,,,],writeMessage:[,,,,,,[[7],[3]],,,,]});k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k,a){var b=k.Ice||{};Slice.defineDictionary(b,"PropertyDict","PropertyDictHelper","Ice.StringHelper","Ice.StringHelper",!1,!1);b.PropertiesAdmin=Slice.defineObject(void 0,b.Object,void 0,1,["::Ice::Object","::Ice::PropertiesAdmin"],-1,void 0,void 0,!1);b.PropertiesAdminPrx=Slice.defineProxy(b.ObjectPrx,b.PropertiesAdmin.ice_staticId,void 0);Slice.defineOperations(b.PropertiesAdmin,b.PropertiesAdminPrx,{getProperty:[,,,,,[7],[[7]],,,,],getPropertiesForPrefix:[,,,,,["Ice.PropertyDictHelper"],
[[7]],,,,],setProperties:[,,,1,,,[["Ice.PropertyDictHelper"]],,,,]});k.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k){var a=k.Ice||{},b=a.StringUtil,c=a.HashMap,f=a.PropertyNames,g=a.getProcessLogger,d=a.InitializationException,l=a.Class({__init__:function(a,b){this._properties=new c;if(void 0!==b&&null!==b)for(var e=b._properties.entries;null!==e;e=e.next)this._properties.set(e.key,{value:e.value.value,used:!1});if(void 0!==a&&null!==a)for(var e=this.parseIceCommandLineOptions(a),d=a.length=0;d<e.length;++d)a.push(e[d])},getProperty:function(a){return this.getPropertyWithDefault(a,"")},getPropertyWithDefault:function(a,
b){var c=this._properties.get(a);return void 0!==c?(c.used=!0,c.value):b},getPropertyAsInt:function(a){return this.getPropertyAsIntWithDefault(a,0)},getPropertyAsIntWithDefault:function(a,b){var c=this._properties.get(a);return void 0!==c?(c.used=!0,parseInt(c.value)):b},getPropertyAsList:function(a){return this.getPropertyAsListWithDefault(a,0)},getPropertyAsListWithDefault:function(a,c){if(void 0===c||null===c)c=[];var e=this._properties.get(a);if(void 0!==e){e.used=!0;e=b.splitString(e.value,", \t\r\n");
if(null===e)return g().warning("mismatched quotes in property "+a+"'s value, returning default value"),c;0===e.length&&(e=c);return e}return c},getPropertiesForPrefix:function(a){for(var b=new c,e=this._properties.entries;null!==e;e=e.next)if(void 0===a||null===a||0===e.key.indexOf(a))e.value.used=!0,b.set(e.key,e.value.value);return b},setProperty:function(a,b){null!==a&&void 0!==a&&(a=a.trim());var c=g();if(null===a||void 0===a||0===a.length)throw new d("Attempt to set property with empty key");
var l=a.indexOf(".");if(-1!==l)for(var k=a.substr(0,l),t=0;t<f.validProps.length;++t){var v=f.validProps[t][0].pattern,l=v.indexOf(".");if(v.substring(0,l-1)==k){for(var u=!1,l=!1,r,w=0;w<f.validProps[t][w].length&&!u&&(v=f.validProps[t][w].pattern(),u=new RegExp(v),(u=u.test(a))&&f.validProps[t][w].deprecated&&(c.warning("deprecated property: "+a),null!==f.validProps[t][w].deprecatedBy&&(a=f.validProps[t][w].deprecatedBy)),!u);++w)if(u=new RegExp(v.toUpperCase()),u=u.test(a.toUpperCase())){l=!0;
r=v.substr(2);r=r.substr(0,r.length-1);r=r.replace(/\\/g,"");break}u?l&&c.warning("unknown property: `"+a+"'; did you mean `"+r+"'"):c.warning("unknown property: "+a)}}void 0!==b&&null!==b&&0<b.length?(c=this._properties.get(a),void 0!==c?c.value=b:this._properties.set(a,{value:b,used:!1})):this._properties.delete(a)},getCommandLineOptions:function(){for(var a=[],b=this._properties.entries;null!==b;b=b.next)a.push("--"+b.key+"="+b.pv.value);return a},parseCommandLineOptions:function(a,b){0<a.length&&
"."!=a.charAt(a.length-1)&&(a+=".");a="--"+a;var c=[],d=this;b.forEach(function(b){0===b.indexOf(a)?(-1===b.indexOf("=")&&(b+="=1"),d.parseLine(b.substring(2))):c.push(b)});return c},parseIceCommandLineOptions:function(a){a=a.slice();for(var b=0;b<f.clPropNames.length;++b)a=this.parseCommandLineOptions(f.clPropNames[b],a);return a},parse:function(a){a=a.match(/[^\r\n]+/g);for(var b;b=a.shift();)this.parseLine(b)},parseLine:function(a){for(var b="",c="",d=0,f="",l="",k=!1,u=0;u<a.length;++u){var r=
a.charAt(u);switch(d){case 0:switch(r){case "\\":if(u<a.length-1)switch(r=a.charAt(++u),r){case "\\":case "#":case "=":b+=f;f="";b+=r;break;case " ":0!==b.length&&(f+=r);break;default:b+=f,f="",b+="\\",b+=r}else b+=f,b+=r;break;case " ":case "\t":case "\r":case "\n":0!==b.length&&(f+=r);break;case "=":f="";d=1;break;case "#":k=!0;break;default:b+=f,f="",b+=r}break;case 1:switch(r){case "\\":if(u<a.length-1)switch(r=a.charAt(++u),r){case "\\":case "#":case "=":c+=0===c.length?l:f;l=f="";c+=r;break;
case " ":f+=r;l+=r;break;default:c+=0===c.length?l:f,l=f="",c+="\\",c+=r}else c+=0===c.length?l:f,c+=r;break;case " ":case "\t":case "\r":case "\n":0!==c.length&&(f+=r);break;case "#":c+=l;k=!0;break;default:c+=0===c.length?l:f,l=f="",c+=r}}if(k)break}c+=l;0===d&&0!==b.length||1==d&&0===b.length?g().warning('invalid config file entry: "'+a+'"'):0!==b.length&&this.setProperty(b,c)},clone:function(){return new l(null,this)},getUnusedProperties:function(){for(var a=[],b=this._properties.entries;null!==
b;b=b.next)b.pv.used||a.push(b.key);return a}});l.createProperties=function(a,b){return new l(a,b)};a.Properties=l;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.ExUtil,c=a.HashMap,f=a.StringUtil,g=a.Class({__init__:function(a,b){this._instance=a;this._adapterName=b;this._servantMapMap=new c;this._servantMapMap.keyComparator=c.compareEquals;this._defaultServantMap=new c;this._locatorMap=new c},addServant:function(b,g,k){null===k&&(k="");var h=this._servantMapMap.get(g);if(void 0===h)h=new c,this._servantMapMap.set(g,h);else if(h.has(k))throw b=new a.AlreadyRegisteredException,b.id=this._instance.identityToString(g),b.kindOfObject=
"servant",0<k.length&&(b.id+=" -f "+f.escapeString(k,"")),b;h.set(k,b)},addDefaultServant:function(b,c){if(void 0!==this._defaultServantMap.get(c)){var f=new a.AlreadyRegisteredException;f.kindOfObject="default servant";f.id=c;throw f;}this._defaultServantMap.set(c,b)},removeServant:function(b,c){null===c&&(c="");var g=this._servantMapMap.get(b);if(void 0===g||!g.has(c))throw g=new a.NotRegisteredException,g.id=this._instance.identityToString(b),g.kindOfObject="servant",0<c.length&&(g.id+=" -f "+
f.escapeString(c,"")),g;var h=g.get(c);g.delete(c);0===g.size&&this._servantMapMap.delete(b);return h},removeDefaultServant:function(b){var c=this._defaultServantMap.get(b);if(void 0===c)throw c=new a.NotRegisteredException,c.kindOfObject="default servant",c.id=b,c;this._defaultServantMap.delete(b);return c},removeAllFacets:function(b){var c=this._servantMapMap.get(b);if(void 0===c)throw c=new a.NotRegisteredException,c.id=this._instance.identityToString(b),c.kindOfObject="servant",c;this._servantMapMap.delete(b);
return c},findServant:function(a,b){null===b&&(b="");var c=this._servantMapMap.get(a),h=null;void 0===c?(h=this._defaultServantMap.get(a.category),void 0===h&&(h=this._defaultServantMap.get(""))):h=c.get(b);return void 0===h?null:h},findDefaultServant:function(a){a=this._defaultServantMap.get(a);return void 0===a?null:a},findAllFacets:function(a){a=this._servantMapMap.get(a);return void 0!==a?a.clone():new c},hasServant:function(a){return void 0===this._servantMapMap.get(a)?!1:!0},addServantLocator:function(b,
c){if(void 0!==this._locatorMap.get(c)){var g=new a.AlreadyRegisteredException;g.id=f.escapeString(c,"");g.kindOfObject="servant locator";throw g;}this._locatorMap.set(c,b)},removeServantLocator:function(b){var c=this._locatorMap.get(b);if(void 0===c)throw c=new a.NotRegisteredException,c.id=f.escapeString(b,""),c.kindOfObject="servant locator",c;this._locatorMap.delete(b);return c},findServantLocator:function(a){a=this._locatorMap.get(a);return void 0===a?null:a},destroy:function(){var a=this._instance.initializationData().logger;
this._servantMapMap.clear();var c=this._locatorMap.clone();this._locatorMap.clear();this._instance=null;for(c=c.entries;null!==c;c=c.next){var f=c.value;try{f.deactivate(c.key)}catch(h){f="exception during locator deactivation:\nobject adapter: `"+this._adapterName+"'\nlocator category: `"+c.key+"'\n"+b.toString(h),a.error(f)}}}});a.ServantManager=g;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b={generateUUID:function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var g=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?g:g&7|8).toString(16)})}};a.UUID=b;a.generateUUID=b.generateUUID;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.ExUtil,c=a.HashMap,f=a.Promise,g=a.Protocol,d=a.LocatorRegisterPrx,l=a.Class,m=l({__init__:function(a,b,e){this._locator=a;this._locatorRegistry=null;this._table=b;this._background=e;this._adapterRequests=new c;this._objectRequests=new c;this._objectRequests.keyComparator=c.compareEquals},destroy:function(){this._locatorRegistry=null;this._table.clear()},equals:function(a){return this===a?!0:a instanceof m?this._locator.equals(a._locator):!1},hashCode:function(){return this._locator.hashCode()},
getLocator:function(){return this._locator},getLocatorRegistry:function(){if(null!==this._locatorRegistry)return(new f).succeed(this._locatorRegistry);var a=this;return this._locator.getRegistry().then(function(b){a._locatorRegistry=d.uncheckedCast(b.ice_locator(null));return a._locatorRegistry})},getEndpoints:function(a,b,c,e){e=e||new f;var d=null,h={value:!1};if(a.isWellKnown()){b=this._table.getObjectReference(a.getIdentity(),c,h);if(!h.value)if(this._background&&null!==b)this.getObjectRequest(a).addCallback(a,
null,c,null);else return this.getObjectRequest(a).addCallback(a,null,c,e),e;if(!b.isIndirect())d=b.getEndpoints();else if(!b.isWellKnown())return this.getEndpoints(b,a,c,e),e}else if(d=this._table.getAdapterEndpoints(a.getAdapterId(),c,h),!h.value)if(this._background&&null!==d)this.getAdapterRequest(a).addCallback(a,b,c,null);else return this.getAdapterRequest(a).addCallback(a,b,c,e),e;1<=a.getInstance().traceLevels().location&&this.getEndpointsTrace(a,d,!0);e.succeed(d,!0);return e},clearCache:function(a){if(a.isWellKnown()){var b=
this._table.removeObjectReference(a.getIdentity());null!==b&&(b.isIndirect()?b.isWellKnown()||this.clearCache(b):2<=a.getInstance().traceLevels().location&&this.trace("removed endpoints from locator table",a,b.getEndpoints()))}else b=this._table.removeAdapterEndpoints(a.getAdapterId()),null!==b&&2<=a.getInstance().traceLevels().location&&this.trace("removed endpoints from locator table\n",a,b)},trace:function(a,b,c){var e=[];e.push(a);e.push("\n");b.isWellKnown()?(e.push("object = "),e.push(b.getInstance().identityToString(b.getIdentity()))):
(e.push("adapter = "),e.push(b.getAdapterId()));e.push("\n");e.push("endpoints = ");for(a=0;a<c.length;a++)e.push(c[a].toString()),a+1<c.length&&e.push(":");b.getInstance().initializationData().logger.trace(b.getInstance().traceLevels().locationCat,e.join(""))},getEndpointsException:function(c,e){var d=c.getInstance(),h;try{throw e;}catch(f){if(f instanceof a.AdapterNotFoundException)throw 1<=d.traceLevels().location&&(h=[],h.push("adapter not found\n"),h.push("adapter = "),h.push(c.getAdapterId()),
d.initializationData().logger.trace(d.traceLevels().locationCat,h.join(""))),h=new a.NotRegisteredException,h.kindOfObject="object adapter",h.id=c.getAdapterId(),h;if(f instanceof a.ObjectNotFoundException)throw 1<=d.traceLevels().location&&(h=[],h.push("object not found\n"),h.push("object = "),h.push(d.identityToString(c.getIdentity())),d.initializationData().logger.trace(d.traceLevels().locationCat,h.join(""))),h=new a.NotRegisteredException,h.kindOfObject="object",h.id=d.identityToString(c.getIdentity()),
h;if(f instanceof a.NotRegisteredException)throw f;if(f instanceof a.LocalException)throw 1<=d.traceLevels().location&&(h=[],h.push("couldn't contact the locator to retrieve adapter endpoints\n"),0<c.getAdapterId().length?(h.push("adapter = "),h.push(c.getAdapterId())):(h.push("object = "),h.push(d.identityToString(c.getIdentity()))),h.push("\n"),h.push("reason = "+b.toString(f)),d.initializationData().logger.trace(d.traceLevels().locationCat,h.join(""))),f;}},getEndpointsTrace:function(a,b,c){null!==
b&&0<b.length?c?this.trace("found endpoints in locator table",a,b):this.trace("retrieved endpoints from locator, adding to locator table",a,b):(b=a.getInstance(),c=[],c.push("no endpoints configured for "),0<a.getAdapterId().length?(c.push("adapter\n"),c.push("adapter = "),c.push(a.getAdapterId())):(c.push("object\n"),c.push("object = "),c.push(b.identityToString(a.getIdentity()))),c.push("\n"),b.initializationData().logger.trace(b.traceLevels().locationCat,c.join("")))},getAdapterRequest:function(a){if(1<=
a.getInstance().traceLevels().location){var b=a.getInstance(),c=[];c.push("searching for adapter by id\n");c.push("adapter = ");c.push(a.getAdapterId());b.initializationData().logger.trace(b.traceLevels().locationCat,c.join(""))}b=this._adapterRequests.get(a.getAdapterId());if(void 0!==b)return b;b=new p(this,a);this._adapterRequests.set(a.getAdapterId(),b);return b},getObjectRequest:function(a){if(1<=a.getInstance().traceLevels().location){var b=a.getInstance(),c=[];c.push("searching for object by id\n");
c.push("object = ");c.push(b.identityToString(a.getIdentity()));b.initializationData().logger.trace(b.traceLevels().locationCat,c.join(""))}b=this._objectRequests.get(a.getIdentity());if(void 0!==b)return b;b=new n(this,a);this._objectRequests.set(a.getIdentity(),b);return b},finishRequest:function(a,b,c,e){if(null===c||c.__reference().isIndirect())for(var d=0;d<b.length;++d)this._table.removeObjectReference(b[d].getIdentity());a.isWellKnown()?(null===c||c.__reference().isWellKnown()?e&&this._table.removeObjectReference(a.getIdentity()):
this._table.addObjectReference(a.getIdentity(),c.__reference()),this._objectRequests.delete(a.getIdentity())):(null===c||c.__reference().isIndirect()?e&&this._table.removeAdapterEndpoints(a.getAdapterId()):this._table.addAdapterEndpoints(a.getAdapterId(),c.__reference().getEndpoints()),this._adapterRequests.delete(a.getAdapterId()))}});a.LocatorInfo=m;k.Ice=a;var h=l({__init__:function(a,b,c){this._ref=a;this._ttl=b;this._promise=c},response:function(a,b){var c=null;if(null!==b){var e=b.__reference();
if(!this._ref.isWellKnown()||g.isSupported(this._ref.getEncoding(),e.getEncoding()))if(!e.isIndirect())c=e.getEndpoints();else if(this._ref.isWellKnown()&&!e.isWellKnown()){var d=this;a.getEndpoints(e,this._ref,this._ttl).then(function(a,b){null!==d._promise&&d._promise.succeed(a,b)},function(a){null!==d._promise&&d._promise.fail(a)});return}}1<=this._ref.getInstance().traceLevels().location&&a.getEndpointsTrace(this._ref,c,!1);null!==this._promise&&this._promise.succeed(null===c?[]:c,!1)},exception:function(a,
b){try{a.getEndpointsException(this._ref,b)}catch(c){null!==this._promise&&this._promise.fail(c)}}}),e=l({__init__:function(a,b){this._locatorInfo=a;this._ref=b;this._callbacks=[];this._wellKnownRefs=[];this._response=this._sent=!1;this._exception=this._proxy=null},addCallback:function(a,b,c,e){a=new h(a,c,e);this._response?a.response(this._locatorInfo,this._proxy):null!==this._exception?a.exception(this._locatorInfo,this._exception):(this._callbacks.push(a),null!==b&&this._wellKnownRefs.push(b),
this._sent||(this._sent=!0,this.send()))},response:function(a){this._locatorInfo.finishRequest(this._ref,this._wellKnownRefs,a,!1);this._response=!0;this._proxy=a;for(var b=0;b<this._callbacks.length;++b)this._callbacks[b].response(this._locatorInfo,a)},exception:function(b){this._locatorInfo.finishRequest(this._ref,this._wellKnownRefs,null,b instanceof a.UserException);this._exception=b;for(var c=0;c<this._callbacks.length;++c)this._callbacks[c].exception(this._locatorInfo,b)}}),n=l(e,{__init__:function(a,
b){e.call(this,a,b)},send:function(){try{var a=this;this._locatorInfo.getLocator().findObjectById(this._ref.getIdentity()).then(function(b){a.response(b)},function(b){a.exception(b)})}catch(b){this.exception(b)}}}),p=l(e,{__init__:function(a,b){e.call(this,a,b)},send:function(){try{var a=this;this._locatorInfo.getLocator().findAdapterById(this._ref.getAdapterId()).then(function(b){a.response(b)},function(b){a.exception(b)})}catch(b){this.exception(b)}}})})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.ArrayUtil,c=a.HashMap,f=a.HashUtil,g=a.ExUtil,d=a.OpaqueEndpointI,l=a.Promise,m=a.ReferenceMode,h=a.StringUtil,e=a.StringSeqHelper,n=a.EndpointSelectionType,p=a.Identity,t=a.RouterPrx,v=a.LocatorPrx,u=a.PropertyNames,r=a.Class,w="EndpointSelection ConnectionCached PreferSecure EncodingVersion LocatorCacheTimeout Locator Router CollocationOptimized".split(" "),y=r({__init__:function(a,b){this._instance=a;this._communicator=b;this._defaultLocator=this._defaultRouter=
null},create:function(a,b,c,e){return 0===a.name.length&&0===a.category.length?null:this.createImpl(a,b,c.getMode(),c.getSecure(),c.getProtocol(),c.getEncoding(),e,null,null)},createWithAdapterId:function(a,b,c,e){return 0===a.name.length&&0===a.category.length?null:this.createImpl(a,b,c.getMode(),c.getSecure(),c.getProtocol(),c.getEncoding(),null,e,null)},createFixed:function(a,b){return 0===a.name.length&&0===a.category.length?null:new A(this._instance,this._communicator,a,"",b.endpoint().datagram()?
m.ModeDatagram:m.ModeTwoway,b.endpoint().secure(),this._instance.defaultsAndOverrides().defaultEncoding,b)},copy:function(a){var b=a.getIdentity();return 0===b.name.length&&0===b.category.length?null:a.clone()},createFromString:function(b,c){if(void 0===b||null===b||0===b.length)return null;var e,d;e=h.findFirstNotOf(b," \t\n\r",0);if(-1==e)throw new a.ProxyParseException("no non-whitespace characters found in `"+b+"'");var f=null;d=h.checkQuote(b,e);if(-1===d)throw new a.ProxyParseException("mismatched quotes around identity in `"+
b+"'");0===d?(d=h.findFirstOf(b," \t\n\r:@",e),-1===d&&(d=b.length),f=b.substring(e,d)):(e++,f=b.substring(e,d),d++);if(e===d)throw new a.ProxyParseException("no identity in `"+b+"'");f=this._instance.stringToIdentity(f);if(0===f.name.length){if(0<f.category.length)throw new a.IllegalIdentityException(f);if(-1!=h.findFirstNotOf(b," \t\n\r",d))throw new a.ProxyParseException("invalid characters after identity in `"+b+"'");return null}for(var g="",l=m.ModeTwoway,k=!1,p=this._instance.defaultsAndOverrides().defaultEncoding,
A=a.Protocol_1_0,n="";;){e=h.findFirstNotOf(b," \t\n\r",d);if(-1===e)break;if(":"==b.charAt(e)||"@"==b.charAt(e))break;d=h.findFirstOf(b," \t\n\r:@",e);-1==d&&(d=b.length);if(e==d)break;var t=b.substring(e,d);if(2!=t.length||"-"!=t.charAt(0))throw new a.ProxyParseException("expected a proxy option but found `"+t+"' in `"+b+"'");e=null;var v=h.findFirstNotOf(b," \t\n\r",d);if(-1!=v){var u=b.charAt(v);if("@"!=u&&":"!=u&&"-"!=u){e=v;d=h.checkQuote(b,e);if(-1==d)throw new a.ProxyParseException("mismatched quotes around value for "+
t+" option in `"+b+"'");0===d?(d=h.findFirstOf(b," \t\n\r:@",e),-1===d&&(d=b.length),e=b.substring(e,d)):(e++,e=b.substring(e,d),d++)}}switch(t.charAt(1)){case "f":if(null===e)throw new a.ProxyParseException("no argument provided for -f option in `"+b+"'");try{g=h.unescapeString(e,0,e.length)}catch(r){throw new a.ProxyParseException("invalid facet in `"+b+"': "+r.message);}break;case "t":if(null!==e)throw new a.ProxyParseException("unexpected argument `"+e+"' provided for -t option in `"+b+"'");l=
m.ModeTwoway;break;case "o":if(null!==e)throw new a.ProxyParseException("unexpected argument `"+e+"' provided for -o option in `"+b+"'");l=m.ModeOneway;break;case "O":if(null!==e)throw new a.ProxyParseException("unexpected argument `"+e+"' provided for -O option in `"+b+"'");l=m.ModeBatchOneway;break;case "d":if(null!==e)throw new a.ProxyParseException("unexpected argument `"+e+"' provided for -d option in `"+b+"'");l=m.ModeDatagram;break;case "D":if(null!==e)throw new a.ProxyParseException("unexpected argument `"+
e+"' provided for -D option in `"+b+"'");l=m.ModeBatchDatagram;break;case "s":if(null!==e)throw new a.ProxyParseException("unexpected argument `"+e+"' provided for -s option in `"+b+"'");k=!0;break;case "e":if(null===e)throw new a.ProxyParseException("no argument provided for -e option in `"+b+"'");try{p=a.stringToEncodingVersion(e)}catch(B){throw new a.ProxyParseException("invalid encoding version `"+e+"' in `"+b+"':\n"+B.str);}break;case "p":if(null===e)throw new a.ProxyParseException("no argument provided for -p option in `"+
b+"'");try{A=a.stringToProtocolVersion(e)}catch(q){throw new a.ProxyParseException("invalid protocol version `"+e+"' in `"+b+"':\n"+q.str);}break;default:throw new a.ProxyParseException("unknown option `"+t+"' in `"+b+"'");}}if(-1===e)return this.createImpl(f,g,l,k,A,p,null,null,c);t=[];if(":"==b.charAt(e)){n=[];for(d=e;d<b.length&&":"==b.charAt(d);){for(d=e=d+1;;)if(d=b.indexOf(":",d),-1==d){d=b.length;break}else{v=!1;for(u=e;!(u=b.indexOf('"',u),-1==u||d<u);){u=b.indexOf('"',++u);if(-1==u)break;
else if(d<u){v=!0;break}++u}if(!v)break;++d}e=b.substring(e,d);v=this._instance.endpointFactoryManager().create(e,!1);null!==v?t.push(v):n.push(e)}if(0===t.length)throw new a.EndpointParseException("invalid endpoint `"+n[0]+"' in `"+b+"'");if(0!==n.length&&0<this._instance.initializationData().properties.getPropertyAsIntWithDefault("Ice.Warn.Endpoints",1)){d=[];d.push("Proxy contains unknown endpoints:");for(e=0;e<n.length;++e)d.push(" `"),d.push(n[e]),d.push("'");this._instance.initializationData().logger.warning(d.join(""))}return this.createImpl(f,
g,l,k,A,p,t,null,c)}if("@"==b.charAt(e)){e=h.findFirstNotOf(b," \t\n\r",e+1);if(-1==e)throw new a.ProxyParseException("missing adapter id in `"+b+"'");t=null;d=h.checkQuote(b,e);if(-1===d)throw new a.ProxyParseException("mismatched quotes around adapter id in `"+b+"'");0===d?(d=h.findFirstOf(b," \t\n\r",e),-1===d&&(d=b.length),t=b.substring(e,d)):(e++,t=b.substring(e,d),d++);if(d!==b.length&&-1!==h.findFirstNotOf(b," \t\n\r",d))throw new a.ProxyParseException("invalid trailing characters after `"+
b.substring(0,d+1)+"' in `"+b+"'");try{n=h.unescapeString(t,0,t.length)}catch(w){throw new a.ProxyParseException("invalid adapter id in `"+b+"': "+w.message);}if(0===n.length)throw new a.ProxyParseException("empty adapter id in `"+b+"'");return this.createImpl(f,g,l,k,A,p,null,n,c)}throw new a.ProxyParseException("malformed proxy `"+b+"'");},createFromStream:function(b,c){if(0===b.name.length&&0===b.category.length)return null;var d=e.read(c);if(0<d.length){if(1<d.length)throw new a.ProxyUnmarshalException;
d=d[0]}else d="";var h=c.readByte();if(0>h||h>m.ModeLast)throw new a.ProxyUnmarshalException;var f=c.readBool(),g=null,l=null;c.getReadEncoding().equals(a.Encoding_1_0)?(g=a.Protocol_1_0,l=a.Encoding_1_0):(g=new a.ProtocolVersion,g.__read(c),l=new a.EncodingVersion,l.__read(c));var k=null,p=null,A=c.readSize();if(0<A)for(var k=[],n=0;n<A;n++)k[n]=this._instance.endpointFactoryManager().read(c);else p=c.readString();return this.createImpl(b,d,h,f,g,l,k,p,null)},setDefaultRouter:function(a){if(null===
this._defaultRouter?null===a:this._defaultRouter.equals(a))return this;var b=new y(this._instance,this._communicator);b._defaultLocator=this._defaultLocator;b._defaultRouter=a;return b},getDefaultRouter:function(){return this._defaultRouter},setDefaultLocator:function(a){if(null===this._defaultLocator?null===a:this._defaultLocator.equals(a))return this;var b=new y(this._instance,this._communicator);b._defaultRouter=this._defaultRouter;b._defaultLocator=a;return b},getDefaultLocator:function(){return this._defaultLocator},
checkForUnknownProperties:function(a){var b=[],c,e;for(c=0;c<u.clPropNames.length;++c)if(0===a.indexOf(u.clPropNames[c]+"."))return;for(var d=this._instance.initializationData().properties.getPropertiesForPrefix(a+".").entries;null!==d;d=d.next){var h=!1;c=0;for(e=w.length;c<e;++c)if(d.key===a+"."+w[c]){h=!0;break}h||b.push(d.key)}if(0<b.length){d=[];d.push("found unknown properties for proxy '");d.push(a);d.push("':");c=0;for(e=b.length;c<e;++c)d.push("\n    "),d.push(b[c]);this._instance.initializationData().logger.warning(d.join(""))}},
createImpl:function(b,c,e,d,h,f,g,l,k){var p=this._instance.defaultsAndOverrides(),A=null;null!==this._defaultLocator&&(A=this._defaultLocator.__reference().getEncoding().equals(f)?this._instance.locatorManager().find(this._defaultLocator):this._instance.locatorManager().find(this._defaultLocator.ice_encodingVersion(f)));var m=this._instance.routerManager().find(this._defaultRouter),u=!0,r=p.defaultPreferSecure,q=p.defaultEndpointSelection,p=p.defaultLocatorCacheTimeout;if(null!==k&&0<k.length){var w=
this._instance.initializationData().properties;0<w.getPropertyAsIntWithDefault("Ice.Warn.UnknownProperties",1)&&this.checkForUnknownProperties(k);var z;z=v.uncheckedCast(this._communicator.propertyToProxy(k+".Locator"));null!==z&&(A=z.__reference().getEncoding().equals(f)?this._instance.locatorManager().find(z):this._instance.locatorManager().find(z.ice_encodingVersion(f)));z=k+".Router";var y=t.uncheckedCast(this._communicator.propertyToProxy(z));null!==y&&(k.lastIndexOf(".Router")==k.length-7?(z=
"`"+z+"="+w.getProperty(z)+"': cannot set a router on a router; setting ignored",this._instance.initializationData().logger.warning(z)):m=this._instance.routerManager().find(y));u=0<w.getPropertyAsIntWithDefault(k+".ConnectionCached",u?1:0);r=0<w.getPropertyAsIntWithDefault(k+".PreferSecure",r?1:0);z=k+".EndpointSelection";if(0<w.getProperty(z).length)if(q=w.getProperty(z),"Random"==q)q=n.Random;else if("Ordered"==q)q=n.Ordered;else throw new a.EndpointSelectionTypeParseException("illegal value `"+
q+"'; expected `Random' or `Ordered'");p=w.getPropertyAsIntWithDefault(k+".LocatorCacheTimeout",p)}return new B(this._instance,this._communicator,b,c,e,d,h,f,g,l,A,m,u,r,q,p)}});a.ReferenceFactory=y;var q=r({__init__:function(a,b,c,e,d,h,f,g){this._instance=a;this._communicator=b;this._mode=d;this._secure=h;this._identity=c;this._context=q._emptyContext;this._facet=e;this._protocol=f;this._encoding=g;this._compress=this._overrideCompress=this._hashInitialized=!1},getMode:function(){return this._mode},
getSecure:function(){return this._secure},getProtocol:function(){return this._protocol},getEncoding:function(){return this._encoding},getIdentity:function(){return this._identity},getFacet:function(){return this._facet},getInstance:function(){return this._instance},getContext:function(){return this._context},getCommunicator:function(){return this._communicator},getEndpoints:function(){return null},getAdapterId:function(){return""},getRouterInfo:function(){return null},getLocatorInfo:function(){return null},
getCacheConnection:function(){return!1},getPreferSecure:function(){return!1},getEndpointSelection:function(){return null},getLocatorCacheTimeout:function(){return 0},getConnectionId:function(){return""},changeContext:function(a){if(void 0===a||null===a)a=q._emptyContext;var b=this._instance.referenceFactory().copy(this);b._context=0===a.size?q._emptyContext:new c(a);return b},changeMode:function(a){if(a===this._mode)return this;var b=this._instance.referenceFactory().copy(this);b._mode=a;return b},
changeSecure:function(a){if(a===this._secure)return this;var b=this._instance.referenceFactory().copy(this);b._secure=a;return b},changeIdentity:function(a){if(a.equals(this._identity))return this;var b=this._instance.referenceFactory().copy(this);b._identity=new p(a.name,a.category);return b},changeFacet:function(a){if(a===this._facet)return this;var b=this._instance.referenceFactory().copy(this);b._facet=a;return b},changeEncoding:function(a){if(a.equals(this._encoding))return this;var b=this._instance.referenceFactory().copy(this);
b._encoding=a;return b},changeCompress:function(a){if(this._overrideCompress&&this._compress===a)return this;var b=this._instance.referenceFactory().copy(this);b._compress=a;b._overrideCompress=!0;return b},changeAdapterId:function(a){return null},changeEndpoints:function(a){return null},changeLocator:function(a){return null},changeRouter:function(a){return null},changeCacheConnection:function(a){return null},changePreferSecure:function(a){return null},changeEndpointSelection:function(a){return null},
changeLocatorCacheTimeout:function(a){return null},changeTimeout:function(a){return null},changeConnectionId:function(a){return null},hashCode:function(){if(this._hashInitialized)return this._hashValue;var a;a=f.addNumber(5381,this._mode);a=f.addBoolean(a,this._secure);a=f.addHashable(a,this._identity);if(null!==this._context&&void 0!==this._context)for(var b=this._context.entries;null!==b;b=b.next)a=f.addString(a,b.key),a=f.addString(a,b.value);a=f.addString(a,this._facet);a=f.addBoolean(a,this._overrideCompress);
this._overrideCompress&&(a=f.addBoolean(a,this._compress));a=f.addHashable(a,this._protocol);this._hashValue=a=f.addHashable(a,this._encoding);this._hashInitialized=!0;return this._hashValue},isIndirect:function(){return!1},isWellKnown:function(){return!1},streamWrite:function(b){0===this._facet.length?b.writeSize(0):(b.writeSize(1),b.writeString(this._facet));b.writeByte(this._mode);b.writeBool(this._secure);b.getWriteEncoding().equals(a.Encoding_1_0)||(this._protocol.__write(b),this._encoding.__write(b))},
toString:function(){var b=[],c=this._instance.identityToString(this._identity);-1!=c.search(/[ :@]/)?(b.push('"'),b.push(c),b.push('"')):b.push(c);0<this._facet.length&&(b.push(" -f "),c=h.escapeString(this._facet,""),-1!=c.search(/[ :@]/)?(b.push('"'),b.push(c),b.push('"')):b.push(c));switch(this._mode){case m.ModeTwoway:b.push(" -t");break;case m.ModeOneway:b.push(" -o");break;case m.ModeBatchOneway:b.push(" -O");break;case m.ModeDatagram:b.push(" -d");break;case m.ModeBatchDatagram:b.push(" -D")}this._secure&&
b.push(" -s");this._protocol.equals(a.Protocol_1_0)||(b.push(" -p "),b.push(a.protocolVersionToString(this._protocol)));b.push(" -e ");b.push(a.encodingVersionToString(this._encoding));return b.join("")},toProperty:function(a){return null},getConnection:function(){},equals:function(a){return this._mode===a._mode&&this._secure===a._secure&&this._identity.equals(a._identity)&&this._context.equals(a._context)&&this._facet===a._facet&&this._overrideCompress===a._overrideCompress&&(!this._overrideCompress||
this._compress===a._compress)&&this._protocol.equals(a._protocol)&&this._encoding.equals(a._encoding)?!0:!1},clone:function(){return null},copyMembers:function(a){a._context=this._context;a._overrideCompress=this._overrideCompress;a._compress=this._compress}});q._emptyContext=new c;q._emptyEndpoints=[];a.Reference=q;var A=r(q,{__init__:function(b,c,e,d,h,f,g,l){q.call(this,b,c,e,d,h,f,a.Protocol_1_0,g);this._fixedConnection=l},getEndpoints:function(){return q._emptyEndpoints},getAdapterId:function(){return""},
getRouterInfo:function(){return null},getLocatorInfo:function(){return null},getCacheConnection:function(){return!1},getPreferSecure:function(){return!1},getEndpointSelection:function(){return n.Random},getLocatorCacheTimeout:function(){return 0},getConnectionId:function(){return""},changeAdapterId:function(b){throw new a.FixedProxyException;},changeEndpoints:function(b){throw new a.FixedProxyException;},changeLocator:function(b){throw new a.FixedProxyException;},changeRouter:function(b){throw new a.FixedProxyException;
},changeCacheConnection:function(b){throw new a.FixedProxyException;},changePreferSecure:function(b){throw new a.FixedProxyException;},changeEndpointSelection:function(b){throw new a.FixedProxyException;},changeLocatorCacheTimeout:function(b){throw new a.FixedProxyException;},changeTimeout:function(b){throw new a.FixedProxyException;},changeConnectionId:function(b){throw new a.FixedProxyException;},isIndirect:function(){return!1},isWellKnown:function(){return!1},streamWrite:function(b){throw new a.FixedProxyException;
},toString:function(){throw new a.FixedProxyException;},toProperty:function(b){throw new a.FixedProxyException;},clone:function(){var a=new A(this.getInstance(),this.getCommunicator(),this.getIdentity(),this.getFacet(),this.getMode(),this.getSecure(),this.getEncoding(),this._fixedConnection);this.copyMembers(a);return a},getConnectionInternal:function(b){switch(this.getMode()){case m.ModeTwoway:case m.ModeOneway:case m.ModeBatchOneway:if(this._fixedConnection.endpoint().datagram())throw new a.NoEndpointException("");
break;case m.ModeDatagram:case m.ModeBatchDatagram:if(!this._fixedConnection.endpoint().datagram())throw new a.NoEndpointException("");}var c=this.getInstance().defaultsAndOverrides();if((c.overrideSecure?c.overrideSecureValue:this.getSecure())&&!this._fixedConnection.endpoint().secure())throw new a.NoEndpointException("");this._fixedConnection.throwException();b.value=c.overrideCompress?c.overrideCompressValue:this._overrideCompress?this._compress:this._fixedConnection.endpoint().compress();return this._fixedConnection},
getConnection:function(){var a=new l;try{var b={value:!1},c=this.getConnectionInternal(b);a.succeed(c,b.value)}catch(e){a.fail(e)}return a},equals:function(a){return this===a?!0:a instanceof A&&q.prototype.equals.call(this,a)?this._fixedConnection.equals(a._fixedConnection):!1}});a.FixedReference=A;var B=r(q,{__init__:function(a,b,c,e,d,h,f,g,l,k,p,A,m,n,t,v){q.call(this,a,b,c,e,d,h,f,g);this._endpoints=l;this._adapterId=k;this._locatorInfo=p;this._routerInfo=A;this._cacheConnection=m;this._preferSecure=
n;this._endpointSelection=t;this._locatorCacheTimeout=v;this._overrideTimeout=!1;this._timeout=-1;null===this._endpoints&&(this._endpoints=q._emptyEndpoints);null===this._adapterId&&(this._adapterId="");this._connectionId=""},getEndpoints:function(){return this._endpoints},getAdapterId:function(){return this._adapterId},getRouterInfo:function(){return this._routerInfo},getLocatorInfo:function(){return this._locatorInfo},getCacheConnection:function(){return this._cacheConnection},getPreferSecure:function(){return this._preferSecure},
getEndpointSelection:function(){return this._endpointSelection},getLocatorCacheTimeout:function(){return this._locatorCacheTimeout},getConnectionId:function(){return this._connectionId},changeEncoding:function(a){var b=q.prototype.changeEncoding.call(this,a);if(b!==this){var c=b._locatorInfo;null===c||c.getLocator().ice_getEncodingVersion().equals(a)||(b._locatorInfo=this.getInstance().locatorManager().find(c.getLocator().ice_encodingVersion(a)))}return b},changeCompress:function(a){var b=q.prototype.changeCompress.call(this,
a);if(b!==this&&0<this._endpoints.length){for(var c=[],e=0;e<this._endpoints.length;e++)c[e]=this._endpoints[e].changeCompress(a);b._endpoints=c}return b},changeAdapterId:function(a){if(this._adapterId===a)return this;var b=this.getInstance().referenceFactory().copy(this);b._adapterId=a;b._endpoints=q._emptyEndpoints;return b},changeEndpoints:function(a){if(b.equals(a,this._endpoints,function(a,b){return a.equals(b)}))return this;var c=this.getInstance().referenceFactory().copy(this);c._endpoints=
a;c._adapterId="";c.applyOverrides(c._endpoints);return c},changeLocator:function(a){a=this.getInstance().locatorManager().find(a);if(null!==a&&null!==this._locatorInfo&&a.equals(this._locatorInfo))return this;var b=this.getInstance().referenceFactory().copy(this);b._locatorInfo=a;return b},changeRouter:function(a){a=this.getInstance().routerManager().find(a);if(null!==a&&null!==this._routerInfo&&a.equals(this._routerInfo))return this;var b=this.getInstance().referenceFactory().copy(this);b._routerInfo=
a;return b},changeCacheConnection:function(a){if(a===this._cacheConnection)return this;var b=this.getInstance().referenceFactory().copy(this);b._cacheConnection=a;return b},changePreferSecure:function(a){if(a===this._preferSecure)return this;var b=this.getInstance().referenceFactory().copy(this);b._preferSecure=a;return b},changeEndpointSelection:function(a){if(a===this._endpointSelection)return this;var b=this.getInstance().referenceFactory().copy(this);b._endpointSelection=a;return b},changeLocatorCacheTimeout:function(a){if(this._locatorCacheTimeout===
a)return this;var b=this.getInstance().referenceFactory().copy(this);b._locatorCacheTimeout=a;return b},changeTimeout:function(a){if(this._overrideTimeout&&this._timeout===a)return this;var b=this.getInstance().referenceFactory().copy(this);b._timeout=a;b._overrideTimeout=!0;if(0<this._endpoints.length){for(var c=[],e=0;e<this._endpoints.length;e++)c[e]=this._endpoints[e].changeTimeout(a);b._endpoints=c}return b},changeConnectionId:function(a){if(this._connectionId===a)return this;var b=this.getInstance().referenceFactory().copy(this);
b._connectionId=a;if(0<this._endpoints.length){for(var c=[],e=0;e<this._endpoints.length;e++)c[e]=this._endpoints[e].changeConnectionId(a);b._endpoints=c}return b},isIndirect:function(){return 0===this._endpoints.length},isWellKnown:function(){return 0===this._endpoints.length&&0===this._adapterId.length},streamWrite:function(a){q.prototype.streamWrite.call(this,a);a.writeSize(this._endpoints.length);if(0<this._endpoints.length)for(var b=0;b<this._endpoints.length;++b)this._endpoints[b].streamWrite(a);
else a.writeString(this._adapterId)},toString:function(){var a=[];a.push(q.prototype.toString.call(this));if(0<this._endpoints.length)for(var b=0;b<this._endpoints.length;++b){var c=this._endpoints[b].toString();null!==c&&0<c.length&&(a.push(":"),a.push(c))}else 0<this._adapterId.length&&(a.push(" @ "),b=h.escapeString(this._adapterId,null),-1!=b.search(/[ :@]/)?(a.push('"'),a.push(b),a.push('"')):a.push(b));return a.join("")},toProperty:function(a){var b=new c,e;b.set(a,this.toString());b.set(a+
".CollocationOptimized","0");b.set(a+".ConnectionCached",this._cacheConnection?"1":"0");b.set(a+".PreferSecure",this._preferSecure?"1":"0");b.set(a+".EndpointSelection",this._endpointSelection===n.Random?"Random":"Ordered");b.set(a+".LocatorCacheTimeout",""+this._locatorCacheTimeout);if(null!==this._routerInfo)for(e=this._routerInfo.getRouter().__reference().toProperty(a+".Router").entries;null!==e;e=e.next)b.set(e.key,e.value);if(null!==this._locatorInfo)for(e=this._locatorInfo.getLocator().__reference().toProperty(a+
".Locator").entries;null!==e;e=e.next)b.set(e.key,e.value);return b},hashCode:function(){this._hashInitialized||(q.prototype.hashCode.call(this),this._hashValue=f.addString(this._hashValue,this._adapterId));return this._hashValue},equals:function(a){return this===a?!0:a instanceof B&&q.prototype.equals.call(this,a)&&(null===this._locatorInfo?null===a._locatorInfo:this._locatorInfo.equals(a._locatorInfo))&&(null===this._routerInfo?null===a._routerInfo:this._routerInfo.equals(a._routerInfo))&&this._cacheConnection===
a._cacheConnection&&this._preferSecure===a._preferSecure&&this._endpointSelection===a._endpointSelection&&this._locatorCacheTimeout===a._locatorCacheTimeout&&this._connectionId===a._connectionId&&this._overrideTimeout===a._overrideTimeout&&(!this._overrideTimeout||this._timeout===a._timeout)&&b.equals(this._endpoints,a._endpoints,function(a,b){return a.equals(b)})&&this._adapterId===a._adapterId?!0:!1},getConnection:function(){var a=new l;if(null!==this._routerInfo){var b=this;this._routerInfo.getClientEndpoints().then(function(c){0<
c.length?(b.applyOverrides(c),b.createConnection(c).then(function(b,c){a.succeed(b,c)},function(b){a.fail(b)})):b.getConnectionNoRouterInfo(a)}).exception(function(b){a.fail(b)})}else this.getConnectionNoRouterInfo(a);return a},getConnectionNoRouterInfo:function(b){if(0<this._endpoints.length)this.createConnection(this._endpoints).then(function(a,c){b.succeed(a,c)}).exception(function(a){b.fail(a)});else{var c=this;null!==this._locatorInfo?this._locatorInfo.getEndpoints(this,null,this._locatorCacheTimeout).then(function(e,
d){0===e.length?b.fail(new a.NoEndpointException(c.toString())):(c.applyOverrides(e),c.createConnection(e).then(function(a,c){b.succeed(a,c)},function(e){if(e instanceof a.NoEndpointException)b.fail(e);else if(c.getLocatorInfo().clearCache(c),d){var h=c.getInstance().traceLevels();2<=h.retry&&(e="connection to cached endpoints failed\nremoving endpoints from cache and trying one more time\n"+g.toString(e),c.getInstance().initializationData().logger.trace(h.retryCat,e));c.getConnectionNoRouterInfo(b)}else b.fail(e)}))}).exception(function(a){b.fail(a)}):
b.fail(new a.NoEndpointException(this.toString()))}},clone:function(){var a=new B(this.getInstance(),this.getCommunicator(),this.getIdentity(),this.getFacet(),this.getMode(),this.getSecure(),this.getProtocol(),this.getEncoding(),this._endpoints,this._adapterId,this._locatorInfo,this._routerInfo,this._cacheConnection,this._preferSecure,this._endpointSelection,this._locatorCacheTimeout);this.copyMembers(a);return a},copyMembers:function(a){q.prototype.copyMembers.call(this,a);a._overrideTimeout=this._overrideTimeout;
a._timeout=this._timeout;a._connectionId=this._connectionId},applyOverrides:function(a){for(var b=0;b<a.length;++b)a[b]=a[b].changeConnectionId(this._connectionId),this._overrideCompress&&(a[b]=a[b].changeCompress(this._compress)),this._overrideTimeout&&(a[b]=a[b].changeTimeout(this._timeout))},filterEndpoints:function(a){for(var c=[],e=0;e<a.length;++e)a[e]instanceof d||c.push(a[e]);switch(this.getMode()){case m.ModeTwoway:case m.ModeOneway:case m.ModeBatchOneway:c=b.filter(c,function(a,b,c){return!a.datagram()});
break;case m.ModeDatagram:case m.ModeBatchDatagram:c=b.filter(c,function(a,b,c){return a.datagram()})}switch(this.getEndpointSelection()){case n.Random:b.shuffle(c)}a=this.getInstance().defaultsAndOverrides();if(a.overrideSecure?a.overrideSecureValue:this.getSecure())c=b.filter(c,function(a,b,c){return a.secure()});else{var h=this.getPreferSecure();c.sort(function(a,b){var c=a.secure(),e=b.secure();return c&&e||!c&&!e?0:!c&&e?h?1:-1:h?-1:1})}return c},createConnection:function(b){b=this.filterEndpoints(b);
if(0===b.length)return(new l).fail(new a.NoEndpointException(this.toString()));var c=new l,e=this.getInstance().outgoingConnectionFactory(),d;if(this.getCacheConnection()||1==b.length)d=new z(this,null,c),e.create(b,!1,this.getEndpointSelection()).then(function(a,b){d.setConnection(a,b)}).exception(function(a){d.setException(a)});else{var h=[b[0]];d=new z(this,b,c);e.create(h,!0,this.getEndpointSelection()).then(function(a,b){d.setConnection(a,b)}).exception(function(a){d.setException(a)})}return c}});
a.RoutableReference=B;k.Ice=a;var z=r({__init__:function(a,b,c){this.ref=a;this.endpoints=b;this.promise=c;this.i=0;this.exception=null},setConnection:function(a,b){null!==this.ref.getRouterInfo()&&null!==this.ref.getRouterInfo().getAdapter()&&a.setAdapter(this.ref.getRouterInfo().getAdapter());this.promise.succeed(a,b)},setException:function(a){null===this.exception&&(this.exception=a);if(null===this.endpoints||++this.i===this.endpoints.length)this.promise.fail(this.exception);else{a=this.i!=this.endpoints.length-
1;var b=[this.endpoints[this.i]],c=this;this.ref.getInstance().outgoingConnectionFactory().create(b,a,this.ref.getEndpointSelection()).then(function(a,b){c.setConnection(a,b)}).exception(function(a){c.setException(a)})}}})})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.ExUtil,c=a.HashMap,f=a.ObjectPrx,g=a.StringUtil,d=a.Identity,l=a.Class({__init__:function(a){this._instance=a;a=this._instance.initializationData().properties.getPropertyAsList("Ice.RetryIntervals");if(0<a.length){this._retryIntervals=[];for(var b=0;b<a.length;b++){var c;try{c=g.toInt(a[b])}catch(d){c=0}if(0===b&&-1===c){this._retryIntervals=[0];break}this._retryIntervals[b]=0<c?c:0}}else this._retryIntervals=[0]},stringToProxy:function(a){a=this._instance.referenceFactory().createFromString(a,
null);return this.referenceToProxy(a)},proxyToString:function(a){return null!==a?a.__reference().toString():""},propertyToProxy:function(a){var b=this._instance.initializationData().properties.getProperty(a);a=this._instance.referenceFactory().createFromString(b,a);return this.referenceToProxy(a)},proxyToProperty:function(a,b){return null!==a?a.__reference().toProperty(b):new c},streamToProxy:function(a,b){var c=new d;c.__read(a);c=this._instance.referenceFactory().createFromStream(c,a);return this.referenceToProxy(c,
b)},referenceToProxy:function(a,b){if(null!==a){var c=b?new b:new f;c.__setup(a);return c}return null},proxyToStream:function(a,b){if(null!==a){var c=a.__reference();c.getIdentity().__write(b);c.streamWrite(b)}else(new d("","")).__write(b)},checkRetryAfterException:function(c,d,e,f){var g=this._instance.traceLevels(),l=this._instance.initializationData().logger;if(d.getMode()===a.Reference.ModeBatchOneway||d.getMode()===a.Reference.ModeBatchDatagram)throw c;if(c instanceof a.ObjectNotExistException){if(null!==
d.getRouterInfo()&&"ice_add_proxy"===c.operation)return d.getRouterInfo().clearCache(d),1<=g.retry&&l.trace(g.retryCat,"retrying operation call to add proxy to router\n"+b.toString(c)),null!==e&&(e.value=0),f;if(d.isIndirect()){if(d.isWellKnown()){var k=d.getLocatorInfo();null!==k&&k.clearCache(d)}}else throw c;}else if(c instanceof a.RequestFailedException)throw c;if(c instanceof a.MarshalException)throw c;++f;if(f===this._retryIntervals.length+1&&c instanceof a.CloseConnectionException)d=0;else{if(f>
this._retryIntervals.length)throw 1<=g.retry&&l.trace(g.retryCat,"cannot retry operation call because retry limit has been exceeded\n"+b.toString(c)),c;d=this._retryIntervals[f-1]}1<=g.retry&&(k="retrying operation call",0<d&&(k+=" in "+d+"ms"),k+=" because of exception\n"+b.toString(c),l.trace(g.retryCat,k));e.value=d;return f}});a.ProxyFactory=l;k.Ice=a})("undefined"===typeof global?window:global);
(function(k,a){var b=k.Ice||{},c=k.IceWS||{};c.ConnectionInfo=Slice.defineLocalObject(function(a,c,d,l,k,h,e){b.IPConnectionInfo.call(this,a,c,d,l,k,h,e)},b.IPConnectionInfo);k.IceWS=c})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k){var a=k.Ice||{},b=a.Class,c=b({__init__:function(a){this._instance=a;this._requests=[]},add:function(a,b){var c=new f(this,a);this._instance.timer().schedule(function(){c.run()},b);this._requests.push(c)},destroy:function(){for(var a=0;a<this._requests.length;++a)this._requests[a].destroy();this._requests=[]},remove:function(a){a=this._requests.indexOf(a);return 0<=a?(this._requests.splice(a,1),!0):!1}});a.RetryQueue=c;var f=b({__init__:function(a,b,c){this.queue=a;this.outAsync=b},run:function(){if(this.queue.remove(this))try{this.outAsync.__send()}catch(a){this.outAsync.__exception(a)}},
destroy:function(){this.outAsync.__exception(new a.CommunicatorDestroyedException)}});k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.ArrayUtil,c=a.HashMap,f=a.Promise,g=a.Class({__init__:function(a){this._router=a;this._adapter=this._serverEndpoints=this._clientEndpoints=null;this._identities=new c;this._identities.keyComparator=c.compareEquals;this._evictedIdentities=[]},destroy:function(){this._clientEndpoints=[];this._serverEndpoints=[];this._adapter=null;this._identities.clear()},equals:function(a){return this===a?!0:a instanceof g?this._router.equals(a._router):!1},hashCode:function(){return this._router.hashCode()},
getRouter:function(){return this._router},getClientEndpoints:function(){var a=new f;if(null!==this._clientEndpoints)a.succeed(this._clientEndpoints);else{var b=this;this._router.getClientProxy().then(function(c){b.setClientEndpoints(c,a)}).exception(function(b){a.fail(b)})}return a},getServerEndpoints:function(){if(null!==this._serverEndpoints)return(new f).succeed(this._serverEndpoints);var a=this;return this._router.getServerProxy().then(function(b){return a.setServerEndpoints(b)})},addProxy:function(a){if(this._identities.has(a.ice_getIdentity()))return(new f).succeed();
var b=this;return this._router.addProxies([a]).then(function(c){b.addAndEvictProxies(a,c)})},setAdapter:function(a){this._adapter=a},getAdapter:function(){return this._adapter},clearCache:function(a){this._identities.delete(a.getIdentity())},setClientEndpoints:function(a,b){if(null===this._clientEndpoints)if(null===a)this._clientEndpoints=this._router.__reference().getEndpoints(),b.succeed(this._clientEndpoints);else{a=a.ice_router(null);var c=this;this._router.ice_getConnection().then(function(h){h=
a.ice_timeout(h.timeout());c._clientEndpoints=h.__reference().getEndpoints();b.succeed(c._clientEndpoints)}).exception(function(a){b.fail(a)})}else b.succeed(this._clientEndpoints)},setServerEndpoints:function(b){if(null===b)throw new a.NoEndpointException;b=b.ice_router(null);return this._serverEndpoints=b.__reference().getEndpoints()},addAndEvictProxies:function(a,c){var f=b.indexOf(this._evictedIdentities,a.ice_getIdentity(),function(a,b){return a.equals(b)});0<=f?this._evictedIdentities.splice(f,
1):this._identities.set(a.ice_getIdentity(),1);for(f=0;f<c.length;++f)this._identities.delete(c[f].ice_getIdentity())}});a.RouterInfo=g;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.HashMap,c=a.RouterInfo,f=a.RouterPrx,g=a.Class({__init__:function(){this._table=new b;this._table.keyComparator=b.compareEquals},destroy:function(){for(var a=this._table.entries;null!==a;a=a.next)a.value.destroy();this._table.clear()},find:function(a){if(null===a)return null;a=f.uncheckedCast(a.ice_router(null));var b=this._table.get(a);void 0===b&&(b=new c(a),this._table.set(a,b));return b},erase:function(a){var b=null;null!==a&&(a=f.uncheckedCast(a.ice_router(null)),
b=this._table.get(a),this._table.delete(a));return b}});a.RouterManager=g;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){function a(a){return"local address = <not available>\nremote address = "+a.host+":"+a.port}function b(a,b){if(2>a)return new c.ConnectFailedException(b.code,b);if(1E3===b)throw new c.ConnectionLostException;return new c.SocketException(b.code,b)}var c=k.Ice||{},f=k.IceWS||{},g=c.ExUtil,d=c.SocketOperation,l=-1!==navigator.userAgent.indexOf("Firefox"),m=c.Class({__init__:function(a){this._traceLevels=a.traceLevels();this._logger=a.initializationData().logger;this._readBuffers=[];this._readPosition=
0},setCallbacks:function(a,b,c){this._connectedCallback=a;this._bytesAvailableCallback=b;this._bytesWrittenCallback=c},initialize:function(c,e){try{if(this._exception)throw this._exception;if(0===this._state){this._state=1;this._fd=new WebSocket(this._url,"ice.zeroc.com");this._fd.binaryType="arraybuffer";var f=this;this._fd.onopen=function(a){f.socketConnected(a)};this._fd.onmessage=function(a){f.socketBytesAvailable(a.data)};this._fd.onclose=function(a){f.socketClosed(a)};return d.Connect}1===this._state&&
(this._desc=a(this._addr),this._state=2)}catch(g){this._exception||(this._exception=b(this._state,g));if(2<=this._traceLevels.network){var k=[];k.push("failed to establish "+this.type()+" connection\n");k.push(a(this._addr));this._logger.trace(this._traceLevels.networkCat,k.join(""))}throw this._exception;}1<=this._traceLevels.network&&this._logger.trace(this._traceLevels.networkCat,this.type()+" connection established\n"+this._desc);return d.None},register:function(){this._registered=!0;if(this._hasBytesAvailable||
this._exception)this._bytesAvailableCallback(),this._hasBytesAvailable=!1},unregister:function(){this._registered=!1},close:function(){if(null!==this._fd)if(this._fd.readyState===WebSocket.CONNECTING&&l)this._state=3;else{2==this._state&&1<=this._traceLevels.network&&this._logger.trace(this._traceLevels.networkCat,"closing "+this.type()+" connection\n"+this._desc);try{this._state=4,this._fd.close()}catch(a){throw b(this._state,a);}finally{this._fd=null}}},write:function(a){if(this._exception)throw this._exception;
var b=a.remaining;if(1024>this._fd.bufferedAmount){var c=a.b.slice(a.position,a.position+b);a.position+=b;this._fd.send(c);0<b&&3<=this._traceLevels.network&&(a="sent "+b+" of "+b+" bytes via "+this.type()+"\n"+this._desc,this._logger.trace(this._traceLevels.networkCat,a));return!0}var d=this,f=function(){d._fd&&(0===d._fd.bufferedAmount||this._exception?d._bytesWrittenCallback():setTimeout(f,50))};setTimeout(f,50);return!1},read:function(a,b){if(this._exception)throw this._exception;b.value=!1;if(0===
this._readBuffers.length)return!1;for(var c=this._readBuffers[0].byteLength-this._readPosition,d=a.remaining;0<a.remaining;)if(c>a.remaining&&(c=a.remaining),(new Uint8Array(a.b)).set(new Uint8Array(this._readBuffers[0],this._readPosition,c),a.position),a.position+=c,this._readPosition+=c,this._readPosition===this._readBuffers[0].byteLength)if(this._readPosition=0,this._readBuffers.shift(),0===this._readBuffers.length)break;else c=this._readBuffers[0].byteLength;c=d-a.remaining;0<c&&3<=this._traceLevels.network&&
(d="received "+c+" of "+d+" bytes via "+this.type()+"\n"+this._desc,this._logger.trace(this._traceLevels.networkCat,d));b.value=0<this._readBuffers.byteLength;return 0===a.remaining},type:function(){return this._secure?"wss":"ws"},getInfo:function(){var a=this.createInfo();a.localAddress="";a.localPort=-1;a.remoteAddress=this._addr.host;a.remotePort=this._addr.port;return a},createInfo:function(){return new f.ConnectionInfo},checkSendSize:function(a,b){a.size>b&&g.throwMemoryLimitException(a.size,
b)},toString:function(){return this._desc},socketConnected:function(a){3==this._state?this.close():this._connectedCallback()},socketBytesAvailable:function(a){0<a.byteLength&&(this._readBuffers.push(a),this._registered?this._bytesAvailableCallback():this._hasBytesAvailable||(this._hasBytesAvailable=!0))},socketClosed:function(a){3==this._state?this.close():(this._exception=b(this._state,a),2>this._state?this._connectedCallback():this._registered&&this._bytesAvailableCallback())}});m.createOutgoing=
function(a,b,c,d){a=new m(a);var f;f=(b?"wss":"ws")+("://"+c.host);80!==c.port&&(f+=":"+c.port);f+=d?d:"/";a._url=f;a._fd=null;a._addr=c;a._desc="remote address: "+c.host+":"+c.port+" <not connected>";a._state=0;a._secure=b;a._exception=null;return a};f.Transceiver=m;k.IceWS=f})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.AsyncResultBase,c=a.Identity,f=a.PropertyNames,g=a.ServantManager,d=a.UUID,l="ACM AdapterId Endpoints Locator Locator.EncodingVersion Locator.EndpointSelection Locator.ConnectionCached Locator.PreferSecure Locator.CollocationOptimized Locator.Router PublishedEndpoints RegisterProcess ReplicaGroupId Router Router.EncodingVersion Router.EndpointSelection Router.ConnectionCached Router.PreferSecure Router.CollocationOptimized Router.Locator Router.Locator.EndpointSelection Router.Locator.ConnectionCached Router.Locator.PreferSecure Router.Locator.CollocationOptimized Router.Locator.LocatorCacheTimeout Router.LocatorCacheTimeout ProxyOptions ThreadPool.Size ThreadPool.SizeMax ThreadPool.SizeWarn ThreadPool.StackSize ThreadPool.Serialize".split(" "),m=
a.Class({__init__:function(b,c,d,f,k,l,m){this._deactivated=!1;this._instance=b;this._communicator=c;this._objectAdapterFactory=d;this._servantManager=new g(b,f);this._name=f;this._routerEndpoints=[];this._routerInfo=null;this._destroyed=!1;if(this._noConfig=l)this._reference=this._instance.referenceFactory().createFromString("dummy -t",""),m.succeed(this,m);else{b=this._instance.initializationData().properties;c=[];d=this.filterProperties(c);if(0!==c.length&&0<b.getPropertyAsIntWithDefault("Ice.Warn.UnknownProperties",
1)){l=["found unknown properties for object adapter `"+f+"':"];for(var r=0;r<c.length;++r)l.push("\n    "+c[r]);this._instance.initializationData().logger.warning(l.join(""))}if(null===k&&d)throw k=new a.InitializationException,k.reason="object adapter `"+this._name+"' requires configuration",k;c=b.getPropertyWithDefault(this._name+".ProxyOptions","-t");try{this._reference=this._instance.referenceFactory().createFromString("dummy "+c,"")}catch(w){if(w instanceof a.ProxyParseException)throw k=new a.InitializationException,
k.reason="invalid proxy options `"+c+"' for object adapter `"+f+"'",k;throw w;}try{if(null===k&&(k=a.RouterPrx.uncheckedCast(this._instance.proxyFactory().propertyToProxy(this._name+".Router"))),null!==k){this._routerInfo=this._instance.routerManager().find(k);if(null!==this._routerInfo.getAdapter())throw new a.AlreadyRegisteredException("object adapter with router",this._instance.identityToString(k.ice_getIdentity()));var y=this;this._routerInfo.getServerEndpoints().then(function(a){var b;for(b=
0;b<a.length;++b)y._routerEndpoints.push(a[b]);y._routerEndpoints.sort(function(a,b){return a.compareTo(b)});for(b=0;b<y._routerEndpoints.length-1;)y._routerEndpoints[b].equals(y._routerEndpoints[b+1])?y._routerEndpoints.splice(b,1):++b;y._routerInfo.setAdapter(y);return y._instance.outgoingConnectionFactory().setRouterInfo(y._routerInfo)}).then(function(){m.succeed(y,m)},function(a){m.fail(a,m)})}else{if(0<b.getProperty(this._name+".Endpoints").length)throw new a.FeatureNotSupportedException("object adapter endpoints not supported");
m.succeed(this,m)}}catch(q){throw this.destroy(),q;}}},getName:function(){return this._noConfig?"":this._name},getCommunicator:function(){return this._communicator},activate:function(){},hold:function(){this.checkForDeactivation()},waitForHold:function(){var a=new b(this._communicator,"waitForHold",null,null,this);return adapter.checkForDeactivation(a)?a:a.succeed(a)},deactivate:function(){var a=new b(this._communicator,"deactivate",null,null,this);this._deactivated||(this._deactivated=!0,this._instance.outgoingConnectionFactory().removeAdapter(this));
return a.succeed(a)},waitForDeactivate:function(){var a=new b(this._communicator,"deactivate",null,null,this);return a.succeed(a)},isDeactivated:function(){return this._deactivated},destroy:function(){var a=new b(this._communicator,"destroy",null,null,this);this._deactivated||this.deactivate();this._destroyed||(this._destroyed=!0,this._servantManager.destroy(),this._objectAdapterFactory.removeObjectAdapter(this));return a.succeed(a)},add:function(a,b){return this.addFacet(a,b,"")},addFacet:function(a,
b,c){this.checkForDeactivation();this.checkIdentity(b);b=b.clone();this._servantManager.addServant(a,b,c);return this.newProxy(b,c)},addWithUUID:function(a){return this.addFacetWithUUID(a,"")},addFacetWithUUID:function(a,b){return this.addFacet(a,new c(d.generateUUID(),""),b)},addDefaultServant:function(a,b){this.checkForDeactivation();this._servantManager.addDefaultServant(a,b)},remove:function(a){return this.removeFacet(a,"")},removeFacet:function(a,b){this.checkForDeactivation();this.checkIdentity(a);
return this._servantManager.removeServant(a,b)},removeAllFacets:function(a){this.checkForDeactivation();this.checkIdentity(a);return this._servantManager.removeAllFacets(a)},removeDefaultServant:function(a){this.checkForDeactivation();return this._servantManager.removeDefaultServant(a)},find:function(a){return this.findFacet(a,"")},findFacet:function(a,b){this.checkForDeactivation();this.checkIdentity(a);return this._servantManager.findServant(a,b)},findAllFacets:function(a){this.checkForDeactivation();
this.checkIdentity(a);return this._servantManager.findAllFacets(a)},findByProxy:function(a){this.checkForDeactivation();a=a.__reference();return this.findFacet(a.getIdentity(),a.getFacet())},findDefaultServant:function(a){this.checkForDeactivation();return this._servantManager.findDefaultServant(a)},addServantLocator:function(a,b){this.checkForDeactivation();this._servantManager.addServantLocator(a,b)},removeServantLocator:function(a){this.checkForDeactivation();return this._servantManager.removeServantLocator(a)},
findServantLocator:function(a){this.checkForDeactivation();return this._servantManager.findServantLocator(a)},createProxy:function(a){this.checkForDeactivation();this.checkIdentity(a);return this.newProxy(a,"")},createDirectProxy:function(a){return this.createProxy(a)},createIndirectProxy:function(b){throw new a.FeatureNotSupportedException("setLocator not supported");},setLocator:function(b){throw new a.FeatureNotSupportedException("setLocator not supported");},refreshPublishedEndpoints:function(){throw new a.FeatureNotSupportedException("refreshPublishedEndpoints not supported");
},getEndpoints:function(){return[]},getPublishedEndpoints:function(){return[]},getServantManager:function(){return this._servantManager},newProxy:function(a,b){for(var c=[],d=0;d<this._routerEndpoints.length;++d)c.push(this._routerEndpoints[d]);c=this._instance.referenceFactory().create(a,b,this._reference,c);return this._instance.proxyFactory().referenceToProxy(c)},checkForDeactivation:function(b){if(this._deactivated){var c=new a.ObjectAdapterDeactivatedException;c.name=this.getName();if(void 0!==
b)return b.fail(c,b),!0;throw c;}return!1},checkIdentity:function(b){if(void 0===b.name||null===b.name||0===b.name.length){var c=new a.IllegalIdentityException;c.id=b.clone();throw c;}if(void 0===b.category||null===b.category)b.category=""},filterProperties:function(a){var b=!0,c,d=this._name+".";for(c=0;c<f.clPropNames.length;++c)if(0===d.indexOf(f.clPropNames[c]+".")){b=!1;break}for(var g=!0,k=this._instance.initializationData().properties.getPropertiesForPrefix(d).entries;null!==k;k=k.next){var m=
!1;for(c=0;c<l.length;++c)if(k.key===d+l[c]){g=!1;m=!0;break}!m&&b&&a.push(k.key)}return g}});a.ObjectAdapterI=m;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.BasicStream,c=a.Current,f=a.FormatType,g=a.HashMap,d=a.Identity,l=a.Protocol,m=a.StringUtil,h=a.Class({__init__:function(a,f,g,h,k,m){this._instance=a;this._response=h;this._compress=k;this._response&&(this._os=new b(a,l.currentProtocolEncoding));this._connection=f;this._current=new c;this._current.id=new d;this._current.adapter=g;this._current.con=this._connection;this._current.requestId=m;this._locator=this._servant=null;this._cookie={value:null};h&&(this._os.writeBlob(l.replyHdr),
this._os.writeInt(m));this._cb=this._is=null;this._active=!0},__startWriteParams:function(a){this._response&&(this._os.writeByte(0),this._os.startWriteEncaps(this._current.encoding,a));return this._os},__endWriteParams:function(a){if(this._response){var b=this._os.pos;this._os.pos=l.headerSize+4;this._os.writeByte(a?l.replyOK:l.replyUserException);this._os.pos=b;this._os.endWriteEncaps()}},__writeEmptyParams:function(){this._response&&(this._os.writeByte(l.replyOK),this._os.writeEmptyEncaps(this._current.encoding))},
__writeParamEncaps:function(a,b){this._response&&(this._os.writeByte(b?l.replyOK:l.replyUserException),null===a||0===a.length?this._os.writeEmptyEncaps(this._current.encoding):this._os.writeEncaps(a))},__writeUserException:function(a,b){this.__startWriteParams(b).writeUserException(a);this.__endWriteParams(!1)},__warning:function(b){var c=[];c.push("dispatch exception:");c.push("\nidentity: "+this._instance.identityToString(this._current.id));c.push("\nfacet: "+m.escapeString(this._current.facet,
""));c.push("\noperation: "+this._current.operation);if(null!==this._connection){var d=this._connection.getInfo();d instanceof a.IPConnectionInfo&&c.push("\nremote host: "+d.remoteAddress+" remote port: "+d.remotePort)}b.stack&&(c.push("\n"),c.push(b.stack));this._instance.initializationData().logger.warning(c.join(""))},__servantLocatorFinished:function(){try{return this._locator.finished(this._current,this._servant,this._cookie.value),!0}catch(b){return b instanceof a.UserException?(this._response?
(this._os.resize(l.headerSize+4),this._os.writeByte(l.replyUserException),this._os.startWriteEncaps(),this._os.writeUserException(b),this._os.endWriteEncaps(),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse(),this._connection=null):this.__handleException(b),!1}},__handleException:function(b){var c=this._instance.initializationData().properties;if(b instanceof a.RequestFailedException){null===b.id&&(b.id=this._current.id);null===b.facet&&(b.facet=this._current.facet);
if(null===b.operation||0===b.operation.length)b.operation=this._current.operation;1<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b);this._response?(this._os.resize(l.headerSize+4),b instanceof a.ObjectNotExistException?this._os.writeByte(l.replyObjectNotExist):b instanceof a.FacetNotExistException?this._os.writeByte(l.replyFacetNotExist):b instanceof a.OperationNotExistException&&this._os.writeByte(l.replyOperationNotExist),b.id.__write(this._os),null===b.facet||0===b.facet.length?
a.StringSeqHelper.write(this._os,null):a.StringSeqHelper.write(this._os,[b.facet]),this._os.writeString(b.operation),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()}else b instanceof a.UnknownLocalException?(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?(this._os.resize(l.headerSize+4),this._os.writeByte(l.replyUnknownLocalException),this._os.writeString(b.unknown),this._connection.sendResponse(this._os,this._compress)):
this._connection.sendNoResponse()):b instanceof a.UnknownUserException?(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?(this._os.resize(l.headerSize+4),this._os.writeByte(l.replyUnknownUserException),this._os.writeString(b.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):b instanceof a.UnknownException?(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?(this._os.resize(l.headerSize+
4),this._os.writeByte(l.replyUnknownException),this._os.writeString(b.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):b instanceof a.LocalException?(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?(this._os.resize(l.headerSize+4),this._os.writeByte(l.replyUnknownLocalException),c=[b.ice_name()],b.stack&&(c.push("\n"),c.push(b.stack)),this._os.writeString(c.join("")),this._connection.sendResponse(this._os,
this._compress)):this._connection.sendNoResponse()):b instanceof a.UserException?(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?(this._os.resize(l.headerSize+4),this._os.writeByte(l.replyUnknownUserException),c=[b.ice_name()],b.stack&&(c.push("\n"),c.push(b.stack)),this._os.writeString(c.join("")),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),
this._response?(this._os.resize(l.headerSize+4),this._os.writeByte(l.replyUnknownException),this._os.writeString(b.stack?b.stack:""),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse());this._connection=null},invoke:function(b,c){this._is=c;this._current.id.__read(this._is);var d=a.StringSeqHelper.read(this._is);if(0<d.length){if(1<d.length)throw new a.MarshalException;this._current.facet=d[0]}else this._current.facet="";this._current.operation=this._is.readString();
this._current.mode=a.OperationMode.valueOf(this._is.readByte());this._current.ctx=new g;for(d=this._is.readSize();0<d--;){var h=this._is.readString(),k=this._is.readString();this._current.ctx.set(h,k)}if(null!==b&&(this._servant=b.findServant(this._current.id,this._current.facet),null===this._servant&&(this._locator=b.findServantLocator(this._current.id.category),null===this._locator&&0<this._current.id.category.length&&(this._locator=b.findServantLocator("")),null!==this._locator)))try{this._servant=
this._locator.locate(this._current,this._cookie)}catch(m){m instanceof a.UserException?(d=this._is.skipEncaps(),this._response?(this._os.writeByte(l.replyUserException),this._os.startWriteEncaps(d,f.DefaultFormat),this._os.writeUserException(m),this._os.endWriteEncaps(),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse(),this._connection=null):(this._is.skipEncaps(),this.__handleException(m));return}try{if(null!==this._servant){if(this._servant.__dispatch(this,
this._current)===a.DispatchStatus.DispatchAsync||null!==this._locator&&!this.__servantLocatorFinished())return}else{this._is.skipEncaps();if(null!==b&&b.hasServant(this._current.id))throw new a.FacetNotExistException(this._current.id,this._current.facet,this._current.operation);throw new a.ObjectNotExistException(this._current.id,this._current.facet,this._current.operation);}}catch(r){if(null!==this._servant&&null!==this._locator&&!this.__servantLocatorFinished())return;this.__handleException(r);
return}this._response?this._connection.sendResponse(this._os,this._compress):this._connection.sendNoResponse();this._connection=null},startReadParams:function(){this._current.encoding=this._is.startReadEncaps();return this._is},endReadParams:function(){this._is.endReadEncaps()},readEmptyParams:function(){this._current.encoding=new a.EncodingVersion;this._is.skipEmptyEncaps(this._current.encoding)},readParamEncaps:function(){this._current.encoding=new a.EncodingVersion;return this._is.readEncaps(this._current.encoding)},
__response:function(){try{if(null===this._locator||this.__servantLocatorFinished())this._response?this._connection.sendResponse(this._os,this._compress):this._connection.sendNoResponse(),this._connection=null}catch(a){this._connection.invokeException(a,1)}},__exception:function(a){try{(null===this._locator||this.__servantLocatorFinished())&&this.__handleException(a)}catch(b){this._connection.invokeException(b,1)}},__validateResponse:function(a){if(!this._active)return!1;this._active=!1;return!0},
ice_exception:function(a){this._active&&(this._active=!1,null!==this._connection?this.__exception(a):0<this._instance.initializationData().properties.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(a))}});a.IncomingAsync=h;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.AsyncStatus,c=a.AsyncResultBase,f=a.BasicStream,g=a.ConnectionBatchOutgoingAsync,d=a.ExUtil,l=a.HashMap,m=a.IncomingAsync,h=a.LocalExceptionWrapper,e=a.Promise,n=a.Protocol,p=a.SocketOperation,t=a.TraceUtil,v=a.ProtocolVersion,u=a.EncodingVersion,r=function(a){this.stream=new f(a,n.currentProtocolEncoding,!1);this.requestId=this.invokeNum=0;this.compress=!1;this.outAsync=this.adapter=this.servantManager=null},w=a.Class,y=w({__init__:function(a,b,c,d,e,g,h){this._communicator=
a;this._instance=b;this._reaper=c;this._transceiver=d;this._desc=d.toString();this._type=d.type();this._endpoint=e;this._incoming=g;this._adapter=h;a=b.initializationData();this._logger=a.logger;this._traceLevels=b.traceLevels();this._timer=b.timer();this._writeTimeoutId=0;this._writeTimeoutScheduled=!1;this._readTimeoutId=0;this._readTimeoutScheduled=!1;this._hasMoreData={value:!1};this._warn=0<a.properties.getPropertyAsInt("Ice.Warn.Connections");this._warnUdp=0<b.initializationData().properties.getPropertyAsInt("Ice.Warn.Datagrams");
this._acmAbsoluteTimeoutMillis=0;this._nextRequestId=1;this._batchAutoFlush=0<a.properties.getPropertyAsIntWithDefault("Ice.BatchAutoFlush",1)?!0:!1;this._batchStream=new f(b,n.currentProtocolEncoding,this._batchAutoFlush);this._batchStreamInUse=!1;this._batchRequestNum=0;this._batchRequestCompress=!1;this._batchMarker=0;this._sendStreams=[];this._readStream=new f(b,n.currentProtocolEncoding);this._readHeader=!1;this._writeStream=new f(b,n.currentProtocolEncoding);this._writeStreamPos=this._readStreamPos=
-1;this._state=this._dispatchCount=0;this._validated=this._shutdownInitiated=!1;this._readProtocol=new v;this._readProtocolEncoding=new u;this._asyncRequests=new l;this._startPromise=this._exception=null;this._closePromises=[];this._holdPromises=[];this._finishedPromises=[];this._servantManager=null!==this._adapter?this._adapter.getServantManager():null;this._endpoint.datagram()?this._acmTimeout=0:this._acmTimeout=null!==this._adapter?this._adapter.getACM():this._instance.clientACM()},start:function(){try{if(5<=
this._state)return(new e).fail(this._exception);this._startPromise=new e;var b=this;this._transceiver.setCallbacks(function(){b.message(p.Write)},function(){b.message(p.Read)},function(){b.message(p.Write)});this.initialize()}catch(c){return c instanceof a.LocalException&&this.exception(c),(new e).fail(c)}return this._startPromise},activate:function(){1>=this._state||(0<this._acmTimeout&&(this._acmAbsoluteTimeoutMillis=Date.now()+1E3*this._acmTimeout),this.setState(2))},hold:function(){1>=this._state||
this.setState(3)},destroy:function(b){switch(b){case y.ObjectAdapterDeactivated:this.setStateEx(4,new a.ObjectAdapterDeactivatedException);break;case y.CommunicatorDestroyed:this.setStateEx(4,new a.CommunicatorDestroyedException)}},close:function(b){var d=new c(this._communicator,"close",this,null,null);b?(this.setStateEx(5,new a.ForcedCloseConnectionException),d.succeed(d)):(this._closePromises.push(d),this.checkClose());return d},checkClose:function(){if(0===this._asyncRequests.size&&0<this._closePromises.length){this.setStateEx(4,
new a.CloseConnectionException);for(var b=0;b<this._closePromises.length;++b)this._closePromises[b].succeed(this._closePromises[b]);this._closePromises=[]}},isActiveOrHolding:function(){return 1<this._state&&4>this._state},isFinished:function(){return 6!==this._state||0!==this._dispatchCount?!1:!0},throwException:function(){if(null!==this._exception)throw this._exception;},waitUntilHolding:function(){var a=new e;this._holdPromises.push(a);this.checkState();return a},waitUntilFinished:function(){var a=
new e;this._finishedPromises.push(a);this.checkState();return a},monitor:function(b){2===this._state&&(0>=this._acmTimeout||0<this._asyncRequests.size||0<this._dispatchCount||this._readStream.size>n.headerSize||!this._writeStream.isEmpty()||!this._batchStream.isEmpty()||b>=this._acmAbsoluteTimeoutMillis&&this.setStateEx(4,new a.ConnectionTimeoutException))},sendAsyncRequest:function(b,c,d){var e=0,f=b.__os();if(null!==this._exception)throw new h(this._exception,!0);this._transceiver.checkSendSize(f,
this._instance.messageSizeMax());d&&(e=this._nextRequestId++,0>=e&&(this._nextRequestId=1,e=this._nextRequestId++),f.pos=n.headerSize,f.writeInt(e));var g;try{g=this.sendMessage(q.create(b,b.__os(),c,e))}catch(k){if(k instanceof a.LocalException)throw this.setStateEx(5,k),this._exception;throw k;}d&&this._asyncRequests.set(e,b);return g},prepareBatchRequest:function(b){if(null!==this._exception){if(this._batchStream.isEmpty())throw new h(this._exception,!0);throw this._exception;}if(this._batchStream.isEmpty())try{this._batchStream.writeBlob(n.requestBatchHdr)}catch(c){throw c instanceof
a.LocalException&&this.setStateEx(5,c),c;}this._batchStreamInUse=!0;this._batchMarker=this._batchStream.size;this._batchStream.swap(b)},finishBatchRequest:function(b,c){try{this._batchStream.swap(b);if(null!==this._exception)throw this._exception;var e=!1;if(this._batchAutoFlush)try{this._transceiver.checkSendSize(this._batchStream.buffer,this._instance.messageSizeMax())}catch(g){if(g instanceof a.LocalException)if(0<this._batchRequestNum)e=!0;else throw g;else throw g;}if(e){var h=this._batchStream.size-
this._batchMarker;this._batchStream.pos=this._batchMarker;var k=this._batchStream.readBlob(h);this._batchStream.resize(this._batchMarker,!1);try{this._batchStream.pos=n.headerSize,this._batchStream.writeInt(this._batchRequestNum),this.sendMessage(q.createForStream(this._batchStream,this._batchRequestCompress,!0))}catch(l){if(l instanceof a.LocalException)throw this.setStateEx(5,l),this._exception;throw l;}this._batchStream=new f(this._instance,n.currentProtocolEncoding,this._batchAutoFlush);this._batchRequestNum=
0;this._batchRequestCompress=!1;this._batchMarker=0;n.requestBatchHdr.length+k.length>this._instance.messageSizeMax()&&d.throwMemoryLimitException(n.requestBatchHdr.length+k.length,this._instance.messageSizeMax());this._batchStream.writeBlob(n.requestBatchHdr);this._batchStream.writeBlob(k)}++this._batchRequestNum;c&&(this._batchRequestCompress=!0);this._batchStreamInUse=!1}catch(p){throw p instanceof a.LocalException&&this.abortBatchRequest(),p;}},abortBatchRequest:function(){this._batchStream=new f(this._instance,
n.currentProtocolEncoding,this._batchAutoFlush);this._batchRequestNum=0;this._batchRequestCompress=!1;this._batchMarker=0;this._batchStreamInUse=!1},flushBatchRequests:function(){var a=new g(this,this._communicator,"flushBatchRequests");try{a.__send()}catch(b){a.__exception(b)}return a},flushAsyncBatchRequests:function(c){if(null!==this._exception)throw this._exception;var d;if(0===this._batchRequestNum)return c.__sent(this),b.Sent;this._batchStream.pos=n.headerSize;this._batchStream.writeInt(this._batchRequestNum);
this._batchStream.swap(c.__os());try{d=this.sendMessage(q.create(c,c.__os(),this._batchRequestCompress,0))}catch(e){if(e instanceof a.LocalException)throw this.setStateEx(5,e),this._exception;throw e;}this._batchStream=new f(this._instance,n.currentProtocolEncoding,this._batchAutoFlush);this._batchRequestNum=0;this._batchRequestCompress=!1;this._batchMarker=0;return d},sendResponse:function(b,c){try{0===--this._dispatchCount&&(6===this._state&&this._reaper.add(this),this.checkState());if(5<=this._state)throw this._exception;
this.sendMessage(q.createForStream(b,0!==c,!0));4===this._state&&0===this._dispatchCount&&this.initiateShutdown()}catch(d){if(d instanceof a.LocalException)this.setStateEx(5,d);else throw d;}},sendNoResponse:function(){try{0===--this._dispatchCount&&(6===this._state&&this._reaper.add(this),this.checkState());if(5<=this._state)throw this._exception;4===this._state&&0===this._dispatchCount&&this.initiateShutdown()}catch(b){if(b instanceof a.LocalException)this.setStateEx(5,b);else throw b;}},endpoint:function(){return this._endpoint},
setAdapter:function(a){1>=this._state||4<=this._state||(this._adapter=a,null!==this._adapter?(this._servantManager=this._adapter.getServantManager(),null===this._servantManager&&(this._adapter=null)):this._servantManager=null)},getAdapter:function(){return this._adapter},getEndpoint:function(){return this._endpoint},createProxy:function(a){return this._instance.proxyFactory().referenceToProxy(this._instance.referenceFactory().createFixed(a,this))},message:function(b){if(!(5<=this._state)){this.unscheduleTimeout(b);
this._hasMoreData.value=0!==(b&p.Read);do{var c=null;try{if(0!==(b&p.Write)&&0<this._writeStream.buffer.remaining&&!this._transceiver.write(this._writeStream.buffer)){this.scheduleTimeout(p.Write,this._endpoint.timeout());break}if(0!==(b&p.Read)&&!this._readStream.isEmpty()){if(this._readHeader){if(!this._transceiver.read(this._readStream.buffer,this._hasMoreData))break;this._readHeader=!1;var e=this._readStream.pos;if(e<n.headerSize)throw new a.IllegalMessageSizeException;this._readStream.pos=0;
var f=this._readStream.readByte(),g=this._readStream.readByte(),h=this._readStream.readByte(),k=this._readStream.readByte();if(f!==n.magic[0]||g!==n.magic[1]||h!==n.magic[2]||k!==n.magic[3]){var l=new a.BadMagicException;l.badMagic=a.Buffer.createNative([f,g,h,k]);throw l;}this._readProtocol.__read(this._readStream);n.checkSupportedProtocol(this._readProtocol);this._readProtocolEncoding.__read(this._readStream);n.checkSupportedProtocolEncoding(this._readProtocolEncoding);this._readStream.readByte();
this._readStream.readByte();var m=this._readStream.readInt();if(m<n.headerSize)throw new a.IllegalMessageSizeException;m>this._instance.messageSizeMax()&&d.throwMemoryLimitException(m,this._instance.messageSizeMax());m>this._readStream.size&&this._readStream.resize(m);this._readStream.pos=e}if(this._readStream.pos!=this._readStream.size){if(this._endpoint.datagram())throw new a.DatagramLimitException;if(!this._transceiver.read(this._readStream.buffer,this._hasMoreData)){this.scheduleTimeout(p.Read,
this._endpoint.timeout());break}}}if(1>=this._state){if(0===this._state&&!this.initialize())break;if(1>=this._state&&!this.validate())break;this._transceiver.unregister();this.setState(3)}else 0!==(b&p.Read)&&(c=this.parseMessage()),0!==(b&p.Write)&&this.sendNextMessage(),null!==c&&null!==c.outAsync&&++this._dispatchCount}catch(t){if(t instanceof a.DatagramLimitException){this._warnUdp&&this._logger.warning("maximum datagram size of "+this._readStream.pos+" exceeded");this._readStream.resize(n.headerSize);
this._readStream.pos=0;this._readHeader=!0;break}else if(t instanceof a.SocketException){this.setStateEx(5,t);break}else if(t instanceof a.LocalException){this._endpoint.datagram()?(this._warn&&this._logger.warning("datagram connection exception:\n"+t+"\n"+this._desc),this._readStream.resize(n.headerSize),this._readStream.pos=0,this._readHeader=!0):this.setStateEx(5,t);break}else throw t;}0<this._acmTimeout&&(this._acmAbsoluteTimeoutMillis=Date.now()+1E3*this._acmTimeout);this.dispatch(c)}while(this._hasMoreData.value)}},
dispatch:function(b){null!==this._startPromise&&(this._startPromise.succeed(),this._startPromise=null);null!==b&&(null!==b.outAsync&&b.outAsync.__finished(b.stream),0<b.invokeNum&&this.invokeAll(b.stream,b.invokeNum,b.requestId,b.compress,b.servantManager,b.adapter));if(null!==b&&null!==b.outAsync&&0===--this._dispatchCount){if(4!==this._state||this._shutdownInitiated)6===this._state&&this._reaper.add(this);else try{this.initiateShutdown()}catch(c){if(c instanceof a.LocalException)this.setStateEx(5,
c);else throw c;}this.checkState()}},finish:function(){this.unscheduleTimeout(p.Read|p.Write|p.Connect);null!==this._startPromise&&(this._startPromise.fail(this._exception),this._startPromise=null);if(0<this._sendStreams.length){this._writeStream.isEmpty()||this._writeStream.swap(this._sendStreams[0].stream);for(var a=0;a<this._sendStreams.length;++a){var b=this._sendStreams[a];0<b.requestId&&this._asyncRequests.delete(b.requestId);b.finished(this._exception)}this._sendStreams=[]}for(a=this._asyncRequests.entries;null!==
a;a=a.next)a.value.__finishedEx(this._exception,!0);this._asyncRequests.clear();0===this._dispatchCount&&this._reaper.add(this);this.setState(6)},toString:function(){return this._desc},timedOut:function(b){1>=this._state?this.setStateEx(5,new a.ConnectTimeoutException):4>this._state?this.setStateEx(5,new a.TimeoutException):4===this._state&&this.setStateEx(5,new a.CloseTimeoutException)},type:function(){return this._type},timeout:function(){return this._endpoint.timeout()},getInfo:function(){if(5<=
this._state)throw this._exception;var a=this._transceiver.getInfo();a.adapterName=null!==this._adapter?this._adapter.getName():"";a.incoming=this._incoming;return a},exception:function(a){this.setStateEx(5,a)},invokeException:function(a,b){this.setStateEx(5,a);0<b&&(this._dispatchCount-=b,0===this._dispatchCount&&(6===this._state&&this._reaper.add(this),this.checkState()))},setStateEx:function(b,c){this._state!==b&&(null===this._exception&&(this._exception=c,this._warn&&this._validated&&(this._exception instanceof
a.CloseConnectionException||this._exception instanceof a.ForcedCloseConnectionException||this._exception instanceof a.ConnectionTimeoutException||this._exception instanceof a.CommunicatorDestroyedException||this._exception instanceof a.ObjectAdapterDeactivatedException||this._exception instanceof a.ConnectionLostException&&4===this._state||this.warning("connection exception",this._exception))),this.setState(b))},setState:function(b){this._endpoint.datagram()&&4===b&&(b=5);1>=this._state&&4===b&&(b=
5);if(this._state!==b){try{switch(b){case 1:if(0!==this._state)return;this._endpoint.datagram()||this._incoming||this._transceiver.register();break;case 2:if(3!==this._state&&1!==this._state)return;this._transceiver.register();break;case 3:if(2!==this._state&&1!==this._state)return;2===this._state&&this._transceiver.unregister();break;case 4:if(5<=this._state)return;3===this._state&&this._transceiver.register();break;case 5:if(6===this._state)return;this._transceiver.unregister();break;case 6:this._transceiver.close(),
this._communicator=null}}catch(c){if(c instanceof a.LocalException){var e="unexpected connection exception:\n "+this._desc+"\n"+d.toString(c);this._instance.initializationData().logger.error(e)}else throw c;}0<this._acmTimeout&&(2===b?this._instance.connectionMonitor().add(this):2===this._state&&this._instance.connectionMonitor().remove(this));this._state=b;if(4===this._state&&0===this._dispatchCount)try{this.initiateShutdown()}catch(f){if(f instanceof a.LocalException)this.setStateEx(5,f);else throw f;
}else 5===this._state&&this.finish();this.checkState()}},initiateShutdown:function(){if(!this._endpoint.datagram()){var a=new f(this._instance,n.currentProtocolEncoding,!1);a.writeBlob(n.magic);n.currentProtocol.__write(a);n.currentProtocolEncoding.__write(a);a.writeByte(n.closeConnectionMsg);a.writeByte(0);a.writeInt(n.headerSize);0<(this.sendMessage(q.createForStream(a,!1,!1))&b.Sent)&&this.scheduleTimeout(p.Write,this.closeTimeout())}},initialize:function(){var a=this._transceiver.initialize(this._readStream.buffer,
this._writeStream.buffer);if(a!=p.None)return this.scheduleTimeout(a,this.connectTimeout()),!1;this._desc=this._transceiver.toString();this.setState(1);return!0},validate:function(){if(!this._endpoint.datagram())if(null!==this._adapter){if(0===this._writeStream.size&&(this._writeStream.writeBlob(n.magic),n.currentProtocol.__write(this._writeStream),n.currentProtocolEncoding.__write(this._writeStream),this._writeStream.writeByte(n.validateConnectionMsg),this._writeStream.writeByte(0),this._writeStream.writeInt(n.headerSize),
t.traceSend(this._writeStream,this._logger,this._traceLevels),this._writeStream.prepareWrite()),this._writeStream.pos!=this._writeStream.size&&!this._transceiver.write(this._writeStream.buffer))return this.scheduleTimeout(p.Write,this.connectTimeout()),!1}else{0===this._readStream.size&&(this._readStream.resize(n.headerSize),this._readStream.pos=0);if(this._readStream.pos!==this._readStream.size&&!this._transceiver.read(this._readStream.buffer,this._hasMoreData))return this.scheduleTimeout(p.Read,
this.connectTimeout()),!1;this._readStream.pos=0;var b=this._readStream.readBlob(4);if(b[0]!==n.magic[0]||b[1]!==n.magic[1]||b[2]!==n.magic[2]||b[3]!==n.magic[3]){var c=new a.BadMagicException;c.badMagic=b;throw c;}this._readProtocol.__read(this._readStream);n.checkSupportedProtocol(this._readProtocol);this._readProtocolEncoding.__read(this._readStream);n.checkSupportedProtocolEncoding(this._readProtocolEncoding);if(this._readStream.readByte()!==n.validateConnectionMsg)throw new a.ConnectionNotValidatedException;
this._readStream.readByte();if(this._readStream.readInt()!==n.headerSize)throw new a.IllegalMessageSizeException;t.traceRecv(this._readStream,this._logger,this._traceLevels);this._validated=!0}this._writeStream.resize(0);this._writeStream.pos=0;this._readStream.resize(n.headerSize);this._readHeader=!0;this._readStream.pos=0;return!0},sendNextMessage:function(){if(0!==this._sendStreams.length){try{for(;;){var b=this._sendStreams.shift();this._writeStream.swap(b.stream);b.sent(this);if(0===this._sendStreams.length)break;
if(5<=this._state)return;var b=this._sendStreams[0],c=b.stream;c.pos=10;c.writeInt(c.size);c.prepareWrite();b.prepared=!0;null!==b.outAsync?t.trace("sending asynchronous request",c,this._logger,this._traceLevels):t.traceSend(c,this._logger,this._traceLevels);this._writeStream.swap(b.stream);if(this._writeStream.pos!=this._writeStream.size&&!this._transceiver.write(this._writeStream.buffer)){this.scheduleTimeout(p.Write,this._endpoint.timeout());return}}}catch(d){if(d instanceof a.LocalException){this.setState(5,
d);return}throw d;}4===this._state&&this.scheduleTimeout(p.Write,this.closeTimeout())}},sendMessage:function(a){if(0<this._sendStreams.length)return a.doAdopt(),this._sendStreams.push(a),b.Queued;var c=a.stream;c.pos=10;c.writeInt(c.size);c.prepareWrite();a.prepared=!0;t.trace("sending asynchronous request",a.stream,this._logger,this._traceLevels);if(this._transceiver.write(a.stream.buffer))return a.sent(this),0<this._acmTimeout&&(this._acmAbsoluteTimeoutMillis=Date.now()+1E3*this._acmTimeout),b.Sent;
a.doAdopt();this._writeStream.swap(a.stream);this._sendStreams.push(a);this.scheduleTimeout(p.Write,this._endpoint.timeout());return b.Queued},parseMessage:function(){var b=new r(this._instance);this._readStream.swap(b.stream);this._readStream.resize(n.headerSize);this._readStream.pos=0;this._validated=this._readHeader=!0;try{b.stream.pos=8;var c=b.stream.readByte();b.compress=b.stream.readByte();if(2===b.compress){var d=new a.FeatureNotSupportedException;d.unsupportedFeature="Cannot uncompress compressed message";
throw d;}b.stream.pos=n.headerSize;switch(c){case n.closeConnectionMsg:t.traceRecv(b.stream,this._logger,this._traceLevels);this._endpoint.datagram()?this._warn&&this._logger.warning("ignoring close connection message for datagram connection:\n"+this._desc):this.setStateEx(5,new a.CloseConnectionException);break;case n.requestMsg:4===this._state?t.trace("received request during closing\n(ignored by server, client will retry)",b.stream,this._logger,this._traceLevels):(t.traceRecv(b.stream,this._logger,
this._traceLevels),b.requestId=b.stream.readInt(),b.invokeNum=1,b.servantManager=this._servantManager,b.adapter=this._adapter,++this._dispatchCount);break;case n.requestBatchMsg:if(4===this._state)t.trace("received batch request during closing\n(ignored by server, client will retry)",b.stream,this._logger,this._traceLevels);else{t.traceRecv(b.stream,this._logger,this._traceLevels);b.invokeNum=b.stream.readInt();if(0>b.invokeNum)throw b.invokeNum=0,new a.UnmarshalOutOfBoundsException;b.servantManager=
this._servantManager;b.adapter=this._adapter;this._dispatchCount+=b.invokeNum}break;case n.replyMsg:t.traceRecv(b.stream,this._logger,this._traceLevels);b.requestId=b.stream.readInt();b.outAsync=this._asyncRequests.get(b.requestId);this._asyncRequests.delete(b.requestId);if(void 0===b.outAsync)throw new a.UnknownRequestIdException;this.checkClose();break;case n.validateConnectionMsg:t.traceRecv(b.stream,this._logger,this._traceLevels);this._warn&&this._logger.warning("ignoring unexpected validate connection message:\n"+
this._desc);break;default:throw t.trace("received unknown message\n(invalid, closing connection)",b.stream,this._logger,this._traceLevels),new a.UnknownMessageException;}}catch(e){if(e instanceof a.LocalException)this._endpoint.datagram()?this._warn&&this._logger.warning("datagram connection exception:\n"+e+"\n"+this._desc):this.setStateEx(5,e);else throw e;}return b},invokeAll:function(b,c,d,e,f,g){var h=null;try{for(;0<c;){var k=!this._endpoint.datagram()&&0!==d,h=new m(this._instance,this,g,k,
e,d);h.invoke(f,b);--c;h=null}b.clear()}catch(l){if(l instanceof a.LocalException)this.invokeException(l,c);else throw l;}},scheduleTimeout:function(a,b){if(!(0>b)){var c=this;0!==(a&p.Read)&&(this._readTimeoutId=this._timer.schedule(function(){c.timedOut()},b),this._readTimeoutScheduled=!0);0!==(a&(p.Write|p.Connect))&&(this._writeTimeoutId=this._timer.schedule(function(){c.timedOut()},b),this._writeTimeoutScheduled=!0)}},unscheduleTimeout:function(a){0!==(a&p.Read)&&this._readTimeoutScheduled&&
(this._timer.cancel(this._readTimeoutId),this._readTimeoutScheduled=!1);0!==(a&(p.Write|p.Connect))&&this._writeTimeoutScheduled&&(this._timer.cancel(this._writeTimeoutId),this._writeTimeoutScheduled=!1)},connectTimeout:function(){var a=this._instance.defaultsAndOverrides();return a.overrideConnectTimeout?a.overrideConnectTimeoutValue:this._endpoint.timeout()},closeTimeout:function(){var a=this._instance.defaultsAndOverrides();return a.overrideCloseTimeout?a.overrideCloseTimeoutValue:this._endpoint.timeout()},
warning:function(a,b){this._logger.warning(a+":\n"+this._desc+"\n"+d.toString(b))},checkState:function(){if(!(3>this._state||0<this._dispatchCount)){var a;if(0<this._holdPromises.length){for(a=0;a<this._holdPromises.length;++a)this._holdPromises[a].succeed();this._holdPromises=[]}if(6===this._state&&0<this._finishedPromises.length){this._adapter=null;for(a=0;a<this._finishedPromises.length;++a)this._finishedPromises[a].succeed();this._finishedPromises=[]}}}});y.ObjectAdapterDeactivated=0;y.CommunicatorDestroyed=
1;a.ConnectionI=y;k.Ice=a;var q=w({__init__:function(){this.outAsync=this.stream=null;this.compress=!1;this.requestId=0;this.isSent=this.prepared=!1},doAdopt:function(){if(this.adopt){var a=new f(this.stream.instance,n.currentProtocolEncoding);a.swap(this.stream);this.stream=a;this.adopt=!1}},sent:function(a){this.isSent=!0;null!==this.outAsync&&this.outAsync.__sent(a)},finished:function(a){null!==this.outAsync&&this.outAsync.__finishedEx(a,this.isSent)}});q.createForStream=function(a,b,c){var d=
new q;d.stream=a;d.compress=b;d.adopt=c;d.isSent=!1;d.requestId=0;d.outAsync=null;return d};q.create=function(a,b,c,d){var e=new q;e.stream=b;e.compress=c;e.outAsync=a;e.requestId=d;e.isSent=!1;e.adopt=!1;return e}})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{};a.TraceLevels=function(a){var c=a.getPropertyAsInt("Ice.Trace.Network"),f=a.getPropertyAsInt("Ice.Trace.Protocol"),g=a.getPropertyAsInt("Ice.Trace.Retry"),d=a.getPropertyAsInt("Ice.Trace.Locator"),k=a.getPropertyAsInt("Ice.Trace.Slicing");a.getPropertyAsInt("Ice.Trace.ThreadPool");return Object.create(null,{network:{get:function(){return c}},networkCat:{get:function(){return"Network"}},protocol:{get:function(){return f}},protocolCat:{get:function(){return"Protocol"}},
retry:{get:function(){return g}},retryCat:{get:function(){return"Retry"}},location:{get:function(){return d}},locationCat:{get:function(){return"Locator"}},slicing:{get:function(){return k}},slicingCat:{get:function(){return"Slicing"}}})};k.Ice=a})("undefined"===typeof global?window:global);
(function(k,a){var b=k.Ice||{},c=k.IceWS||{};Object.defineProperty(c,"WSEndpointType",{value:4});Object.defineProperty(c,"WSSEndpointType",{value:5});c.EndpointInfo=Slice.defineLocalObject(function(a,c,d,k,m){b.IPEndpointInfo.call(this,a,c,d,k);this.resource=void 0!==m?m:null},b.IPEndpointInfo);k.IceWS=c})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(k){var a=k.Ice||{},b=k.IceWS||{},c=a.Address,f=a.HashUtil,g=a.StringUtil,d=b.Transceiver,l=a.Class,m=l(a.Endpoint,{__init__:function(a,b,c,d,f,g,h,k){this._instance=a;this._secure=b;this._host=c;this._port=d;this._timeout=f;this._connectionId=g;this._compress=h;this._resource=k;this.calcHashValue()},toString:function(){var a=this._secure?"wss":"ws";null!==this._host&&0<this._host.length&&(a=a+" -h "+(-1!==this._host.indexOf(":")?'"'+this._host+'"':this._host));a+=" -p "+this._port;-1!=this._timeout&&
(a+=" -t "+this._timeout);this._compress&&(a+=" -z");null!==this._resource&&0<this._resource.length&&(a+=" -r ",a+=-1!==this._resource.indexOf(":")?'"'+this._resource+'"':this._resource);return a},getInfo:function(){return new h(this._secure,this._timeout,this._compress,this._host,this._port,this._resource)},streamWrite:function(a){a.writeShort(this._secure?b.WSSEndpointType:b.WSEndpointType);a.startWriteEncaps();a.writeString(this._host);a.writeInt(this._port);a.writeInt(this._timeout);a.writeBool(this._compress);
a.writeString(this._resource);a.endWriteEncaps()},type:function(){return this._secure?b.WSSEndpointType:b.WSEndpointType},timeout:function(){return this._timeout},changeTimeout:function(a){return a===this._timeout?this:new m(this._instance,this._secure,this._host,this._port,a,this._connectionId,this._compress,this._resource)},changeConnectionId:function(a){return a===this._connectionId?this:new m(this._instance,this._secure,this._host,this._port,this._timeout,a,this._compress,this._resource)},compress:function(){return this._compress},
changeCompress:function(a){return a===this._compress?this:new m(this._instance,this._secure,this._host,this._port,this._timeout,this._connectionId,a,this._resource)},datagram:function(){return!1},secure:function(){return this._secure},transceiver:function(a){return null},acceptor:function(a,b){return null},connect:function(){2<=this._instance.traceLevels().network&&this._instance.initializationData().logger.trace(this._instance.traceLevels().networkCat,"trying to establish "+(this._secure?"wss":"ws")+
" connection to "+this._host+":"+this._port);return d.createOutgoing(this._instance,this._secure,new c(this._host,this._port),this._resource)},hashCode:function(){return this._hashCode},equals:function(a){return a instanceof m?this===a?!0:this._host!==a._host||this._port!==a._port||this._timeout!==a._timeout||this._connectionId!==a._connectionId||this._compress!==a._compress||this._resource!==a._resource?!1:!0:!1},compareTo:function(a){return this===a?0:null===a?1:a instanceof m?this._port<a._port?
-1:a._port<this._port?1:this._timeout<a._timeout?-1:a._timeout<this._timeout?1:this._connectionId!=a._connectionId?this._connectionId<a._connectionId?-1:1:!this._compress&&a._compress?-1:!a._compress&&this._compress?1:this._host<a._host?-1:a._host<this._host?1:this._resource==a._resource?0:this._resource<a._resource?-1:1:this.type()<a.type()?-1:1},calcHashValue:function(){var a;a=f.addNumber(5381,this._secure?b.WSSEndpointType:b.WSEndpointType);a=f.addString(a,this._host);a=f.addNumber(a,this._port);
a=f.addNumber(a,this._timeout);a=f.addString(a,this._connectionId);a=f.addBoolean(a,this._compress);this._hashCode=a=f.addString(a,this._resource)}});m.fromString=function(b,c,d,f){for(var h=null,k=0,l=-1,w=!1,y="",q=c?"wss":"ws",A=d.split(/[ \t\n\r]+/),B=0;B<A.length;)if(0===A[B].length)B++;else{var z=A[B++];if(2!=z.length&&"-"!=z.charAt(0))throw new a.EndpointParseException("expected an endpoint option but found `"+z+"' in endpoint `"+q+" "+d+"'");var x=null;B<A.length&&"-"!=A[B].charAt(0)&&(x=
A[B++],'"'==x.charAt(0)&&'"'==x.charAt(x.length-1)&&(x=x.substring(1,x.length-1)));switch(z.charAt(1)){case "h":if(null===x)throw new a.EndpointParseException("no argument provided for -h option in endpoint `"+q+" "+d+"'");h=x;break;case "p":if(null===x)throw new a.EndpointParseException("no argument provided for -p option in endpoint `"+q+" "+d+"'");try{k=g.toInt(x)}catch(C){throw new a.EndpointParseException("invalid port value `"+x+"' in endpoint `"+q+" "+d+"'");}if(0>k||65535<k)throw new a.EndpointParseException("port value `"+
x+"' out of range in endpoint `"+q+" "+d+"'");break;case "r":if(null===x)throw new a.EndpointParseException("no argument provided for -r option in endpoint `"+q+" "+d+"'");y=x;break;case "t":if(null===x)throw new a.EndpointParseException("no argument provided for -t option in endpoint `"+q+" "+d+"'");try{l=g.toInt(x)}catch(D){throw new a.EndpointParseException("invalid timeout value `"+x+"' in endpoint `"+q+" "+d+"'");}break;case "z":if(null!==x)throw new a.EndpointParseException("unexpected argument `"+
x+"' provided for -z option in `"+q+" "+d+"'");w=!0;break;default:throw new a.EndpointParseException("unknown option `"+z+"' in `"+q+" "+d+"'");}}if(null===h)h=b.defaultsAndOverrides().defaultHost;else if("*"==h)if(f)h=null;else throw new a.EndpointParseException("`-h *' not valid for proxy endpoint `"+q+" "+d+"'");null===h&&(h="");return new m(b,c,h,k,l,"",w,y)};m.fromStream=function(a,b){a.startReadEncaps();var c=a.readString(),d=a.readInt(),f=a.readInt(),g=a.readBool(),h=a.readString();a.endReadEncaps();
return new m(a.instance,b,c,d,f,"",g,h)};b.EndpointI=m;k.IceWS=b;var h=l(b.EndpointInfo,{__init__:function(a,c,d,f,g,h){b.EndpointInfo.call(this,c,d,f,g,h);this.secure=a},type:function(){return this._secure?b.WSSEndpointType:b.WSEndpointType},datagram:function(){return!1},secure:function(){return this._secure}})})("undefined"===typeof global?window:global);
(function(k){var a=k.IceWS||{},b=a.EndpointI,c=(k.Ice||{}).Class({__init__:function(a,b){this._instance=a;this._secure=b},type:function(){return this._secure?a.WSSEndpointType:a.WSEndpointType},protocol:function(){return this._secure?"wss":"ws"},create:function(a,c){return b.fromString(this._instance,this._secure,a,c)},read:function(a){return b.fromStream(a,this._secure)},destroy:function(){this._instance=null}});a.EndpointFactory=c;k.IceWS=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.AsyncResultBase,c=a.ConnectionI,f=a.ConnectionReaper,g=a.ExUtil,d=a.HashMap,l=a.Promise,m=a.Class,h=m({__init__:function(a,b){this._communicator=a;this._instance=b;this._destroyed=!1;this._reaper=new f;this._connectionsByEndpoint=new e;this._pending=new d;this._pending.keyComparator=d.compareEquals;this._pendingConnectCount=0;this._waitPromise=null},destroy:function(){this._destroyed||(this._connectionsByEndpoint.forEach(function(a){a.destroy(c.CommunicatorDestroyed)}),
this._destroyed=!0,this._communicator=null,this.checkFinished())},waitUntilFinished:function(){this._waitPromise=new l;this.checkFinished();return this._waitPromise},create:function(a,b,c){a=this.applyOverrides(a);try{var d={value:!1},e=this.findConnectionByEndpoint(a,d);if(null!==e)return(new l).succeed(e,d.value)}catch(f){return(new l).fail(f)}return(new n(this,a,b,c)).start()},setRouterInfo:function(b){var c=this;return a.Promise.try(function(){if(c._destroyed)throw new a.CommunicatorDestroyedException;
return b.getClientEndpoints()}).then(function(a){for(var d=b.getAdapter(),e=c._instance.defaultsAndOverrides(),f=0;f<a.length;++f){var g=a[f];e.overrideTimeout&&(g=g.changeTimeout(e.overrideTimeoutValue));g=g.changeCompress(!1);c._connectionsByEndpoint.forEach(function(a){a.endpoint().equals(g)&&a.setAdapter(d)})}})},removeAdapter:function(a){this._destroyed||this._connectionsByEndpoint.forEach(function(b){b.getAdapter()===a&&b.setAdapter(null)})},flushAsyncBatchRequests:function(){var c=new b(this._communicator,
"flushBatchRequests",null,null,null);if(this._destroyed)c.succeed();else return l.all(this._connectionsByEndpoint.map(function(b){if(b.isActiveOrHolding())return b.flushBatchRequests().exception(function(b){if(!(b instanceof a.LocalException))throw b;})})).then(function(){c.succeed(c)},function(a){c.fail(a,c)}),c},applyOverrides:function(a){for(var b=this._instance.defaultsAndOverrides(),c=[],d=0;d<a.length;++d){var e=a[d];b.overrideTimeout?c.push(e.changeTimeout(b.overrideTimeoutValue)):c.push(e)}return c},
findConnectionByEndpoint:function(b,c){if(this._destroyed)throw new a.CommunicatorDestroyedException;for(var d=this._instance.defaultsAndOverrides(),e=0;e<b.length;++e){var f=b[e];if(!this._pending.has(f)){var g=this._connectionsByEndpoint.get(f);if(void 0!==g)for(var h=0;h<g.length;++h)if(g[h].isActiveOrHolding())return c.value=d.overrideCompress?d.overrideCompressValue:f.compress(),g[h]}}return null},incPendingConnectCount:function(){if(this._destroyed)throw new a.CommunicatorDestroyedException;
++this._pendingConnectCount},decPendingConnectCount:function(){--this._pendingConnectCount;this._destroyed&&0===this._pendingConnectCount&&this.checkFinished()},getConnection:function(b,c,d){if(this._destroyed)throw new a.CommunicatorDestroyedException;var e=this._reaper.swapConnections();if(null!==e)for(var f=0;f<e.length;++f){var g=e[f];this._connectionsByEndpoint.removeConnection(g.endpoint(),g);this._connectionsByEndpoint.removeConnection(g.endpoint().changeCompress(!0),g)}for(;;){if(this._destroyed)throw new a.CommunicatorDestroyedException;
d=this.findConnectionByEndpoint(b,d);if(null!==d)return d;if(this.addToPending(c,b))return null;break}c.nextEndpoint();return null},createConnection:function(b,d){var e=null;try{if(this._destroyed)throw new a.CommunicatorDestroyedException;e=new c(this._communicator,this._instance,this._reaper,b,d.changeCompress(!1),!1,null)}catch(f){if(f instanceof a.LocalException)try{b.close()}catch(g){}throw f;}this._connectionsByEndpoint.set(e.endpoint(),e);this._connectionsByEndpoint.set(e.endpoint().changeCompress(!0),
e);return e},finishGetConnection:function(a,b,c,d){var e=[];null!==d&&e.push(d);var f,g;d=[];for(f=0;f<a.length;++f){g=a[f];var h=this._pending.get(g);if(void 0!==h){this._pending.delete(g);for(var k=0;k<h.length;++k)g=h[k],g.hasEndpoint(b)?-1===e.indexOf(g)&&e.push(g):-1===d.indexOf(g)&&d.push(g)}}for(f=0;f<e.length;++f)g=e[f],g.removeFromPending(),a=d.indexOf(g),-1!==a&&d.splice(a,1);for(f=0;f<d.length;++f)g=d[f],g.removeFromPending();f=this._instance.defaultsAndOverrides();b=f.overrideCompress?
f.overrideCompressValue:b.compress();for(f=0;f<d.length;++f)g=d[f],g.getConnection();for(f=0;f<e.length;++f)g=e[f],g.setConnection(c,b);this.checkFinished()},finishGetConnectionEx:function(a,b,c){var d=[];null!==c&&d.push(c);var e,f=[];for(c=0;c<a.length;++c){e=a[c];var g=this._pending.get(e);if(void 0!==g){this._pending.delete(e);for(var h=0;h<g.length;++h)e=g[h],e.removeEndpoints(a)?-1===d.indexOf(e)&&d.push(e):-1===f.indexOf(e)&&f.push(e)}}for(c=0;c<f.length;++c)e=f[c],e.removeFromPending();this.checkFinished();
for(c=0;c<f.length;++c)e=f[c],e.getConnection();for(c=0;c<d.length;++c)e=d[c],e.setException(b)},addToPending:function(a,b){var c=!1,d,e;if(null!==a)for(e=0;e<b.length;++e)d=b[e],d=this._pending.get(d),void 0!==d&&(c=!0,-1===d.indexOf(a)&&d.push(a));if(c)return!0;for(e=0;e<b.length;++e)d=b[e],this._pending.has(d)||this._pending.set(d,[]);return!1},removeFromPending:function(a,b){for(var c=0;c<b.length;++c){var d=this._pending.get(b[c]);if(void 0!==d){var e=d.indexOf(a);-1!==e&&d.splice(e,1)}}},handleConnectionException:function(b,
c){var d=this._instance.traceLevels();if(2<=d.retry){var e=[];e.push("connection to endpoint failed");b instanceof a.CommunicatorDestroyedException?e.push("\n"):c?e.push(", trying next endpoint\n"):e.push(" and no more endpoints to try\n");e.push(g.toString(b));this._instance.initializationData().logger.trace(d.retryCat,e.join(""))}},handleException:function(b,c){var d=this._instance.traceLevels();if(2<=d.retry){var e=[];e.push("couldn't resolve endpoint host");b instanceof a.CommunicatorDestroyedException?
e.push("\n"):c?e.push(", trying next endpoint\n"):e.push(" and no more endpoints to try\n");e.push(g.toString(b));this._instance.initializationData().logger.trace(d.retryCat,e.join(""))}},checkFinished:function(){if(!(!this._waitPromise||!this._destroyed||0<this._pending.size||0<this._pendingConnectCount)){var a=this;l.all(a._connectionsByEndpoint.map(function(a){return a.waitUntilFinished().exception(function(a){})})).then(function(){if(null!==a._reaper.swapConnections()){for(var b=[],c=a._connectionsByEndpoint.entries;null!==
c;c=c.next)for(var d=c.value,e=0;e<d.length;++e)-1===b.indexOf(d[e])&&b.push(d[e]);a._connectionsByEndpoint.clear()}a._waitPromise.succeed()})}}});a.OutgoingConnectionFactory=h;k.Ice=a;var e=m(d,{__init__:function(a){d.call(this,a);this.keyComparator=d.compareEquals},set:function(a,b){var c=this.get(a);void 0===c&&(c=[],d.prototype.set.call(this,a,c));c.push(b)},removeConnection:function(a,b){var c=this.get(a),d=c.indexOf(b);c.splice(d,1);0===c.length&&this.delete(a)},map:function(a){var b=[];this.forEach(function(c){b.push(a(c))});
return b},forEach:function(a){for(var b=this._head;null!==b;b=b._next)for(var c=0;c<b.value.length;++c)a(b.value[c])}}),n=m({__init__:function(a,b,c,d){this._factory=a;this._endpoints=b;this._hasMore=c;this._selType=d;this._promise=new l;this._index=0;this._current=null},connectionStartCompleted:function(a){a.activate();this._factory.finishGetConnection(this._endpoints,this._current,a,this)},connectionStartFailed:function(b,c){c instanceof a.LocalException?(this._factory.handleConnectionException(c,
this._hasMore||this._index<this._endpoints.length),c instanceof a.CommunicatorDestroyedException?this._factory.finishGetConnectionEx(this._endpoints,c,this):this._index<this._endpoints.length?this.nextEndpoint():this._factory.finishGetConnectionEx(this._endpoints,c,this)):this._factory.finishGetConnectionEx(this._endpoints,c,this)},setConnection:function(a,b){this._promise.succeed(a,b);this._factory.decPendingConnectCount()},setException:function(a){this._promise.fail(a);this._factory.decPendingConnectCount()},
hasEndpoint:function(a){return-1!==this.findEndpoint(a)},findEndpoint:function(a){for(var b=0;b<this._endpoints.length;++b)if(a.equals(this._endpoints[b]))return b;return-1},removeEndpoints:function(a){for(var b=0;b<a.length;++b){var c=this.findEndpoint(a[b]);-1!==c&&this._endpoints.splice(c,1)}this._index=0;return 0===this._endpoints.length},removeFromPending:function(){this._factory.removeFromPending(this,this._endpoints)},start:function(){try{this._factory.incPendingConnectCount()}catch(a){this._promise.fail(a);
return}this.getConnection();return this._promise},getConnection:function(){try{var a={value:!1},b=this._factory.getConnection(this._endpoints,this,a);null!==b&&(this._promise.succeed(b,a.value),this._factory.decPendingConnectCount())}catch(c){this._promise.fail(c),this._factory.decPendingConnectCount()}},nextEndpoint:function(){var a=null;try{this._current=this._endpoints[this._index++];var a=this._factory.createConnection(this._current.connect(),this._current),b=this;a.start().then(function(){b.connectionStartCompleted(a)},
function(c){b.connectionStartFailed(a,c)})}catch(c){this.connectionStartFailed(a,c)}}})})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.BasicStream,c=a.EndpointParseException,f=a.OpaqueEndpointI,g=a.Protocol,d=a.Class({__init__:function(a){this._instance=a;this._factories=[]},add:function(a){for(var b=0;b<this._factories.length;++b);this._factories.push(a)},get:function(a){for(var b=0;b<this._factories.length;++b)if(this._factories[b].type()===a)return this._factories[b];return null},create:function(a,d){var h=a.trim();if(0===h.length)throw new c("value has no non-whitespace characters");var e,k="",
p;p=h.search(/[ \t\n\r]+/);-1===p?e=h:(e=h.substring(0,p),p<h.length&&(k=h.substring(p)));"default"===e&&(e=this._instance.defaultsAndOverrides().defaultProtocol);h=0;for(p=this._factories.length;h<p;++h)if(this._factories[h].protocol()===e)return this._factories[h].create(k,d);if("opaque"===e){e=f.fromString(k);h=0;for(p=this._factories.length;h<p;++h)if(this._factories[h].type()==e.type())return k=new b(this._instance,g.currentProtocolEncoding,!0),e.streamWrite(k),k.pos=0,k.readShort(),this._factories[h].read(k);
return e}return null},read:function(a){for(var b=a.readShort(),c=0;c<this._factories.length;++c)if(this._factories[c].type()==b)return this._factories[c].read(a);return f.fromStream(b,a)},destroy:function(){for(var a=0;a<this._factories.length;++a)this._factories[a].destroy();this._factories=[]}});a.EndpointFactoryManager=d;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.HashMap,c=a.LocatorInfo,f=a.LocatorTable,g=a.LocatorPrx,d=a.Class({__init__:function(a){this._background=0<a.getPropertyAsInt("Ice.BackgroundLocatorCacheUpdates");this._table=new b;this._table.keyComparator=b.compareEquals;this._locatorTables=new b;this._locatorTables.keyComparator=b.compareEquals},destroy:function(){for(var a=this._table.entries;null!==a;a=a.next)a.value.destroy();this._table.clear();this._locatorTables.clear()},find:function(a){if(null===a)return null;
a=g.uncheckedCast(a.ice_locator(null));var b=this._table.get(a);void 0===b&&(b=this._locatorTables.get(a.ice_getIdentity()),void 0===b&&(b=new f,this._locatorTables.set(a.ice_getIdentity(),b)),b=new c(a,b,this._background),this._table.set(a,b));return b}});a.LocatorManager=d;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.ObjectAdapterI,c=a.Promise,f=a.UUID,g=a.Class({__init__:function(a,b){this._instance=a;this._communicator=b;this._adapters=[];this._adapterNamesInUse=[];this._shutdownPromise=new c},shutdown:function(){if(null===this._instance)return this._shutdownPromise;this._communicator=this._instance=null;var a=this;c.all(this._adapters.map(function(a){return a.deactivate()})).then(function(){a._shutdownPromise.succeed()},function(b){a._shutdownPromise.fail(b)});return this._shutdownPromise},
waitForShutdown:function(){var a=this;return this._shutdownPromise.then(function(){return c.all(a._adapters.map(function(a){return a.waitForDeactivate()}))})},isShutdown:function(){return null===this._instance},destroy:function(){var a=this;return this.waitForShutdown().then(function(){return c.all(a._adapters.map(function(a){return a.destroy()}))})},createObjectAdapter:function(c,g,k){if(null===this._instance)throw new a.ObjectAdapterDeactivatedException;var h=null;try{if(0===c.length)var e=f.generateUUID(),
h=new b(this._instance,this._communicator,this,e,null,!0,k);else{if(-1!==this._adapterNamesInUse.indexOf(c))throw new a.AlreadyRegisteredException("object adapter",c);h=new b(this._instance,this._communicator,this,c,g,!1,k);this._adapterNamesInUse.push(c)}this._adapters.push(h)}catch(n){k.fail(n,k)}},removeObjectAdapter:function(a){if(null!==this._instance){var b=this._adapters.indexOf(a);-1!==b&&this._adapters.splice(b,1);b=this._adapterNamesInUse.indexOf(a.getName());-1!==b&&this._adapterNamesInUse.splice(b,
1)}}});a.ObjectAdapterFactory=g;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.AsyncResultBase,c=a.ConnectionMonitor,f=a.DefaultsAndOverrides,g=a.EndpointFactoryManager,d=a.ImplicitContextI,l=a.LocatorManager,m=a.ObjectAdapterFactory,h=a.ObjectFactoryManager,e=a.OutgoingConnectionFactory,n=a.Properties,p=a.ProxyFactory,t=a.RetryQueue,v=a.RouterManager,u=a.Timer,r=a.TraceLevels,w=a.ReferenceFactory,y=a.Class({__init__:function(a){this._state=0;this._initData=a;this._endpointFactoryManager=this._endpointHostResolver=this._retryQueue=this._protocolSupport=
this._objectAdapterFactory=this._servantFactoryManager=this._connectionMonitor=this._outgoingConnectionFactory=this._proxyFactory=this._referenceFactory=this._locatorManager=this._routerManager=this._implicitContext=this._serverACM=this._clientACM=this._messageSizeMax=this._defaultsAndOverrides=this._traceLevels=null},initializationData:function(){return this._initData},traceLevels:function(){return this._traceLevels},defaultsAndOverrides:function(){return this._defaultsAndOverrides},routerManager:function(){if(2===
this._state)throw new a.CommunicatorDestroyedException;return this._routerManager},locatorManager:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;return this._locatorManager},referenceFactory:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;return this._referenceFactory},proxyFactory:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;return this._proxyFactory},outgoingConnectionFactory:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;
return this._outgoingConnectionFactory},preferIPv6:function(){return this._preferIPv6},connectionMonitor:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;return this._connectionMonitor},servantFactoryManager:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;return this._servantFactoryManager},objectAdapterFactory:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;return this._objectAdapterFactory},protocolSupport:function(){if(2==
this._state)throw new a.CommunicatorDestroyedException;return this._protocolSupport},retryQueue:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;return this._retryQueue},timer:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;return this._timer},endpointFactoryManager:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;return this._endpointFactoryManager},messageSizeMax:function(){return this._messageSizeMax},clientACM:function(){return this._clientACM},
serverACM:function(){return this._serverACM},getImplicitContext:function(){return this._implicitContext},stringToIdentity:function(b){return a.stringToIdentity(b)},identityToString:function(b){return a.identityToString(b)},setDefaultLocator:function(b){if(2==this._state)throw new a.CommunicatorDestroyedException;this._referenceFactory=this._referenceFactory.setDefaultLocator(b)},setDefaultRouter:function(b){if(2==this._state)throw new a.CommunicatorDestroyedException;this._referenceFactory=this._referenceFactory.setDefaultRouter(b)},
setLogger:function(a){this._initData.logger=a},finishSetup:function(b,k){try{this._timer=new u;null===this._initData.properties&&(this._initData.properties=n.createProperties());null===this._initData.logger&&(this._initData.logger=a.getProcessLogger());this._traceLevels=new r(this._initData.properties);this._defaultsAndOverrides=new f(this._initData.properties);var y=this._initData.properties.getPropertyAsIntWithDefault("Ice.MessageSizeMax",1024);this._messageSizeMax=1>y?1048576:2097151.9990234375<
y?2147483647:1024*y;this._clientACM=this._initData.properties.getPropertyAsIntWithDefault("Ice.ACM.Client",60);this._serverACM=this._initData.properties.getPropertyAsInt("Ice.ACM.Server");this._implicitContext=d.create(this._initData.properties.getProperty("Ice.ImplicitContext"));this._routerManager=new v;this._locatorManager=new l(this._initData.properties);this._referenceFactory=new w(this,b);this._proxyFactory=new p(this);this._endpointFactoryManager=new g(this);"undefined"!==typeof a.TcpEndpointFactory&&
this._endpointFactoryManager.add(new a.TcpEndpointFactory(this));"undefined"!==typeof IceWS&&"undefined"!==typeof IceWS.EndpointFactory&&(this._endpointFactoryManager.add(new IceWS.EndpointFactory(this,!1)),this._endpointFactoryManager.add(new IceWS.EndpointFactory(this,!0)));this._outgoingConnectionFactory=new e(b,this);this._servantFactoryManager=new h;this._objectAdapterFactory=new m(this,b);this._retryQueue=new t(this);var z=a.RouterPrx.uncheckedCast(this._proxyFactory.propertyToProxy("Ice.Default.Router"));
null!==z&&(this._referenceFactory=this._referenceFactory.setDefaultRouter(z));var x=a.LocatorPrx.uncheckedCast(this._proxyFactory.propertyToProxy("Ice.Default.Locator"));null!==x&&(this._referenceFactory=this._referenceFactory.setDefaultLocator(x));var C=this._initData.properties.getPropertyAsInt("Ice.MonitorConnections");this._connectionMonitor=new c(this,C);this._connectionMonitor.checkIntervalForACM(this._clientACM);this._connectionMonitor.checkIntervalForACM(this._serverACM);null!==k&&k.succeed(b)}catch(D){if(null!==
k)D instanceof a.LocalException?this.destroy().finally(function(){k.fail(D)}):k.fail(D);else throw D instanceof a.LocalException&&this.destroy(),D;}},destroy:function(){var c=new b(null,"destroy",null,this,null);if(0!=this._state)return c.succeed(c),c;this._state=1;var d=this;a.Promise.try(function(){if(d._objectAdapterFactory)return d._objectAdapterFactory.shutdown()}).then(function(){null!==d._outgoingConnectionFactory&&d._outgoingConnectionFactory.destroy();if(null!==d._objectAdapterFactory)return d._objectAdapterFactory.destroy()}).then(function(){if(null!==
d._outgoingConnectionFactory)return d._outgoingConnectionFactory.waitUntilFinished()}).then(function(){d._retryQueue&&d._retryQueue.destroy();d._objectAdapterFactory=null;d._outgoingConnectionFactory=null;d._retryQueue=null;d._connectionMonitor&&(d._connectionMonitor.destroy(),d._connectionMonitor=null);d._timer&&(d._timer.destroy(),d._timer=null);d._servantFactoryManager&&(d._servantFactoryManager.destroy(),d._servantFactoryManager=null);d._referenceFactory&&(d._referenceFactory=null);d._proxyFactory=
null;d._routerManager&&(d._routerManager.destroy(),d._routerManager=null);d._locatorManager&&(d._locatorManager.destroy(),d._locatorManager=null);d._endpointFactoryManager&&(d._endpointFactoryManager.destroy(),d._endpointFactoryManager=null);d._state=2;if(0<d._initData.properties.getPropertyAsInt("Ice.Warn.UnusedProperties")){var a=d._initData.properties.getUnusedProperties();if(0<a.length){var b=[];b.push("The following properties were set but never read:");for(var e=0;e<a.length;++e)b.push("\n    "),
b.push(a[e]);d._initData.logger.warning(b.join(""))}}c.succeed(c)}).exception(function(a){c.fail(a)});return c}});a.Instance=y;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.Instance,c=a.UUID,f=a.Class({__init__:function(a){this._instance=new b(a)},finishSetup:function(a){this._instance.finishSetup(this,a)},destroy:function(){return this._instance.destroy()},shutdown:function(){this._instance.objectAdapterFactory().shutdown()},waitForShutdown:function(){return this._instance.objectAdapterFactory().waitForShutdown()},isShutdown:function(){return this._instance.objectAdapterFactory().isShutdown()},stringToProxy:function(a){return this._instance.proxyFactory().stringToProxy(a)},
proxyToString:function(a){return this._instance.proxyFactory().proxyToString(a)},propertyToProxy:function(a){return this._instance.proxyFactory().propertyToProxy(a)},proxyToProperty:function(a,b){return this._instance.proxyFactory().proxyToProperty(a,b)},stringToIdentity:function(a){return this._instance.stringToIdentity(a)},identityToString:function(a){return this._instance.identityToString(a)},createObjectAdapter:function(b){var c=new a.AsyncResultBase(this,"createObjectAdapter",this,null,null);
this._instance.objectAdapterFactory().createObjectAdapter(b,null,c);return c},createObjectAdapterWithEndpoints:function(b,d){0===b.length&&(b=c.generateUUID());this.getProperties().setProperty(b+".Endpoints",d);var f=new a.AsyncResultBase(this,"createObjectAdapterWithEndpoints",this,null,null);this._instance.objectAdapterFactory().createObjectAdapter(b,null,f);return f},createObjectAdapterWithRouter:function(b,d){0===b.length&&(b=c.generateUUID());for(var f=new a.AsyncResultBase(this,"createObjectAdapterWithRouter",
this,null,null),k=this.proxyToProperty(d,b+".Router").entries;null!==k;k=k.next)this.getProperties().setProperty(k.key,k.value);this._instance.objectAdapterFactory().createObjectAdapter(b,d,f);return f},addObjectFactory:function(a,b){this._instance.servantFactoryManager().add(a,b)},findObjectFactory:function(a){return this._instance.servantFactoryManager().find(a)},getImplicitContext:function(){return this._instance.getImplicitContext()},getProperties:function(){return this._instance.initializationData().properties},
getLogger:function(){return this._instance.initializationData().logger},getDefaultRouter:function(){return this._instance.referenceFactory().getDefaultRouter()},setDefaultRouter:function(a){this._instance.setDefaultRouter(a)},getDefaultLocator:function(){return this._instance.referenceFactory().getDefaultLocator()},setDefaultLocator:function(a){this._instance.setDefaultLocator(a)},flushBatchRequests:function(){return this._instance.outgoingConnectionFactory().flushAsyncBatchRequests()}});Object.defineProperty(f.prototype,
"instance",{get:function(){return this._instance}});a.Communicator=f;k.Ice=a})("undefined"===typeof global?window:global);
(function(k){var a=k.Ice||{},b=a.Protocol;a.InitializationData=function(){this.logger=this.properties=null};a.InitializationData.prototype.clone=function(){var b=new a.InitializationData;b.properties=this.properties;b.logger=this.logger;return b};a.initialize=function(b,f){var g=null,d=null;if(b instanceof Array)g=b;else if(b instanceof a.InitializationData)d=b;else if(void 0!==b&&null!==b)throw new a.InitializationException("invalid argument to initialize");if(void 0!==f&&null!==f)if(f instanceof
a.InitializationData&&null===d)d=f;else throw new a.InitializationException("invalid argument to initialize");d=null===d?new a.InitializationData:d.clone();d.properties=a.createProperties(g,d.properties);g=new a.Communicator(d);g.finishSetup(null);return g};a.createProperties=function(b,f){return new a.Properties(b,f)};a.currentProtocol=function(){return b.currentProtocol.clone()};a.currentEncoding=function(){return b.currentEncoding.clone()};k.Ice=a})("undefined"===typeof global?window:global);
